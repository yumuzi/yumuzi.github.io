<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>李彥傑</title>
  
  <subtitle>自由之思想，獨立之精神</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://yumuzi.github.io/"/>
  <updated>2017-11-11T12:42:21.286Z</updated>
  <id>https://yumuzi.github.io/</id>
  
  <author>
    <name>李彥傑</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>當前比較實用的同步盤簡介</title>
    <link href="https://yumuzi.github.io/cloud-drive.html"/>
    <id>https://yumuzi.github.io/cloud-drive.html</id>
    <published>2017-11-11T11:51:00.000Z</published>
    <updated>2017-11-11T12:42:21.286Z</updated>
    
    <content type="html"><![CDATA[<p>本文介紹的是能夠在不同設備之間進行文件同步的“同步盤”，而非百度網盤一類僅能夠存儲文件的雲盤，特此說明。隨著快盤等一眾同步盤的關閉，國內免費實用的同步盤幾乎全軍覆沒，為此本文僅介紹幾家國外的同步盤，供大家參考。</p><h2 id="MEGAsync1"><a href="#MEGAsync1" class="headerlink" title="MEGAsync1"></a>MEGAsync<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup></h2><p>Mega同步盤擁有50G的免費存儲空間，目前其<a href="https://mega.nz/" target="_blank" rel="external">官網</a>已無法訪問，但桌面客戶端和手機APP仍然可用。若要使用需在官網註冊賬號，註冊頁面<a href="https://mega.nz/register" target="_blank" rel="external">傳送門</a>。</p><p>推薦指數：★★★★☆</p><h2 id="OneDrive2"><a href="#OneDrive2" class="headerlink" title="OneDrive2"></a>OneDrive<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup></h2><p>OneDrive同步盤擁有5G的免費存儲空間，目前其<a href="https://onedrive.live.com/" target="_blank" rel="external">官網</a>已無法訪問，但桌面客戶端和手機APP仍然可用，而且同步速度極快。作為微軟的一款應用，若要使用僅需申請一個微軟郵箱即可，<a href="https://outlook.live.com/owa/" target="_blank" rel="external">Outlook</a>, <a href="https://signup.live.com/signup?lcid=1033&amp;wa=wsignin1.0&amp;rpsnv=13&amp;ct=1510402856&amp;rver=6.7.6640.0&amp;wp=MBI_SSL&amp;wreply=https%3a%2f%2foutlook.live.com%2fowa%2f%3fnlp%3d1%26signup%3d1%26RpsCsrfState%3d2227d956-70ea-518a-dd2c-1c5c73b155b9&amp;id=292841&amp;CBCXT=out&amp;lw=1&amp;fl=dob%2cflname%2cwld&amp;cobrandid=90015&amp;uaid=4cff0e2ac93c4106b3446ee8d2ca7ffb&amp;lic=1" target="_blank" rel="external">Hotmail</a>。</p><p>推薦指數：★★★★★</p><h2 id="Google-Drive3"><a href="#Google-Drive3" class="headerlink" title="Google Drive3"></a>Google Drive<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup></h2><p>GoogleDrive是谷歌旗下的一款同步盤，擁有15G的免費存儲空間，是一款非常優秀的同步盤應用，與谷歌的其它服務結合使用，能很大程度上提高工作效率。但由於谷歌於2010年退出中國大陸，故其服務已無法訪問。其使用與OneDrive類似，需要申請一個<a href="https://mail.google.com/" target="_blank" rel="external">Gmail</a>郵箱。</p><p>推薦指數：★★★★</p><h2 id="Dropbox4"><a href="#Dropbox4" class="headerlink" title="Dropbox4"></a>Dropbox<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup></h2><p>Dropbox提供2G免費存儲空間，其最大的特點是增量同步，無需將整個文件重新上傳，節省流量資源和時間，但其服務國內無法訪問。</p><p>推薦指數：★★★★</p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;"><a href="https://mega.nz/" target="_blank" rel="external">Mega.nz</a></span><a href="#fnref:1" rev="footnote"> ↩</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;"><a href="https://onedrive.live.com/" target="_blank" rel="external">Microsoft OneDrive</a></span><a href="#fnref:2" rev="footnote"> ↩</a></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">3.</span><span style="display: inline-block; vertical-align: top;"><a href="https://www.google.com/drive/" target="_blank" rel="external">Google Drive</a></span><a href="#fnref:3" rev="footnote"> ↩</a></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">4.</span><span style="display: inline-block; vertical-align: top;"><a href="https://www.dropbox.com/" target="_blank" rel="external">Dropbox</a></span><a href="#fnref:4" rev="footnote"> ↩</a></li></ol></div></div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;本文介紹的是能夠在不同設備之間進行文件同步的“同步盤”，而非百度網盤一類僅能夠存儲文件的雲盤，特此說明。隨著快盤等一眾同步盤的關閉，國內免費實用的同步盤幾乎全軍覆沒，為此本文僅介紹幾家國外的同步盤，供大家參考。&lt;/p&gt;
&lt;h2 id=&quot;MEGAsync1&quot;&gt;&lt;a href=
      
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="同步盤" scheme="https://yumuzi.github.io/tags/%E5%90%8C%E6%AD%A5%E7%9B%A4/"/>
    
      <category term="雲盤" scheme="https://yumuzi.github.io/tags/%E9%9B%B2%E7%9B%A4/"/>
    
      <category term="mega" scheme="https://yumuzi.github.io/tags/mega/"/>
    
      <category term="onedrive" scheme="https://yumuzi.github.io/tags/onedrive/"/>
    
      <category term="googledrive" scheme="https://yumuzi.github.io/tags/googledrive/"/>
    
      <category term="dropbox" scheme="https://yumuzi.github.io/tags/dropbox/"/>
    
  </entry>
  
  <entry>
    <title>Windows系統下安裝Hexo博客及配置NexT模板</title>
    <link href="https://yumuzi.github.io/windows-hexo-next.html"/>
    <id>https://yumuzi.github.io/windows-hexo-next.html</id>
    <published>2017-11-05T09:53:23.000Z</published>
    <updated>2017-11-07T13:54:07.640Z</updated>
    
    <content type="html"><![CDATA[<p>Ubuntu系統下Hexo博客及NexT模板的安裝與配置請參考我的另外兩篇博文<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>, <sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>。</p><p>由於，網絡上此類文章多如牛毛，本文僅列出相關參考文檔。</p><h2 id="Hexo博客安裝"><a href="#Hexo博客安裝" class="headerlink" title="Hexo博客安裝"></a>Hexo博客安裝</h2><ul><li><a href="http://lowrank.science/Hexo-Github/" target="_blank" rel="external">知行合一 | 用 Hexo 搭建博客</a><sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup></li></ul><h2 id="NexT模板配置"><a href="#NexT模板配置" class="headerlink" title="NexT模板配置"></a>NexT模板配置</h2><ul><li>NexT模板下載地址：<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">hexo-theme-next</a></li><li><a href="http://theme-next.iissnan.com/theme-settings.html" target="_blank" rel="external">NexT官方手冊：主題配置</a></li><li><a href="http://theme-next.iissnan.com/faqs.html" target="_blank" rel="external">NexT官方手冊：常見問題</a></li><li><a href="https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html" target="_blank" rel="external">打造个性超赞博客Hexo+NexT+GithubPages的超深度优化</a><sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup></li><li><a href="http://www.ehcoo.com/seo.html" target="_blank" rel="external">【搜索优化】Hexo-next百度和谷歌搜索优化</a><sup id="fnref:5"><a href="#fn:5" rel="footnote">5</a></sup></li><li>文章底部添加版權聲明信息<sup id="fnref:6"><a href="#fn:6" rel="footnote">6</a></sup></li><li>修改文章底部那個帶#號的標籤<sup id="fnref:7"><a href="#fn:7" rel="footnote">7</a></sup></li></ul><a id="more"></a><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;"><a href="https://yumuzi.github.io/Hexo-Ubuntu-GithubPages/">Hexo-Ubuntu-GithubPages 搭建独立博客</a></span><a href="#fnref:1" rev="footnote"> ↩</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;"><a href="https://yumuzi.github.io/hexo-next-theme/">Hexo 博客 NexT 模板配置之记录</a></span><a href="#fnref:2" rev="footnote"> ↩</a></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">3.</span><span style="display: inline-block; vertical-align: top;">安裝過程相當完善，僅參考此一篇文章即可。</span><a href="#fnref:3" rev="footnote"> ↩</a></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">4.</span><span style="display: inline-block; vertical-align: top;">近乎完美的教程，非常推薦！</span><a href="#fnref:4" rev="footnote"> ↩</a></li><li id="fn:5"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">5.</span><span style="display: inline-block; vertical-align: top;">搜索優化，使用時有取捨。</span><a href="#fnref:5" rev="footnote"> ↩</a></li><li id="fn:6"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">6.</span><span style="display: inline-block; vertical-align: top;"><a href="http://www.crocutax.com/2017/05/20/Hexo%E6%8C%81%E7%BB%AD%E4%BC%98%E5%8C%96-%E5%9C%A8%E6%96%87%E7%AB%A0%E5%B0%BE%E9%83%A8%E6%B7%BB%E5%8A%A0%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E%E4%BF%A1%E6%81%AF/" target="_blank" rel="external">Hexo持续优化-在文章尾部添加版权声明信息</a></span><a href="#fnref:6" rev="footnote"> ↩</a></li><li id="fn:7"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">7.</span><span style="display: inline-block; vertical-align: top;"><a href="https://segmentfault.com/a/1190000009544924#articleHeader5" target="_blank" rel="external">hexo的next主题个性化配置教程</a></span><a href="#fnref:7" rev="footnote"> ↩</a></li></ol></div></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Ubuntu系統下Hexo博客及NexT模板的安裝與配置請參考我的另外兩篇博文&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;, &lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;#fn:2&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;由於，網絡上此類文章多如牛毛，本文僅列出相關參考文檔。&lt;/p&gt;
&lt;h2 id=&quot;Hexo博客安裝&quot;&gt;&lt;a href=&quot;#Hexo博客安裝&quot; class=&quot;headerlink&quot; title=&quot;Hexo博客安裝&quot;&gt;&lt;/a&gt;Hexo博客安裝&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://lowrank.science/Hexo-Github/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;知行合一 | 用 Hexo 搭建博客&lt;/a&gt;&lt;sup id=&quot;fnref:3&quot;&gt;&lt;a href=&quot;#fn:3&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;NexT模板配置&quot;&gt;&lt;a href=&quot;#NexT模板配置&quot; class=&quot;headerlink&quot; title=&quot;NexT模板配置&quot;&gt;&lt;/a&gt;NexT模板配置&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;NexT模板下載地址：&lt;a href=&quot;https://github.com/iissnan/hexo-theme-next&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;hexo-theme-next&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://theme-next.iissnan.com/theme-settings.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NexT官方手冊：主題配置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://theme-next.iissnan.com/faqs.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NexT官方手冊：常見問題&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;打造个性超赞博客Hexo+NexT+GithubPages的超深度优化&lt;/a&gt;&lt;sup id=&quot;fnref:4&quot;&gt;&lt;a href=&quot;#fn:4&quot; rel=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ehcoo.com/seo.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;【搜索优化】Hexo-next百度和谷歌搜索优化&lt;/a&gt;&lt;sup id=&quot;fnref:5&quot;&gt;&lt;a href=&quot;#fn:5&quot; rel=&quot;footnote&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;文章底部添加版權聲明信息&lt;sup id=&quot;fnref:6&quot;&gt;&lt;a href=&quot;#fn:6&quot; rel=&quot;footnote&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;修改文章底部那個帶#號的標籤&lt;sup id=&quot;fnref:7&quot;&gt;&lt;a href=&quot;#fn:7&quot; rel=&quot;footnote&quot;&gt;7&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="hexo" scheme="https://yumuzi.github.io/tags/hexo/"/>
    
      <category term="next" scheme="https://yumuzi.github.io/tags/next/"/>
    
      <category term="windows" scheme="https://yumuzi.github.io/tags/windows/"/>
    
      <category term="github" scheme="https://yumuzi.github.io/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>决策树与R语言</title>
    <link href="https://yumuzi.github.io/decisionTreeR.html"/>
    <id>https://yumuzi.github.io/decisionTreeR.html</id>
    <published>2016-12-12T15:20:05.000Z</published>
    <updated>2017-11-05T15:31:14.681Z</updated>
    
    <content type="html"><![CDATA[<h1 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h1><ul><li><a href="http://www.cnblogs.com/jpld/p/4868761.html" target="_blank" rel="external">【R语言进行数据挖掘】决策树和随机森林</a></li></ul><h1 id="使用包party"><a href="#使用包party" class="headerlink" title="使用包party"></a>使用包<code>party</code></h1><ul><li>学习使用包<code>party</code>里的函数<code>ctree()</code>为数据集iris建立一个决策树；</li><li>四个属性：<br>(1) 属性<code>Sepal.Length</code>：萼片长度<br>(2) 属性<code>Sepal.Width</code>：萼片宽度<br>(3) 属性<code>Petal.Length</code>：花瓣长度<br>(4) 属性<code>Petal.Width</code>：花瓣宽度</li><li>上述四个属性被用来预测鸢(yuan1)尾花的<code>Species</code>（种类）；</li><li>在这个包里，函数<code>ctree()</code>建立了一个决策树，函数<code>predict()</code>预测了另外一个数据集；</li><li>在建立模型之前，iris（鸢尾花）数据集被分成两个子集：训练集（70%）和测试集（30%）。使用随机种子设置固定的随机数，可以使得随机选取的数据是可重复利用的；</li></ul><hr><a id="more"></a><ul><li>观察数据集的结构</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt; str(iris)</div><div class="line"></div><div class="line"><span class="string">'data.frame'</span>:    <span class="number">150</span> obs. of  <span class="number">5</span> variables:</div><div class="line"> $ Sepal.Length: num  <span class="number">5.1</span> <span class="number">4.9</span> <span class="number">4.7</span> <span class="number">4.6</span> <span class="number">5</span> <span class="number">5.4</span> <span class="number">4.6</span> <span class="number">5</span> <span class="number">4.4</span> <span class="number">4.9</span> <span class="keyword">...</span></div><div class="line"> $ Sepal.Width : num  <span class="number">3.5</span> <span class="number">3</span> <span class="number">3.2</span> <span class="number">3.1</span> <span class="number">3.6</span> <span class="number">3.9</span> <span class="number">3.4</span> <span class="number">3.4</span> <span class="number">2.9</span> <span class="number">3.1</span> <span class="keyword">...</span></div><div class="line"> $ Petal.Length: num  <span class="number">1.4</span> <span class="number">1.4</span> <span class="number">1.3</span> <span class="number">1.5</span> <span class="number">1.4</span> <span class="number">1.7</span> <span class="number">1.4</span> <span class="number">1.5</span> <span class="number">1.4</span> <span class="number">1.5</span> <span class="keyword">...</span></div><div class="line"> $ Petal.Width : num  <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.4</span> <span class="number">0.3</span> <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.1</span> <span class="keyword">...</span></div><div class="line"> $ Species     : Factor w/ <span class="number">3</span> levels <span class="string">"setosa"</span>,<span class="string">"versicolor"</span>,..: <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="keyword">...</span></div></pre></td></tr></table></figure><ul><li>设置随机数起点</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; set.seed(<span class="number">1234</span>)</div></pre></td></tr></table></figure><ul><li>使用<code>sample()</code>函数抽取样本</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; ind &lt;- sample(<span class="number">2</span>,nrow(iris),replace=<span class="literal">TRUE</span>,prob = c(<span class="number">0.7</span>,<span class="number">0.3</span>))</div></pre></td></tr></table></figure><ul><li>训练集 &amp; 测试集</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; trainData &lt;- iris[ind == <span class="number">1</span>,]</div><div class="line">&gt; testData &lt;- iris[ind == <span class="number">2</span>,]</div></pre></td></tr></table></figure><ul><li>（安装并）加载包</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&gt; install.packages(<span class="string">"party"</span>)  <span class="comment"># 可能需要执行两遍</span></div><div class="line"></div><div class="line">&gt; <span class="keyword">library</span>(grid)</div><div class="line">&gt; <span class="keyword">library</span>(mvtnorm)</div><div class="line">&gt; <span class="keyword">library</span>(stats4)</div><div class="line">&gt; <span class="keyword">library</span>(modeltools)</div><div class="line">&gt; <span class="keyword">library</span>(zoo)</div><div class="line">&gt; <span class="keyword">library</span>(strucchange)</div><div class="line">&gt; <span class="keyword">library</span>(sandwich)</div><div class="line">&gt; <span class="keyword">library</span>(party)</div></pre></td></tr></table></figure><ul><li>设置决策树的目标变量和独立变量</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 符号‘~’是连接方程或公式左右两边的符号</span></div><div class="line">&gt; myFormula &lt;- Species ~ Sepal.Length + Sepal.Width + Petal.Length + Petal.Width</div></pre></td></tr></table></figure><ul><li>建立决策树</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; iris_ctree &lt;- ctree(myFormula, data=trainData)</div></pre></td></tr></table></figure><ul><li>查看训练结果</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&gt; table(predict(iris_ctree),trainData$Species)</div><div class="line"></div><div class="line">             setosa versicolor virginica</div><div class="line">  setosa         <span class="number">40</span>          <span class="number">0</span>         <span class="number">0</span></div><div class="line">  versicolor      <span class="number">0</span>         <span class="number">37</span>         <span class="number">3</span></div><div class="line">  virginica       <span class="number">0</span>          <span class="number">1</span>        <span class="number">31</span></div></pre></td></tr></table></figure><ul><li>打印决策树</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&gt; print(iris_ctree)</div><div class="line"></div><div class="line">     Conditional inference tree with <span class="number">4</span> terminal nodes</div><div class="line"></div><div class="line">Response:  Species </div><div class="line">Inputs:  Sepal.Length, Sepal.Width, Petal.Length, Petal.Width </div><div class="line">Number of observations:  <span class="number">112</span> </div><div class="line"></div><div class="line"><span class="number">1</span>) Petal.Length &lt;= <span class="number">1.9</span>; criterion = <span class="number">1</span>, statistic = <span class="number">104.643</span></div><div class="line">  <span class="number">2</span>)*  weights = <span class="number">40</span> </div><div class="line"><span class="number">1</span>) Petal.Length &gt; <span class="number">1.9</span></div><div class="line">  <span class="number">3</span>) Petal.Width &lt;= <span class="number">1.7</span>; criterion = <span class="number">1</span>, statistic = <span class="number">48.939</span></div><div class="line">    <span class="number">4</span>) Petal.Length &lt;= <span class="number">4.4</span>; criterion = <span class="number">0.974</span>, statistic = <span class="number">7.397</span></div><div class="line">      <span class="number">5</span>)*  weights = <span class="number">21</span> </div><div class="line">    <span class="number">4</span>) Petal.Length &gt; <span class="number">4.4</span></div><div class="line">      <span class="number">6</span>)*  weights = <span class="number">19</span> </div><div class="line">  <span class="number">3</span>) Petal.Width &gt; <span class="number">1.7</span></div><div class="line">    <span class="number">7</span>)*  weights = <span class="number">32</span></div></pre></td></tr></table></figure><ul><li>绘图</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;</span><span class="bash"> plot(iris_ctree)</span></div><div class="line"><span class="meta">&gt;</span><span class="bash"> plot(iris_ctree,<span class="built_in">type</span>=<span class="string">"simple"</span>)</span></div></pre></td></tr></table></figure><p><img src="https://github.com/yumuzi/images/raw/master/20161212_iris_dtc1.png" alt=""></p><p><img src="https://github.com/yumuzi/images/raw/master/20161212_iris_dtc2.png" alt=""></p><ul><li>在测试集上测试决策树模型</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; testPred &lt;- predict(iris_ctree, newdata = testData)</div><div class="line">&gt; table(testPred, testData$Species)</div><div class="line"></div><div class="line">testPred     setosa versicolor virginica</div><div class="line">  setosa         <span class="number">10</span>          <span class="number">0</span>         <span class="number">0</span></div><div class="line">  versicolor      <span class="number">0</span>         <span class="number">12</span>         <span class="number">2</span></div><div class="line">  virginica       <span class="number">0</span>          <span class="number">0</span>        <span class="number">14</span></div></pre></td></tr></table></figure><ul><li>代码汇总</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">str(iris)</div><div class="line">set.seed(<span class="number">1234</span>)</div><div class="line"></div><div class="line">ind &lt;- sample(<span class="number">2</span>,nrow(iris),replace=<span class="literal">TRUE</span>,prob = c(<span class="number">0.7</span>,<span class="number">0.3</span>))</div><div class="line">trainData &lt;- iris[ind == <span class="number">1</span>,]</div><div class="line">testData &lt;- iris[ind == <span class="number">2</span>,]</div><div class="line"></div><div class="line"><span class="keyword">library</span>(grid)</div><div class="line"><span class="keyword">library</span>(mvtnorm)</div><div class="line"><span class="keyword">library</span>(stats4)</div><div class="line"><span class="keyword">library</span>(modeltools)</div><div class="line"><span class="keyword">library</span>(zoo)</div><div class="line"><span class="keyword">library</span>(strucchange)</div><div class="line"><span class="keyword">library</span>(sandwich)</div><div class="line"><span class="keyword">library</span>(party)</div><div class="line"></div><div class="line">myFormula &lt;- Species ~ Sepal.Length + Sepal.Width + Petal.Length + Petal.Width</div><div class="line">iris_ctree &lt;- ctree(myFormula, data=trainData)</div><div class="line"></div><div class="line">table(predict(iris_ctree),trainData$Species)</div><div class="line"></div><div class="line">print(iris_ctree)</div><div class="line">plot(iris_ctree)</div><div class="line">plot(iris_ctree,type=<span class="string">"simple"</span>)</div><div class="line"></div><div class="line">testPred &lt;- predict(iris_ctree, newdata = testData)</div><div class="line">table(testPred, testData$Species)</div></pre></td></tr></table></figure><h1 id="使用包rpart"><a href="#使用包rpart" class="headerlink" title="使用包rpart"></a>使用包<code>rpart</code></h1><ul><li>在<code>bodyfat</code>这个数据集基础上建立决策树；</li><li>函数<code>rpart()</code>可以建立一个决策树，并且可以选择最小误差的预测；</li><li>利用该决策树使用<code>predict()</code>函数预测另外一个数据集；</li></ul><hr><ul><li>加载<code>bodyfat</code>数据集，并查看它的一些属性</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt; data(<span class="string">"bodyfat"</span>, package = <span class="string">"TH.data"</span>)</div><div class="line">&gt; dim(bodyfat)  <span class="comment"># 维度 a x b</span></div><div class="line"></div><div class="line">[<span class="number">1</span>] <span class="number">71</span> <span class="number">10</span></div></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&gt; attributes(bodyfat)</div><div class="line"></div><div class="line">$names</div><div class="line"> [<span class="number">1</span>] <span class="string">"age"</span>          <span class="string">"DEXfat"</span>       <span class="string">"waistcirc"</span>   </div><div class="line"> [<span class="number">4</span>] <span class="string">"hipcirc"</span>      <span class="string">"elbowbreadth"</span> <span class="string">"kneebreadth"</span> </div><div class="line"> [<span class="number">7</span>] <span class="string">"anthro3a"</span>     <span class="string">"anthro3b"</span>     <span class="string">"anthro3c"</span>    </div><div class="line">[<span class="number">10</span>] <span class="string">"anthro4"</span>     </div><div class="line"></div><div class="line">$row.names</div><div class="line"> [<span class="number">1</span>] <span class="string">"47"</span>  <span class="string">"48"</span>  <span class="string">"49"</span>  <span class="string">"50"</span>  <span class="string">"51"</span>  <span class="string">"52"</span>  <span class="string">"53"</span>  <span class="string">"54"</span>  <span class="string">"55"</span> </div><div class="line">[<span class="number">10</span>] <span class="string">"56"</span>  <span class="string">"57"</span>  <span class="string">"58"</span>  <span class="string">"59"</span>  <span class="string">"60"</span>  <span class="string">"61"</span>  <span class="string">"62"</span>  <span class="string">"63"</span>  <span class="string">"64"</span> </div><div class="line">[<span class="number">19</span>] <span class="string">"65"</span>  <span class="string">"66"</span>  <span class="string">"67"</span>  <span class="string">"68"</span>  <span class="string">"69"</span>  <span class="string">"70"</span>  <span class="string">"71"</span>  <span class="string">"72"</span>  <span class="string">"73"</span> </div><div class="line">[<span class="number">28</span>] <span class="string">"74"</span>  <span class="string">"75"</span>  <span class="string">"76"</span>  <span class="string">"77"</span>  <span class="string">"78"</span>  <span class="string">"79"</span>  <span class="string">"80"</span>  <span class="string">"81"</span>  <span class="string">"82"</span> </div><div class="line">[<span class="number">37</span>] <span class="string">"83"</span>  <span class="string">"84"</span>  <span class="string">"85"</span>  <span class="string">"86"</span>  <span class="string">"87"</span>  <span class="string">"88"</span>  <span class="string">"89"</span>  <span class="string">"90"</span>  <span class="string">"91"</span> </div><div class="line">[<span class="number">46</span>] <span class="string">"92"</span>  <span class="string">"93"</span>  <span class="string">"94"</span>  <span class="string">"95"</span>  <span class="string">"96"</span>  <span class="string">"97"</span>  <span class="string">"98"</span>  <span class="string">"99"</span>  <span class="string">"100"</span></div><div class="line">[<span class="number">55</span>] <span class="string">"101"</span> <span class="string">"102"</span> <span class="string">"103"</span> <span class="string">"104"</span> <span class="string">"105"</span> <span class="string">"106"</span> <span class="string">"107"</span> <span class="string">"108"</span> <span class="string">"109"</span></div><div class="line">[<span class="number">64</span>] <span class="string">"110"</span> <span class="string">"111"</span> <span class="string">"112"</span> <span class="string">"113"</span> <span class="string">"114"</span> <span class="string">"115"</span> <span class="string">"116"</span> <span class="string">"117"</span></div><div class="line"></div><div class="line">$class</div><div class="line">[<span class="number">1</span>] <span class="string">"data.frame"</span></div></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt; body[<span class="number">1</span>:<span class="number">5</span>,]</div><div class="line"></div><div class="line">   age DEXfat waistcirc hipcirc elbowbreadth kneebreadth anthro3a anthro3b anthro3c anthro4</div><div class="line"><span class="number">47</span>  <span class="number">57</span>  <span class="number">41.68</span>     <span class="number">100.0</span>   <span class="number">112.0</span>          <span class="number">7.1</span>         <span class="number">9.4</span>     <span class="number">4.42</span>     <span class="number">4.95</span>     <span class="number">4.50</span>    <span class="number">6.13</span></div><div class="line"><span class="number">48</span>  <span class="number">65</span>  <span class="number">43.29</span>      <span class="number">99.5</span>   <span class="number">116.5</span>          <span class="number">6.5</span>         <span class="number">8.9</span>     <span class="number">4.63</span>     <span class="number">5.01</span>     <span class="number">4.48</span>    <span class="number">6.37</span></div><div class="line"><span class="number">49</span>  <span class="number">59</span>  <span class="number">35.41</span>      <span class="number">96.0</span>   <span class="number">108.5</span>          <span class="number">6.2</span>         <span class="number">8.9</span>     <span class="number">4.12</span>     <span class="number">4.74</span>     <span class="number">4.60</span>    <span class="number">5.82</span></div><div class="line"><span class="number">50</span>  <span class="number">58</span>  <span class="number">22.79</span>      <span class="number">72.0</span>    <span class="number">96.5</span>          <span class="number">6.1</span>         <span class="number">9.2</span>     <span class="number">4.03</span>     <span class="number">4.48</span>     <span class="number">3.91</span>    <span class="number">5.66</span></div><div class="line"><span class="number">51</span>  <span class="number">60</span>  <span class="number">36.42</span>      <span class="number">89.5</span>   <span class="number">100.5</span>          <span class="number">7.1</span>        <span class="number">10.0</span>     <span class="number">4.24</span>     <span class="number">4.68</span>     <span class="number">4.15</span>    <span class="number">5.91</span></div></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt; set.seed(<span class="number">1234</span>)</div><div class="line">&gt; ind &lt;- sample(<span class="number">2</span>, nrow(bodyfat), replace = <span class="literal">TRUE</span>, prob = c(<span class="number">0.7</span>,<span class="number">0.3</span>))</div><div class="line">&gt; bodyfat.train &lt;- bodyfat[ind == <span class="number">1</span>,]</div><div class="line">&gt; bodyfat.test &lt;- bodyfat[ind == <span class="number">2</span>,]</div><div class="line">&gt; <span class="keyword">library</span>(rpart)</div></pre></td></tr></table></figure><ul><li>编写公式</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; myFormula &lt;- DEXfat ~ age + waistcirc + hipcirc + elbowbreadth + kneebreadth</div></pre></td></tr></table></figure><ul><li>训练决策树</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; bodyfat_rpart &lt;- rpart(myFormula, data = bodyfat.train, control = rpart.control(minsplit = <span class="number">10</span>))</div></pre></td></tr></table></figure><ul><li>绘制决策树</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">library</span>(rattle)</div><div class="line">&gt; <span class="keyword">library</span>(rpart.plot)</div><div class="line">&gt; <span class="keyword">library</span>(RColorBrewer)</div><div class="line">&gt; fancyRpartPlot(bodyfat_rpart)</div></pre></td></tr></table></figure><p><img src="https://github.com/yumuzi/images/raw/master/20161212_bodyfat_dtc1.png" alt=""></p><ul><li>选择预测误差最小值的预测树，从而优化模型</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt; opt &lt;- which.min(bodyfat_rpart$cptable[,<span class="string">"xerror"</span>])</div><div class="line">&gt; cp &lt;- bodyfat_rpart$cptable[opt,<span class="string">"CP"</span>]</div><div class="line">&gt; bodyfat_prune &lt;- prune(bodyfat_rpart, cp = cp)</div><div class="line">&gt; fancyRpartPlot(bodyfat_prune)</div></pre></td></tr></table></figure><p><img src="https://github.com/yumuzi/images/raw/master/20161212_bodyfat_dtc2.png" alt=""></p><ul><li>在测试集上测试，并与实际值进行对比</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt; DEXfat_pred &lt;- predict(bodyfat_prune, newdata = bodyfat.test)</div><div class="line">&gt; xlim &lt;- range(bodyfat$DEXfat)</div><div class="line">&gt; plot(DEXfat_pred ~ DEXfat, data = bodyfat.test, xlab = <span class="string">"Observed"</span>, ylab = <span class="string">"Predicted"</span>, ylim = xlim, xlim = xlim)</div><div class="line">&gt; abline(a = <span class="number">0</span>, b = <span class="number">1</span>)</div></pre></td></tr></table></figure><p><img src="https://github.com/yumuzi/images/raw/master/20161212_bodyfat_dtc3.png" alt=""></p><ul><li>代码汇总</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">data(<span class="string">"bodyfat"</span>, package = <span class="string">"TH.data"</span>)</div><div class="line">dim(bodyfat)</div><div class="line"></div><div class="line">attributes(bodyfat)</div><div class="line"></div><div class="line">body[<span class="number">1</span>:<span class="number">5</span>,]</div><div class="line"></div><div class="line">set.seed(<span class="number">1234</span>)</div><div class="line">ind &lt;- sample(<span class="number">2</span>, nrow(bodyfat), replace = <span class="literal">TRUE</span>, prob = c(<span class="number">0.7</span>,<span class="number">0.3</span>))</div><div class="line">bodyfat.train &lt;- bodyfat[ind == <span class="number">1</span>,]</div><div class="line">bodyfat.test &lt;- bodyfat[ind == <span class="number">2</span>,]</div><div class="line"><span class="keyword">library</span>(rpart)</div><div class="line"></div><div class="line">myFormula &lt;- DEXfat ~ age + waistcirc + hipcirc + elbowbreadth + kneebreadth</div><div class="line"></div><div class="line">bodyfat_rpart &lt;- rpart(myFormula, data = bodyfat.train, control = rpart.control(minsplit = <span class="number">10</span>))</div><div class="line"></div><div class="line"><span class="keyword">library</span>(rattle)</div><div class="line"><span class="keyword">library</span>(rpart.plot)</div><div class="line"><span class="keyword">library</span>(RColorBrewer)</div><div class="line">fancyRpartPlot(bodyfat_rpart)</div><div class="line"></div><div class="line">opt &lt;- which.min(bodyfat_rpart$cptable[,<span class="string">"xerror"</span>])</div><div class="line">cp &lt;- bodyfat_rpart$cptable[opt,<span class="string">"CP"</span>]</div><div class="line">bodyfat_prune &lt;- prune(bodyfat_rpart, cp = cp)</div><div class="line">fancyRpartPlot(bodyfat_prune)</div><div class="line"></div><div class="line">DEXfat_pred &lt;- predict(bodyfat_prune, newdata = bodyfat.test)</div><div class="line">xlim &lt;- range(bodyfat$DEXfat)</div><div class="line">plot(DEXfat_pred ~ DEXfat, data = bodyfat.test, xlab = <span class="string">"Observed"</span>, ylab = <span class="string">"Predicted"</span>, ylim = xlim, xlim = xlim)</div><div class="line">abline(a = <span class="number">0</span>, b = <span class="number">1</span>)</div></pre></td></tr></table></figure><h1 id="使用随机森林"><a href="#使用随机森林" class="headerlink" title="使用随机森林"></a>使用随机森林</h1><ul><li>这里使用包<code>randomForest</code>，并利用iris(鸢尾花)数据建立一个预测模型；</li><li>包里面的<code>randomForest()</code>函数有两点不足：第一，它不能处理缺失值，使得用户必须在使用该函数之前填补这些缺失值；第二，每个分类属性的最大数量不能超过32个，如果属性超过32个，那么在使用该函数之前那些属性必须被转化；</li><li>另外，也可以通过包<code>cforest</code>建立随机森林，并且该包里面的函数并不受属性的最大数量限制，尽管如此，高维的分类属性会使得它建立随机森林的时候消耗大量的内存和时间；</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&gt; ind &lt;- sample(<span class="number">2</span>, nrow(iris), replace = <span class="literal">TRUE</span>, prob = c(<span class="number">0.7</span>, <span class="number">0.3</span>))</div><div class="line">&gt; trainData &lt;- iris[ind == <span class="number">1</span>,]</div><div class="line">&gt; testData &lt;- iris[ind == <span class="number">2</span>,]</div><div class="line">&gt; install.packages(<span class="string">"randomForest"</span>)</div><div class="line">&gt; <span class="keyword">library</span>(randomForest)</div><div class="line">&gt; myFormula &lt;- Species ~ .  <span class="comment"># 'Species ~ .'表示'Species'与其他所有属性之间的等式</span></div><div class="line">&gt; rf &lt;- randomForest(myFormula, data = trainData, ntree = <span class="number">100</span>, proximity = <span class="literal">TRUE</span>)</div><div class="line"></div><div class="line">             setosa versicolor virginica</div><div class="line">  setosa         <span class="number">36</span>          <span class="number">0</span>         <span class="number">0</span></div><div class="line">  versicolor      <span class="number">0</span>         <span class="number">31</span>         <span class="number">2</span></div><div class="line">  virginica       <span class="number">0</span>          <span class="number">1</span>        <span class="number">34</span></div></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&gt; print(rf)</div><div class="line"></div><div class="line">Call:</div><div class="line"> randomForest(formula = myFormula, data = trainData, ntree = <span class="number">100</span>,      proximity = <span class="literal">TRUE</span>) </div><div class="line">               Type of random forest: classification</div><div class="line">                     Number of trees: <span class="number">100</span></div><div class="line">No. of variables tried at each split: <span class="number">2</span></div><div class="line"></div><div class="line">        OOB estimate of  error rate: <span class="number">2.88</span>%</div><div class="line">Confusion matrix:</div><div class="line">           setosa versicolor virginica class.error</div><div class="line">setosa         <span class="number">36</span>          <span class="number">0</span>         <span class="number">0</span>  <span class="number">0.00000000</span></div><div class="line">versicolor      <span class="number">0</span>         <span class="number">31</span>         <span class="number">1</span>  <span class="number">0.03125000</span></div><div class="line">virginica       <span class="number">0</span>          <span class="number">2</span>        <span class="number">34</span>  <span class="number">0.05555556</span></div></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; irisPred &lt;- predict(rf, newdata = testData)</div><div class="line">&gt; table(irisPred, testData$Species)</div><div class="line"></div><div class="line">irisPred     setosa versicolor virginica</div><div class="line">  setosa         <span class="number">14</span>          <span class="number">0</span>         <span class="number">0</span></div><div class="line">  versicolor      <span class="number">0</span>         <span class="number">17</span>         <span class="number">3</span></div><div class="line">  virginica       <span class="number">0</span>          <span class="number">1</span>        <span class="number">11</span></div></pre></td></tr></table></figure><ul><li>绘制每一个观测值被判断正确的概率图</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; plot(margin(rf, testData$Species))</div></pre></td></tr></table></figure><p><img src="https://github.com/yumuzi/images/raw/master/20161212_randomForest.png" alt=""></p><ul><li>代码汇总</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">ind &lt;- sample(<span class="number">2</span>, nrow(iris), replace = <span class="literal">TRUE</span>, prob = c(<span class="number">0.7</span>, <span class="number">0.3</span>))</div><div class="line">trainData &lt;- iris[ind == <span class="number">1</span>,]</div><div class="line">testData &lt;- iris[ind == <span class="number">2</span>,]</div><div class="line"></div><div class="line">install.packages(<span class="string">"randomForest"</span>)</div><div class="line"><span class="keyword">library</span>(randomForest)</div><div class="line"></div><div class="line">myFormula &lt;- Species ~ .</div><div class="line">rf &lt;- randomForest(myFormula, data = trainData, ntree = <span class="number">100</span>, proximity = <span class="literal">TRUE</span>)</div><div class="line">table(predict(rf), trainData$Species)</div><div class="line"></div><div class="line">print(rf)</div><div class="line"></div><div class="line">irisPred &lt;- predict(rf, newdata = testData)</div><div class="line">table(irisPred, testData$Species)</div><div class="line"></div><div class="line">plot(margin(rf, testData$Species))</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot; class=&quot;headerlink&quot; title=&quot;参考文档&quot;&gt;&lt;/a&gt;参考文档&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/jpld/p/4868761.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;【R语言进行数据挖掘】决策树和随机森林&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;使用包party&quot;&gt;&lt;a href=&quot;#使用包party&quot; class=&quot;headerlink&quot; title=&quot;使用包party&quot;&gt;&lt;/a&gt;使用包&lt;code&gt;party&lt;/code&gt;&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;学习使用包&lt;code&gt;party&lt;/code&gt;里的函数&lt;code&gt;ctree()&lt;/code&gt;为数据集iris建立一个决策树；&lt;/li&gt;
&lt;li&gt;四个属性：&lt;br&gt;(1) 属性&lt;code&gt;Sepal.Length&lt;/code&gt;：萼片长度&lt;br&gt;(2) 属性&lt;code&gt;Sepal.Width&lt;/code&gt;：萼片宽度&lt;br&gt;(3) 属性&lt;code&gt;Petal.Length&lt;/code&gt;：花瓣长度&lt;br&gt;(4) 属性&lt;code&gt;Petal.Width&lt;/code&gt;：花瓣宽度&lt;/li&gt;
&lt;li&gt;上述四个属性被用来预测鸢(yuan1)尾花的&lt;code&gt;Species&lt;/code&gt;（种类）；&lt;/li&gt;
&lt;li&gt;在这个包里，函数&lt;code&gt;ctree()&lt;/code&gt;建立了一个决策树，函数&lt;code&gt;predict()&lt;/code&gt;预测了另外一个数据集；&lt;/li&gt;
&lt;li&gt;在建立模型之前，iris（鸢尾花）数据集被分成两个子集：训练集（70%）和测试集（30%）。使用随机种子设置固定的随机数，可以使得随机选取的数据是可重复利用的；&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="MachineLearning" scheme="https://yumuzi.github.io/tags/MachineLearning/"/>
    
      <category term="R" scheme="https://yumuzi.github.io/tags/R/"/>
    
  </entry>
  
  <entry>
    <title>冯友兰《中国哲学史》阅读摘录</title>
    <link href="https://yumuzi.github.io/fengyoulan.html"/>
    <id>https://yumuzi.github.io/fengyoulan.html</id>
    <published>2016-11-30T14:35:03.000Z</published>
    <updated>2017-11-05T15:37:37.368Z</updated>
    
    <content type="html"><![CDATA[<ol><li>其道甚微而易，其意甚幽而深。</li><li>内动外静，后发先至；全神贯注，反应迅捷；变化多端，出敌不意。</li><li>庾信的《宇文盛墓志》中有两句说：“授图黄石，不无师表之心，学剑白猿，遂得风云之志。”杜牧之有两句诗说：“授图黄石老，学剑白猿翁。</li><li>靡不有初，鲜克有终。</li><li>寡取易盈，好逞易穷，驽钝之材也。</li><li>为天地立心，为生民立命，为往圣继绝学，为万世开太平。</li><li>其持之有故，其言之成理。</li><li>西洋所谓哲学，与中国魏晋人所谓玄学，宋明人所谓道学，及清人所谓义理之学，其所研究之对象，颇可谓约略相当。</li><li>乃折枝之类，非挟泰山以超北海之类。<a id="more"></a></li><li>吾欲托之空言，不如见之行事之深切著名也。</li><li>太上有立德，其次有立功，其次有立言。</li><li>论其诗，读其书，不知其人可乎？是以论其世也。</li><li>人之相知，贵相知心。</li><li>书不尽言，言不尽意。</li><li>孟子云:尽信书则不如无书，吾于《武成9》，取二三策而已。</li><li>淮南被兵六年，士民转徙几尽。行密初至，赐与将吏，帛不过数尺，钱不过数百；而能以勤俭足用，非公宴，未尝举乐。招抚流散，轻徭薄敛，未及数年，公私富庶，几复承平之旧。</li><li>呜呼，盗亦有道，信哉！</li><li>皇帝问李勉道：“众人皆言卢杞奸邪，朕何不知？卿知其状乎？”对曰：“天下皆知其奸邪，独陛下不知，所以为奸邪也！”</li><li>夫好战必亡，失其故俗必亡，人心不服必亡，金皆有焉。</li><li>韩非子所谓: 孔子墨子俱道尧舜，而取舍不同，皆自谓真尧舜。尧舜不复生，谁将使定儒墨之诚乎？</li><li>普天之下，莫非王土；率土之滨，莫非王臣。</li><li>观乎天文，以察时变。</li><li>貌言视听思心失则五行之序乱。</li><li>天有五义，物质之天，主宰之天，运命之天，自然之天，义理之天。</li><li>《庄子·天下篇》讲及儒家，即说：“诗”以道志，“书”以道事，“礼”以道行，“乐”以道和，“易”以道阴阳，“春秋”以道名分。</li><li>仕而优则学，学而优则仕。</li><li>儒以文乱法，侠以武犯禁。</li><li>吾非生而知之者，好古敏以求之也。</li><li>述而不作，信而好古。</li><li>君子有三畏，畏天命，畏大人，畏圣人之言。</li><li>诗三百，一言以蔽之，曰：“思无邪。”</li><li>林放问礼之本，子曰：“大哉问，礼与其奢也宁俭，丧与其易也宁戚。”</li><li>礼之用，和为贵，先王之道斯为美。</li><li>不恒其德，或承之羞。</li><li>人而不仁如礼何，人而不仁如乐何！</li><li>君子义以为质，礼以行之，孙以出之，信以成之。</li><li>叶公语孔子曰：“吾党有直躬者，其父攘羊，而其子证之。”孔子曰：“吾党之直者异于是，父为子隐，子为父隐，直在其中矣。”</li><li>巧言令色足恭，左丘明耻之，丘亦耻之。</li><li>子贡问曰：“乡人皆好之，何如？”子曰：“未可也。”曰：“乡人皆恶之，何如？”子曰：“未可也。不如乡人之善者好之，其不善者恶之。”</li><li>子曰：“恭而无礼则劳，慎而无礼则葸，勇而无礼则乱，直而无礼则绞。”</li><li>子产谓：“夫礼，天之经也，地之义也，民之行也。”</li><li>颜渊所谓“博我以文，约我以礼。”</li><li>质胜文则野，文胜质则史，文质则史，文质彬彬，然后君子。</li><li>子曰：巧言令色，鲜矣仁。</li><li>子曰：刚毅木讷近仁。</li><li>樊迟问仁。子曰：爱人。</li><li>故克伐怨欲不行，苦心洁身之士孔子所不取。</li><li>人之过也，各于其党，观过斯知仁矣。</li><li>颜渊问仁，子曰：“克己复礼为仁。一日克己复礼，天下归仁焉。为仁由己，而由人乎哉?”颜渊曰:“请问其目。”子曰:“非礼勿视,非礼勿听,非礼勿言,非礼勿动。”</li><li>仲弓问仁。子曰:“出门如见大宾,使民如承大祭。己所不欲,勿施于人,在邦无怨,在家无怨。”仲弓曰:“雍虽不敏,请事斯语矣。”</li><li>子贡曰:“如有钱博施于民,而能济众,何如,可谓仁乎?”子曰:“何事于仁?必也圣乎!尧舜其犹病诸!夫仁者己欲立而立人,己欲达而达人,能近取譬,可为仁之方也矣。”</li><li>“因己之欲,推以知人之欲”,即“己欲立而立人,己欲达而达人”,即所谓忠也。“因己之不欲,推以知人之不欲”,即“己所不欲,勿施于人”,即所恕也。实行忠恕即实行仁。</li><li>子曰：“参乎，吾道一以贯之。”曾子曰：“唯！”子出，门人问曰：“何谓也？”曾子曰：“夫子之道忠恕而已矣。”</li><li>无求生以害仁，有杀身以成仁。</li><li>子张问仁于孔子，孔子曰：“能行五者于天下为仁矣。”请问之。曰：“恭，宽，信，敏，惠。恭则不侮，宽则得众，信则人任焉，敏则有功，惠则足以使人。”</li><li>子绝四：毋意，毋必，毋固，毋我。</li><li>君子之仕也，行其义也。道之不行也，已知之矣。</li><li>董仲舒谓：“正其谊不谋其利，明其道不计其功。”</li><li>君子喻于义，小人喻于利。</li><li>子墨子曰:“必去六辟,默则思,言则诲,动则事,使三者代御,必为圣人。必去喜,去怒,去乐,去悲,去爱,去恶,而用仁义。手足口鼻耳,从事于义,必为圣人。</li><li>国家人民之大害，在于国家人民之互相争斗，无有宁息；而其所以互相争斗之原因，则起于人之不相爱。</li><li>天下之大利，在于人之兼爱；天下之大害，在于人之互争；故吾人应非攻。</li><li>墨子以人性为素丝，其善恶全在“所染”。</li><li>边沁谓人之快乐苦痛，有四来源：即物质的，政治的，道德的，宗教的。</li><li>依析心术派之心理学所说，吾人诸欲中之最强者，乃系自私之欲及男女之欲。</li><li>故食必常饱，然后求美；衣必常暖，然后求丽；居必常安，然后求乐；为可长，行可久；先质而后文；此圣人务也。</li><li>欲平治天下，当今之世，舍我其谁也？</li><li>离娄之明，公输子之巧，不以规矩，不能成方圆。师旷之聪，不以六律，不能正五音。尧舜之道，不以仁政，不能平治天下。</li><li>以力假仁者霸，以德行仁者王。</li><li>民为贵，社稷次之，君为轻。是故得乎丘民为天子，得乎天子为诸侯，得乎诸侯为大夫。</li><li>所谓大德大贤，即能治国家社会之专家也。</li><li>恻隐之心，仁之端也。羞恶之心，义之端也。辞让之心，礼之端也。是非知心，智之端也。72.人之所以喜于禽兽者几希，庶民去之，君子存之。</li><li>莫之为而为者天也，莫之致而至者命也。</li><li>慎终追远，民德归厚矣。</li><li>居天下之广居，立天下之正位，行天下之大道。得志与民由之，不得志独行其道。富贵不能淫，贫贱不能移，威武不能屈，此之谓大丈夫。</li><li>重生则轻利。</li><li>告子曰：“性无善无不善。”</li><li>人法地，地法天，天法道，道法自然。</li><li>道常无为无不为。</li><li>道生之，德畜之，物形之，势成之。是以万物莫不尊道而贵德。道之尊，德之贵，夫莫之命而常自然。</li><li>曲则全，枉则直，洼则盈，敝则新，少则得，多则惑。</li><li>天知道其犹张弓欤，高者抑之，下者举之。有馀者损之，不足者补之。</li><li>正言若反。</li><li>将欲歙之，必固张之；将欲弱之，必固强之；将欲废之，必固兴之；将欲夺之，必故与之。</li><li>甚爱必大费，多藏必厚亡。</li><li>不自见故明，不自是故彰；不自伐故有功，不自矜故长；夫惟不争，故天下莫能与之争。</li><li>慈故能勇，俭故能广，不敢为天下先，故能成器长。</li><li>大成若缺，其用不弊；大盈若冲，其用不穷；大直若屈，大巧若拙，大辩若讷。</li><li>我无为而民自化，我好静而民自正，我无事而民自富，我无欲而民自朴。</li><li>物或益之而损，物或损之而已。</li><li>不尚贤，使民不争。不贵难得之货，使民不为盗。不见可欲，使民心不乱。是以圣人之治，虚其心，实其腹，弱其志，强其骨，常使民无知无欲。</li><li>知足不辱，知止不殆，可以长久。</li><li>祸莫大于不知足，咎莫大于欲得。故知足之足常足矣。</li><li>民之难治，以其智多；故以智治国国之贼，不以智治国国之福。</li><li>老子理想的社会：小国寡民，是有什伯之器而不用，使民重死而不远徙。虽有舟舆，无所乘之；虽有甲兵，无所陈之。使人复结绳而用之。甘其食，美其服，安其居，乐其俗。邻国相望，鸡犬之声相闻。民至老死不相往来。</li><li>大文明若野蛮。</li><li>孔子曰：“必也正名乎？名不正则言不顺，言不顺则事不成。”</li><li>天下无方，故所在为中，循环无端，故所在为始也。</li><li>儒家认为爱人是有等级的。“君子之于物也，爱之而弗仁；于民也，仁之而弗亲。亲亲而仁民，仁民而爱物。”</li><li>孟子说：“人之有道也，饱食、暖衣、逸居而无教，则近于禽兽。圣人有忧之，使契为司徒，教以人伦：父子有亲，君臣有义，夫妇有别，长幼有序，朋友有信。”</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;其道甚微而易，其意甚幽而深。&lt;/li&gt;
&lt;li&gt;内动外静，后发先至；全神贯注，反应迅捷；变化多端，出敌不意。&lt;/li&gt;
&lt;li&gt;庾信的《宇文盛墓志》中有两句说：“授图黄石，不无师表之心，学剑白猿，遂得风云之志。”杜牧之有两句诗说：“授图黄石老，学剑白猿翁。&lt;/li&gt;
&lt;li&gt;靡不有初，鲜克有终。&lt;/li&gt;
&lt;li&gt;寡取易盈，好逞易穷，驽钝之材也。&lt;/li&gt;
&lt;li&gt;为天地立心，为生民立命，为往圣继绝学，为万世开太平。&lt;/li&gt;
&lt;li&gt;其持之有故，其言之成理。&lt;/li&gt;
&lt;li&gt;西洋所谓哲学，与中国魏晋人所谓玄学，宋明人所谓道学，及清人所谓义理之学，其所研究之对象，颇可谓约略相当。&lt;/li&gt;
&lt;li&gt;乃折枝之类，非挟泰山以超北海之类。
    
    </summary>
    
      <category term="讀書" scheme="https://yumuzi.github.io/categories/%E8%AE%80%E6%9B%B8/"/>
    
    
      <category term="隨筆" scheme="https://yumuzi.github.io/tags/%E9%9A%A8%E7%AD%86/"/>
    
  </entry>
  
  <entry>
    <title>网络编程学习过程中的点滴记录</title>
    <link href="https://yumuzi.github.io/webprogramming.html"/>
    <id>https://yumuzi.github.io/webprogramming.html</id>
    <published>2016-11-25T04:35:02.000Z</published>
    <updated>2017-11-05T15:35:01.731Z</updated>
    
    <content type="html"><![CDATA[<h2 id="CSS样式表"><a href="#CSS样式表" class="headerlink" title="CSS样式表"></a>CSS样式表</h2><ul><li><code>padding</code>：内边距</li><li><code>margin</code>：外边距</li><li><code>background</code>：背景，#fff, #333, #ccc; #f00; #06f;</li><li><code>font-size</code>: 字体大小</li><li><code>list-style-type</code>: none; 用于去除 ul 中的点样式</li><li><code>width</code>: 宽度，120px; 80%; auto(可以用来抵消之前的设置)</li><li><code>height</code>：高度</li><li><code>line-height</code>: 行高，常与height一块儿用，垂直居中</li><li><code>text-indent</code>: 缩进，-9999px；使得对象消失</li><li><code>#header</code>：“#”用于html中的id</li><li><code>border</code>：边框，solid-实线；dashed-虚线</li></ul><a id="more"></a><ul><li><code>background</code>：url(../../images/logo1.png) no-repeat;</li><li><code>display</code>: block;</li><li><code>text-align</code>: 文字位置，right; left; center;</li><li><code>display</code>: inline; 用于ul li在一行中显示</li><li><code>text-decoration</code>: 用于修饰 超链接 a    none; underline;</li><li><code>clear</code>: both; 常用于IE浏览器消除左右浮动</li><li><code>letter-spacing</code>: 字符间距</li><li><code>float</code>: 浮动</li><li><code>font-weight</code>: bold; 文字加粗</li><li><code>cursor</code>: pointer; 将箭头转换为“小手”</li></ul><h2 id="JavaScript基础"><a href="#JavaScript基础" class="headerlink" title="JavaScript基础"></a>JavaScript基础</h2><ol><li><code>&lt;script type=&quot;text/javascript&quot; src=&quot;###&quot;&gt;&lt;/script&gt;</code></li><li>区分大小写；</li><li>标识符组成开头：必须是字符、下划线和<code>$</code>；其他字母除此三者外，还可为数字；不能把关键字、保留字（<code>true/false/null</code>）作为标识符；</li><li>单行注释：<code>//</code> 注释用途：说明、调试；多行注释：<code>/* */</code></li><li>字面量：就是程序中直接显示出来的；数字字面量，字符串字面量，布尔值字面量，正则表达式字面量，对象字面量表达式<code>{x:1,y:2}</code>；数组字面量表达式</li><li>关键字：程序中已经开始使用的字符； 保留字：将来可能被用作关键字；</li><li>数据类型的种类：<code>undefined</code>, <code>null</code>, <code>boolean</code>, <code>number</code>, <code>string</code>, <code>object</code>，不支持任何自定义类型的机制</li><li>操作符：<code>typeof()</code> 用来检测变量的数据类型，返回的字符串包括：<code>undefined</code>, <code>boolean</code>, <code>string</code>, <code>number</code>, <code>object</code>（对象或<code>null</code>）, <code>function</code></li><li><code>alert(undefined==null);</code>   //返回true  <code>alert(undefined===null);</code>  //返回false</li><li><code>boolean</code>类型的字面量只有两个：<code>true</code>, <code>fals</code>e，其他大小写不一致的都不是它的值</li><li>可以用<code>boolean()</code>来转换变量的类型，即强制转换；可转换为<code>false</code>的值有：<code>false</code>, <code>&#39;&#39;</code>, <code>0</code>, <code>NaN</code>, <code>null</code>, <code>undefined</code></li><li>浮点数的范围：<code>Number.MIN_VALUE</code>, <code>Number.MAX_VALUE</code> 最小值和最大值<br>13.<code>Number.POSITIVE_INFINITY</code>, <code>Number.NEGATIVE_INFINITY</code>  正无穷和负无穷</li><li>函数：<code>isFinite()</code>   确定一个数值是否超过了规定范围</li><li><code>alert(NaN==NaN);</code>  //返回false</li><li>将非数值转换为数值的3个函数：<code>Number()</code>, <code>parseInt()</code>, <code>parseFloat()</code>   第一个用于任何数据类型，后两者用于把字符串转成数值；</li><li><code>\t</code>: 制表符   <code>\u03a3</code>: 求和符号</li><li>函数：<code>toString()</code>   转换为<code>string</code>类型，强制转换  <code>String(null);</code> <code>String(undefined);</code></li><li><code>+</code>其中有一个变量为字符串，则最终得到字符串</li></ol><h2 id="HTTP响应消息中常见的状态消息"><a href="#HTTP响应消息中常见的状态消息" class="headerlink" title="HTTP响应消息中常见的状态消息"></a>HTTP响应消息中常见的状态消息</h2><ul><li>200：成功，服务器成功返回网页</li><li>301：永久移动，请求的网页已成功移动到新位置。服务器返回此响应时，会自动将请求者转到新位置</li><li>304：未修改，自上次请求后，请求的网页未修改过。服务器返回此响应时，不会返回网页内容</li><li>400：错误请求，服务器不理解请求的语法</li><li>404：未找到，服务器找不到请求的网页</li><li>500：服务器内部错误，服务器遇到错误，无法完成请求</li><li>502：错误网关，服务器作为网关或代理，从上游服务器收到无效响应</li><li>505：HTTP版本不受支持，服务器不支持请求中所用的HTTP协议版本</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;CSS样式表&quot;&gt;&lt;a href=&quot;#CSS样式表&quot; class=&quot;headerlink&quot; title=&quot;CSS样式表&quot;&gt;&lt;/a&gt;CSS样式表&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;padding&lt;/code&gt;：内边距&lt;/li&gt;
&lt;li&gt;&lt;code&gt;margin&lt;/code&gt;：外边距&lt;/li&gt;
&lt;li&gt;&lt;code&gt;background&lt;/code&gt;：背景，#fff, #333, #ccc; #f00; #06f;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;font-size&lt;/code&gt;: 字体大小&lt;/li&gt;
&lt;li&gt;&lt;code&gt;list-style-type&lt;/code&gt;: none; 用于去除 ul 中的点样式&lt;/li&gt;
&lt;li&gt;&lt;code&gt;width&lt;/code&gt;: 宽度，120px; 80%; auto(可以用来抵消之前的设置)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;height&lt;/code&gt;：高度&lt;/li&gt;
&lt;li&gt;&lt;code&gt;line-height&lt;/code&gt;: 行高，常与height一块儿用，垂直居中&lt;/li&gt;
&lt;li&gt;&lt;code&gt;text-indent&lt;/code&gt;: 缩进，-9999px；使得对象消失&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#header&lt;/code&gt;：“#”用于html中的id&lt;/li&gt;
&lt;li&gt;&lt;code&gt;border&lt;/code&gt;：边框，solid-实线；dashed-虚线&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="programming" scheme="https://yumuzi.github.io/tags/programming/"/>
    
  </entry>
  
  <entry>
    <title>研究生期间去土耳其参加国际会议相关手续办理流程</title>
    <link href="https://yumuzi.github.io/tuerqi-qianzheng.html"/>
    <id>https://yumuzi.github.io/tuerqi-qianzheng.html</id>
    <published>2016-09-03T13:44:50.000Z</published>
    <updated>2017-11-05T15:33:56.472Z</updated>
    
    <content type="html"><![CDATA[<p>研二暑假曾计划前往土耳其参加一个国际学术会议，但因故未能成行，现将相关手续办理流程记录于此，以资借鉴。</p><h1 id="护照"><a href="#护照" class="headerlink" title="护照"></a>护照</h1><ul><li>上海户口：具有上海户口的，直接携带身份证前往上海出入境管理中心办理即可，一般时间为15天；</li><li>非上海户口：非上海户口的，按照学校的相关规定进行办理。</li></ul><a id="more"></a><h1 id="学校手续"><a href="#学校手续" class="headerlink" title="学校手续"></a>学校手续</h1><p>老师办理的是因公护照，学生是因私护照，但为了后期报销需要，均需要在学校办理相关手续。</p><ul><li>前往<a href="http://www.tongji-uni.com/" target="_blank" rel="external">同济大学外事办</a>下载学生手册PDF文件，了解需要准备的材料和应办的事项；</li><li>材料准备好后，需要到系办申请公示（此项老师需办理），公示时间为一周；</li><li>公示完成后，携带相关材料到同济大学外事办（综合楼7楼）进行办理，时间为5-7天；</li><li>在规定时间内领取相关材料；</li><li>（对于老师）携带领取的材料办理因公签证。</li></ul><h1 id="因私签证"><a href="#因私签证" class="headerlink" title="因私签证"></a>因私签证</h1><p>对于学生，需亲自前往外国驻上海使领馆办理隐私签证。</p><ul><li>从网上登陆外国驻上海使领馆的网页，了解需要准备的材料，并进行网上预约（视情况而定）；</li><li>准备申请材料：这里列出主要的三项，1) 申请表：按要求填写并打印；2) 会议邀请函（若要求原件，可将电子版邀请函彩色打印）；3) 人身保险：可在淘宝上购买；</li><li>按预约时间前往提交申请材料；</li><li>约一周左右（视具体情况而定）可前往领取签证。</li></ul><p><strong>大体情况就是这些，以后有新的经验再来补充^_^</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;研二暑假曾计划前往土耳其参加一个国际学术会议，但因故未能成行，现将相关手续办理流程记录于此，以资借鉴。&lt;/p&gt;
&lt;h1 id=&quot;护照&quot;&gt;&lt;a href=&quot;#护照&quot; class=&quot;headerlink&quot; title=&quot;护照&quot;&gt;&lt;/a&gt;护照&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;上海户口：具有上海户口的，直接携带身份证前往上海出入境管理中心办理即可，一般时间为15天；&lt;/li&gt;
&lt;li&gt;非上海户口：非上海户口的，按照学校的相关规定进行办理。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="學術" scheme="https://yumuzi.github.io/categories/%E5%AD%B8%E8%A1%93/"/>
    
    
      <category term="visa" scheme="https://yumuzi.github.io/tags/visa/"/>
    
  </entry>
  
  <entry>
    <title>Python 操作 MySQL 数据库</title>
    <link href="https://yumuzi.github.io/python-ymgs.html"/>
    <id>https://yumuzi.github.io/python-ymgs.html</id>
    <published>2016-07-08T15:27:15.000Z</published>
    <updated>2017-11-05T15:33:15.862Z</updated>
    
    <content type="html"><![CDATA[<p>一个用<code>python</code>操作网络后台<code>mysql</code>数据库的小案例，保存于此，以备不时之需。</p><a id="more"></a><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div><div class="line">484</div><div class="line">485</div><div class="line">486</div><div class="line">487</div><div class="line">488</div><div class="line">489</div><div class="line">490</div><div class="line">491</div><div class="line">492</div><div class="line">493</div><div class="line">494</div><div class="line">495</div><div class="line">496</div><div class="line">497</div><div class="line">498</div><div class="line">499</div><div class="line">500</div><div class="line">501</div><div class="line">502</div><div class="line">503</div><div class="line">504</div><div class="line">505</div><div class="line">506</div><div class="line">507</div><div class="line">508</div><div class="line">509</div><div class="line">510</div><div class="line">511</div><div class="line">512</div><div class="line">513</div><div class="line">514</div><div class="line">515</div><div class="line">516</div><div class="line">517</div><div class="line">518</div><div class="line">519</div><div class="line">520</div><div class="line">521</div><div class="line">522</div><div class="line">523</div><div class="line">524</div><div class="line">525</div><div class="line">526</div><div class="line">527</div><div class="line">528</div><div class="line">529</div><div class="line">530</div><div class="line">531</div><div class="line">532</div><div class="line">533</div><div class="line">534</div><div class="line">535</div><div class="line">536</div><div class="line">537</div><div class="line">538</div><div class="line">539</div><div class="line">540</div><div class="line">541</div><div class="line">542</div><div class="line">543</div><div class="line">544</div><div class="line">545</div><div class="line">546</div><div class="line">547</div><div class="line">548</div><div class="line">549</div><div class="line">550</div><div class="line">551</div><div class="line">552</div><div class="line">553</div><div class="line">554</div><div class="line">555</div><div class="line">556</div><div class="line">557</div><div class="line">558</div><div class="line">559</div><div class="line">560</div><div class="line">561</div><div class="line">562</div><div class="line">563</div><div class="line">564</div><div class="line">565</div><div class="line">566</div><div class="line">567</div><div class="line">568</div><div class="line">569</div><div class="line">570</div><div class="line">571</div><div class="line">572</div><div class="line">573</div><div class="line">574</div><div class="line">575</div><div class="line">576</div><div class="line">577</div><div class="line">578</div><div class="line">579</div><div class="line">580</div><div class="line">581</div><div class="line">582</div><div class="line">583</div><div class="line">584</div><div class="line">585</div><div class="line">586</div><div class="line">587</div><div class="line">588</div><div class="line">589</div><div class="line">590</div><div class="line">591</div><div class="line">592</div><div class="line">593</div><div class="line">594</div><div class="line">595</div><div class="line">596</div><div class="line">597</div><div class="line">598</div><div class="line">599</div><div class="line">600</div><div class="line">601</div><div class="line">602</div><div class="line">603</div><div class="line">604</div><div class="line">605</div><div class="line">606</div><div class="line">607</div><div class="line">608</div><div class="line">609</div><div class="line">610</div><div class="line">611</div><div class="line">612</div><div class="line">613</div><div class="line">614</div><div class="line">615</div><div class="line">616</div><div class="line">617</div><div class="line">618</div><div class="line">619</div><div class="line">620</div><div class="line">621</div><div class="line">622</div><div class="line">623</div><div class="line">624</div><div class="line">625</div><div class="line">626</div><div class="line">627</div><div class="line">628</div><div class="line">629</div><div class="line">630</div><div class="line">631</div><div class="line">632</div><div class="line">633</div><div class="line">634</div><div class="line">635</div><div class="line">636</div><div class="line">637</div><div class="line">638</div><div class="line">639</div><div class="line">640</div><div class="line">641</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> division</div><div class="line"><span class="keyword">import</span> MySQLdb</div><div class="line"><span class="keyword">import</span> os</div><div class="line"><span class="keyword">import</span> time</div><div class="line"><span class="keyword">import</span> datetime</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># 打开数据库连接</span></div><div class="line">db = MySQLdb.connect(<span class="string">"host"</span>,<span class="string">"username"</span>,<span class="string">"password"</span>,<span class="string">"database"</span>)</div><div class="line"></div><div class="line"><span class="comment"># 使用 cursor() 方法获取操作游标</span></div><div class="line">cursor = db.cursor()</div><div class="line"></div><div class="line"><span class="comment"># SQL 查询语句</span></div><div class="line"></div><div class="line"><span class="comment"># 网关1</span></div><div class="line"><span class="comment">## 传感器1-1</span></div><div class="line">num_1_1 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=1 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_1_1_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=1 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_1_1_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=1 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_1_1_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=1 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_1_1_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=1 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器1-2</span></div><div class="line">num_1_2 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=2 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_1_2_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=2 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_1_2_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=2 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_1_2_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=2 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_1_2_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=2 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器1-3</span></div><div class="line">num_1_3 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=3 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_1_3_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=3 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_1_3_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=3 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_1_3_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=3 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_1_3_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=3 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># 网关2</span></div><div class="line"><span class="comment">## 传感器2-1</span></div><div class="line">num_2_1 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=62 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_2_1_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=62 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_2_1_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=62 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_2_1_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=62 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_2_1_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=62 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器2-2</span></div><div class="line">num_2_2 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=63 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_2_2_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=63 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_2_2_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=63 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_2_2_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=63 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_2_2_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=63 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器2-3</span></div><div class="line">num_2_3 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=64 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_2_3_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=64 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_2_3_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=64 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_2_3_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=64 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_2_3_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=64 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment"># 网关3</span></div><div class="line"><span class="comment">## 传感器3-1</span></div><div class="line">num_3_1 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=69 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_3_1_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=69 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_3_1_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=69 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_3_1_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=69 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_3_1_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=69 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器3-2</span></div><div class="line">num_3_2 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=70 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_3_2_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=70 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_3_2_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=70 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_3_2_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=70 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_3_2_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=70 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment"># 网关4</span></div><div class="line"><span class="comment">## 传感器4-1</span></div><div class="line">num_4_1 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=73 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_4_1_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=73 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_4_1_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=73 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_4_1_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=73 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_4_1_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=73 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器4-2</span></div><div class="line">num_4_2 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=74 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_4_2_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=74 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_4_2_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=74 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_4_2_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=74 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_4_2_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=74 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器4-3</span></div><div class="line">num_4_3 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=75 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_4_3_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=75 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_4_3_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=75 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_4_3_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=75 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_4_3_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=75 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="keyword">try</span>:</div><div class="line">    <span class="comment"># 执行SQL语句</span></div><div class="line"></div><div class="line">    <span class="comment">#网关1</span></div><div class="line">    <span class="comment">## 传感器1-1</span></div><div class="line">    num_1_1 = cursor.execute(num_1_1)</div><div class="line">    num_1_1_current1_0 = cursor.execute(num_1_1_current1_0)</div><div class="line">    num_1_1_current2_0 = cursor.execute(num_1_1_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器1-2</span></div><div class="line">    num_1_2 = cursor.execute(num_1_2)</div><div class="line">    num_1_2_current1_0 = cursor.execute(num_1_2_current1_0)</div><div class="line">    num_1_2_current2_0 = cursor.execute(num_1_2_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器2-3</span></div><div class="line">    num_1_3 = cursor.execute(num_1_3)</div><div class="line">    num_1_3_current1_0 = cursor.execute(num_1_3_current1_0)</div><div class="line">    num_1_3_current2_0 = cursor.execute(num_1_3_current2_0)</div><div class="line"></div><div class="line">    </div><div class="line">    <span class="comment">#网关2</span></div><div class="line">    <span class="comment">## 传感器2-1</span></div><div class="line">    num_2_1 = cursor.execute(num_2_1)</div><div class="line">    num_2_1_current1_0 = cursor.execute(num_2_1_current1_0)</div><div class="line">    num_2_1_current2_0 = cursor.execute(num_2_1_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器2-2</span></div><div class="line">    num_2_2 = cursor.execute(num_2_2)</div><div class="line">    num_2_2_current1_0 = cursor.execute(num_2_2_current1_0)</div><div class="line">    num_2_2_current2_0 = cursor.execute(num_2_2_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器2-3</span></div><div class="line">    num_2_3 = cursor.execute(num_2_3)</div><div class="line">    num_2_3_current1_0 = cursor.execute(num_2_3_current1_0)</div><div class="line">    num_2_3_current2_0 = cursor.execute(num_2_3_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">#网关3</span></div><div class="line">    <span class="comment">## 传感器3-1</span></div><div class="line">    num_3_1 = cursor.execute(num_3_1)</div><div class="line">    num_3_1_current1_0 = cursor.execute(num_3_1_current1_0)</div><div class="line">    num_3_1_current2_0 = cursor.execute(num_3_1_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器3-2</span></div><div class="line">    num_3_2 = cursor.execute(num_3_2)</div><div class="line">    num_3_2_current1_0 = cursor.execute(num_3_2_current1_0)</div><div class="line">    num_3_2_current2_0 = cursor.execute(num_3_2_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">#网关4</span></div><div class="line">    <span class="comment">## 传感器4-1</span></div><div class="line">    num_4_1 = cursor.execute(num_4_1)</div><div class="line">    num_4_1_current1_0 = cursor.execute(num_4_1_current1_0)</div><div class="line">    num_4_1_current2_0 = cursor.execute(num_4_1_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器4-2</span></div><div class="line">    num_4_2 = cursor.execute(num_4_2)</div><div class="line">    num_4_2_current1_0 = cursor.execute(num_4_2_current1_0)</div><div class="line">    num_4_2_current2_0 = cursor.execute(num_4_2_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器4-3</span></div><div class="line">    num_4_3 = cursor.execute(num_4_3)</div><div class="line">    num_4_3_current1_0 = cursor.execute(num_4_3_current1_0)</div><div class="line">    num_4_3_current2_0 = cursor.execute(num_4_3_current2_0)</div><div class="line">    </div><div class="line">    <span class="comment"># 获取所有记录列表</span></div><div class="line">    fo = open(<span class="string">"益马高速网关数据反馈汇总"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">".txt"</span>, <span class="string">"a"</span>)</div><div class="line">    now = time.strftime(<span class="string">"%Y-%m-%d %H:%M:%S"</span>,time.localtime(time.time()))</div><div class="line">    fo.write(<span class="string">"当前时间：%s\n\n"</span> % now)</div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment"># 网关1</span></div><div class="line">    <span class="comment"># 传感器1-1</span></div><div class="line">    fo.write(<span class="string">"莫家大屋右线--传感器1-1：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_1_1)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_1_1_current1_0)</div><div class="line">    <span class="keyword">if</span> num_1_1 != <span class="number">0</span>:</div><div class="line">        percent1_1_1 = num_1_1_current1_0 / num_1_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent1_1_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent1_1_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_1_1_current2_0)</div><div class="line">    <span class="keyword">if</span> num_1_1 != <span class="number">0</span>:</div><div class="line">        percent1_1_2 = num_1_1_current2_0 / num_1_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent1_1_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent1_1_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_1_1_min = cursor.execute(time_1_1_min)</div><div class="line">    time_1_1_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_1_1_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_1_1_max = cursor.execute(time_1_1_max)</div><div class="line">    time_1_1_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_1_1_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-1停止工作！\n"</span>)</div><div class="line">            tag1_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-1停止工作！\n"</span>)</div><div class="line">            tag1_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-1正常工作\n"</span>)</div><div class="line">            tag1_1 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器1-2</span></div><div class="line">    fo.write(<span class="string">"莫家大屋右线--传感器1-2：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_1_2)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_1_2_current1_0)</div><div class="line">    num_1_1 = float(num_1_2)</div><div class="line">    <span class="keyword">if</span> num_1_2 != <span class="number">0</span>:</div><div class="line">        percent1_2_1 = num_1_2_current1_0 / num_1_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent1_2_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent1_2_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_1_2_current2_0)</div><div class="line">    <span class="keyword">if</span> num_1_2 != <span class="number">0</span>:</div><div class="line">        percent1_2_2 = num_1_2_current2_0 / num_1_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent1_2_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent1_2_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_1_2_min = cursor.execute(time_1_2_min)</div><div class="line">    time_1_2_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_1_2_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_1_2_max = cursor.execute(time_1_2_max)</div><div class="line">    time_1_2_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_1_2_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-2停止工作！\n"</span>)</div><div class="line">            tag1_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-2停止工作！\n"</span>)</div><div class="line">            tag1_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-2正常工作\n"</span>)</div><div class="line">            tag1_2 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器1-3</span></div><div class="line">    fo.write(<span class="string">"莫家大屋右线--传感器1-3：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_1_3)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_1_3_current1_0)</div><div class="line">    <span class="keyword">if</span> num_1_3 != <span class="number">0</span>:</div><div class="line">        percent1_3_1 = num_1_3_current1_0 / num_1_3</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent1_3_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent1_3_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_1_3_current2_0)</div><div class="line">    <span class="keyword">if</span> num_1_3 != <span class="number">0</span>:</div><div class="line">        percent1_3_2 = num_1_3_current2_0 / num_1_3</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent1_3_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent1_3_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_1_3_min = cursor.execute(time_1_3_min)</div><div class="line">    time_1_3_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_1_3_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_1_3_max = cursor.execute(time_1_3_max)</div><div class="line">    time_1_3_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_1_3_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-3停止工作！\n"</span>)</div><div class="line">            tag1_3 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-3停止工作！\n"</span>)</div><div class="line">            tag1_3 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-3正常工作\n"</span>)</div><div class="line">            tag1_3 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="keyword">if</span> tag1_1|tag1_2|tag1_3:</div><div class="line">        fo.write(<span class="string">"网关1正常工作\n\n"</span>)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        fo.write(<span class="string">"网关1停止工作！\n\n"</span>)</div><div class="line"></div><div class="line">    fo.write(<span class="string">"====================================================\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">#=========================================#</span></div><div class="line">    <span class="comment"># 网关2</span></div><div class="line">    <span class="comment"># 传感器2-1</span></div><div class="line">    fo.write(<span class="string">"莫家大屋左线--传感器2-1：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_2_1)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_2_1_current1_0)</div><div class="line">    <span class="keyword">if</span> num_2_1 != <span class="number">0</span>:</div><div class="line">        percent2_1_1 = num_2_1_current1_0 / num_2_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent2_1_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent2_1_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_2_1_current2_0)</div><div class="line">    <span class="keyword">if</span> num_2_1 != <span class="number">0</span>:</div><div class="line">        percent2_1_2 = num_2_1_current2_0 / num_2_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent2_1_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent2_1_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_2_1_min = cursor.execute(time_2_1_min)</div><div class="line">    time_2_1_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_2_1_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_2_1_max = cursor.execute(time_2_1_max)</div><div class="line">    time_2_1_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_2_1_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-1停止工作！\n"</span>)</div><div class="line">            tag2_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-1停止工作！\n"</span>)</div><div class="line">            tag2_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-1正常工作\n"</span>)</div><div class="line">            tag2_1 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器2-2</span></div><div class="line">    fo.write(<span class="string">"莫家大屋左线--传感器2-2：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_2_2)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_2_2_current1_0)</div><div class="line">    num_2_1 = float(num_2_2)</div><div class="line">    <span class="keyword">if</span> num_2_2 != <span class="number">0</span>:</div><div class="line">        percent2_2_1 = num_2_2_current1_0 / num_2_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent2_2_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent2_2_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_2_2_current2_0)</div><div class="line">    <span class="keyword">if</span> num_2_2 != <span class="number">0</span>:</div><div class="line">        percent2_2_2 = num_2_2_current2_0 / num_2_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent2_2_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent2_2_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_2_2_min = cursor.execute(time_2_2_min)</div><div class="line">    time_2_2_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_2_2_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_2_2_max = cursor.execute(time_2_2_max)</div><div class="line">    time_2_2_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_2_2_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-2停止工作！\n"</span>)</div><div class="line">            tag2_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-2停止工作！\n"</span>)</div><div class="line">            tag2_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-2正常工作\n"</span>)</div><div class="line">            tag2_2 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器2-3</span></div><div class="line">    fo.write(<span class="string">"莫家大屋左线--传感器2-3：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_2_3)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_2_3_current1_0)</div><div class="line">    <span class="keyword">if</span> num_2_3 != <span class="number">0</span>:</div><div class="line">        percent2_3_1 = num_2_3_current1_0 / num_2_3</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent2_3_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent2_3_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_2_3_current2_0)</div><div class="line">    <span class="keyword">if</span> num_2_3 != <span class="number">0</span>:</div><div class="line">        percent2_3_2 = num_2_3_current2_0 / num_2_3</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent2_3_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent2_3_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_2_3_min = cursor.execute(time_2_3_min)</div><div class="line">    time_2_3_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_2_3_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_2_3_max = cursor.execute(time_2_3_max)</div><div class="line">    time_2_3_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_2_3_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-3停止工作！\n"</span>)</div><div class="line">            tag2_3 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-3停止工作！\n"</span>)</div><div class="line">            tag2_3 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-3正常工作\n"</span>)</div><div class="line">            tag2_3 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="keyword">if</span> tag2_1|tag2_2|tag2_3:</div><div class="line">        fo.write(<span class="string">"网关2正常工作\n\n"</span>)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        fo.write(<span class="string">"网关2停止工作！\n\n"</span>)</div><div class="line"></div><div class="line">    fo.write(<span class="string">"====================================================\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">#=========================================#</span></div><div class="line">    <span class="comment"># 网关3</span></div><div class="line">    <span class="comment"># 传感器3-1</span></div><div class="line">    fo.write(<span class="string">"板山左线--传感器3-1：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_3_1)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_3_1_current1_0)</div><div class="line">    <span class="keyword">if</span> num_3_1 != <span class="number">0</span>:</div><div class="line">        percent3_1_1 = num_3_1_current1_0 / num_3_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent3_1_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent3_1_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_3_1_current2_0)</div><div class="line">    <span class="keyword">if</span> num_3_1 != <span class="number">0</span>:</div><div class="line">        percent3_1_2 = num_3_1_current2_0 / num_3_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent3_1_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent3_1_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_3_1_min = cursor.execute(time_3_1_min)</div><div class="line">    time_3_1_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_3_1_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_3_1_max = cursor.execute(time_3_1_max)</div><div class="line">    time_3_1_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_3_1_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器3-1停止工作！\n"</span>)</div><div class="line">            tag3_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器3-1停止工作！\n"</span>)</div><div class="line">            tag3_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器3-1正常工作\n"</span>)</div><div class="line">            tag3_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器3-2</span></div><div class="line">    fo.write(<span class="string">"板山左线--传感器3-2：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_3_2)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_3_2_current1_0)</div><div class="line">    <span class="keyword">if</span> num_3_2 != <span class="number">0</span>:</div><div class="line">        percent3_2_1 = num_3_2_current1_0 / num_3_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent3_2_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent3_2_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_3_2_current2_0)</div><div class="line">    <span class="keyword">if</span> num_3_2 != <span class="number">0</span>:</div><div class="line">        percent3_2_2 = num_3_2_current2_0 / num_3_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent3_2_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent3_2_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_3_2_min = cursor.execute(time_3_2_min)</div><div class="line">    time_3_2_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_3_2_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_3_2_max = cursor.execute(time_3_2_max)</div><div class="line">    time_3_2_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_3_2_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器3-2停止工作！\n"</span>)</div><div class="line">            tag3_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器3-2停止工作！\n"</span>)</div><div class="line">            tag3_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器3-2正常工作\n"</span>)</div><div class="line">            tag3_2 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="keyword">if</span> tag3_1|tag3_2:</div><div class="line">        fo.write(<span class="string">"网关3正常工作\n\n"</span>)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        fo.write(<span class="string">"网关3停止工作！\n\n"</span>)</div><div class="line"></div><div class="line">    fo.write(<span class="string">"====================================================\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">#=========================================#</span></div><div class="line">    <span class="comment"># 网关4</span></div><div class="line">    <span class="comment"># 传感器4-1</span></div><div class="line">    fo.write(<span class="string">"板山右线--传感器4-1：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_4_1)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_4_1_current1_0)</div><div class="line">    <span class="keyword">if</span> num_4_1 != <span class="number">0</span>:</div><div class="line">        percent4_1_1 = num_4_1_current1_0 / num_4_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent4_1_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent4_1_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_4_1_current2_0)</div><div class="line">    <span class="keyword">if</span> num_4_1 != <span class="number">0</span>:</div><div class="line">        percent4_1_2 = num_4_1_current2_0 / num_4_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent4_1_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent4_1_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_4_1_min = cursor.execute(time_4_1_min)</div><div class="line">    time_4_1_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_4_1_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_4_1_max = cursor.execute(time_4_1_max)</div><div class="line">    time_4_1_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_4_1_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-1停止工作！\n"</span>)</div><div class="line">            tag4_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-1停止工作！\n"</span>)</div><div class="line">            tag4_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-1正常工作\n"</span>)</div><div class="line">            tag4_1 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器4-2</span></div><div class="line">    fo.write(<span class="string">"板山右线--传感器4-2：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_4_2)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_4_2_current1_0)</div><div class="line">    <span class="keyword">if</span> num_4_2 != <span class="number">0</span>:</div><div class="line">        percent4_2_1 = num_4_2_current1_0 / float(num_4_2)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent4_2_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent4_2_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_4_2_current2_0)</div><div class="line">    <span class="keyword">if</span> num_4_2 != <span class="number">0</span>:</div><div class="line">        percent4_2_2 = num_4_2_current2_0 / num_4_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent4_2_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent4_2_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_4_2_min = cursor.execute(time_4_2_min)</div><div class="line">    time_4_2_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_4_2_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_4_2_max = cursor.execute(time_4_2_max)</div><div class="line">    time_4_2_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_4_2_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-2停止工作！\n"</span>)</div><div class="line">            tag4_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-2停止工作！\n"</span>)</div><div class="line">            tag4_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-2正常工作\n"</span>)</div><div class="line">            tag4_2 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器4-3</span></div><div class="line">    fo.write(<span class="string">"板山右线--传感器4-3：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_4_3)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_4_3_current1_0)</div><div class="line">    <span class="keyword">if</span> num_4_3 != <span class="number">0</span>:</div><div class="line">        percent4_3_1 = num_4_1_current1_0 / num_4_3</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent4_3_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent4_3_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_4_3_current2_0)</div><div class="line">    <span class="keyword">if</span> num_4_3 != <span class="number">0</span>:</div><div class="line">        percent4_3_2 = num_4_3_current2_0 / num_4_3</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent4_3_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent4_3_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_4_3_min = cursor.execute(time_4_3_min)</div><div class="line">    time_4_3_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_4_3_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_4_3_max = cursor.execute(time_4_3_max)</div><div class="line">    time_4_3_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_4_3_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-3停止工作！\n"</span>)</div><div class="line">            tag4_3 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-3停止工作！\n"</span>)</div><div class="line">            tag4_3 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-3正常工作\n"</span>)</div><div class="line">            tag4_3 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="keyword">if</span> tag4_1|tag4_2|tag4_3:</div><div class="line">        fo.write(<span class="string">"网关4正常工作\n\n"</span>)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        fo.write(<span class="string">"网关4停止工作！\n\n"</span>)</div><div class="line"></div><div class="line">    fo.write(<span class="string">"====================================================\n"</span>)</div><div class="line">    </div><div class="line">    fo.close()</div><div class="line"><span class="keyword">except</span>:</div><div class="line">    <span class="keyword">print</span> <span class="string">"Error: unable to fetch data"</span></div><div class="line"></div><div class="line">db.close()</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一个用&lt;code&gt;python&lt;/code&gt;操作网络后台&lt;code&gt;mysql&lt;/code&gt;数据库的小案例，保存于此，以备不时之需。&lt;/p&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
      <category term="mysql" scheme="https://yumuzi.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 14.04 安装 R 语言环境</title>
    <link href="https://yumuzi.github.io/ubuntu-r-install.html"/>
    <id>https://yumuzi.github.io/ubuntu-r-install.html</id>
    <published>2016-07-08T15:23:57.000Z</published>
    <updated>2017-11-05T15:34:41.079Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://blog.sina.com.cn/s/blog_86c8fc120101fq07.html" target="_blank" rel="external">ubuntu上R的卸载与安装</a></li><li><a href="http://blog.sina.com.cn/s/blog_676069b10102waq8.html" target="_blank" rel="external">ubuntu 从源码编译安装R过程笔记</a></li></ul><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul><li>操作系统：ubuntu 14.04 amd64</li><li>千万不要用使用系统自带软件源安装，版本太低</li></ul><a id="more"></a><h2 id="源文件下载"><a href="#源文件下载" class="headerlink" title="源文件下载"></a>源文件下载</h2><ul><li><a href="http://mirror.bjtu.edu.cn/cran/src/base/R-3/" target="_blank" rel="external">Index of /cran/src/base/R-3/</a></li><li><code>R-3.2.2</code> 在 <code>ubuntu 14.04 amd64</code> 系统上可用</li></ul><h2 id="卸载低版本-R"><a href="#卸载低版本-R" class="headerlink" title="卸载低版本 R"></a>卸载低版本 <code>R</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get remove r-base-core</div></pre></td></tr></table></figure><h2 id="安装-R"><a href="#安装-R" class="headerlink" title="安装 R"></a>安装 R</h2><p>解压缩后进入解压后的目录。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> R-3.2.2</div></pre></td></tr></table></figure><h3 id="安装依赖项"><a href="#安装依赖项" class="headerlink" title="安装依赖项"></a>安装依赖项</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install build-essential</div><div class="line">$ sudo apt-get install fort77</div><div class="line">$ sudo apt-get install xorg-dev</div><div class="line">$ sudo apt-get install liblzma-dev libblas-dev gfortran</div><div class="line">$ sudo apt-get install gcc-multilib</div><div class="line">$ sudo apt-get install gobjc++</div><div class="line">$ sudo apt-get install aptitude</div><div class="line">$ sudo aptitude install libreadline-dev</div><div class="line">$ sudo apt-get install texinfo</div></pre></td></tr></table></figure><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ ./configure --prefix /home/lyj/R</div><div class="line">$ ./configure --with-x=no --<span class="built_in">enable</span>-R-shlib</div></pre></td></tr></table></figure><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ make</div><div class="line">$ make install</div></pre></td></tr></table></figure><h3 id="配置环境变量（可选）"><a href="#配置环境变量（可选）" class="headerlink" title="配置环境变量（可选）"></a>配置环境变量（可选）</h3><p>如果在终端中直接输入 <code>R</code> 就可以进入 <code>R</code> 环境，就无需配置，否则可能起到反作用。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo gedit ~/.profile</div></pre></td></tr></table></figure><p>在文件末尾新增：</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">export PATH=<span class="variable">$PATH</span><span class="symbol">:/home/R-</span><span class="number">3.2</span>.<span class="number">2</span>/bin</div></pre></td></tr></table></figure><p>执行如下命令，使改变的环境变量生效。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">source</span> ~/.profile</div></pre></td></tr></table></figure><h2 id="安装-RStudio"><a href="#安装-RStudio" class="headerlink" title="安装 RStudio"></a>安装 RStudio</h2><p>下载 <code>RStudio.deb</code> 文件直接安装即可。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot; class=&quot;headerlink&quot; title=&quot;参考文档&quot;&gt;&lt;/a&gt;参考文档&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.sina.com.cn/s/blog_86c8fc120101fq07.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ubuntu上R的卸载与安装&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.sina.com.cn/s/blog_676069b10102waq8.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ubuntu 从源码编译安装R过程笔记&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;注意事项&quot;&gt;&lt;a href=&quot;#注意事项&quot; class=&quot;headerlink&quot; title=&quot;注意事项&quot;&gt;&lt;/a&gt;注意事项&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;操作系统：ubuntu 14.04 amd64&lt;/li&gt;
&lt;li&gt;千万不要用使用系统自带软件源安装，版本太低&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="r" scheme="https://yumuzi.github.io/tags/r/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 博客 NexT 模板配置之记录</title>
    <link href="https://yumuzi.github.io/hexo-next-theme.html"/>
    <id>https://yumuzi.github.io/hexo-next-theme.html</id>
    <published>2016-06-30T11:12:57.000Z</published>
    <updated>2017-11-05T15:32:10.807Z</updated>
    
    <content type="html"><![CDATA[<p><code>Hexo</code> 博客需要修改两个配置文件：</p><ul><li>站点的配置文件： <code>/_config.yml</code></li><li>模板的配置文件： <code>/themes/next/_config.yml</code><br>以下内容将主要围绕这两个文件展开。</li></ul><h2 id="安装-NexT"><a href="#安装-NexT" class="headerlink" title="安装 NexT"></a>安装 <code>NexT</code></h2><ul><li>下载 <code>hexo-theme-next</code>: <a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">NexT</a></li><li>修改站点配置文件：</li></ul><figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">language</span>: zh-Hans</div><div class="line"></div><div class="line"><span class="attribute">url</span>: http://yumuzi.github.io/</div><div class="line"></div><div class="line"><span class="attribute">theme</span>: next</div><div class="line"></div><div class="line"># Deployment</div><div class="line">## Docs: https://hexo.io/docs/deployment.html</div><div class="line"><span class="attribute">deploy:</span></div><div class="line">  type: git</div><div class="line">  <span class="attribute">repo</span>: git@github.com:yumuzi/yumuzi.github.io.git</div><div class="line">  <span class="attribute">branch</span>: master</div></pre></td></tr></table></figure><a id="more"></a><h2 id="配置-NexT"><a href="#配置-NexT" class="headerlink" title="配置 NexT"></a>配置 <code>NexT</code></h2><h3 id="设置侧边栏头像"><a href="#设置侧边栏头像" class="headerlink" title="设置侧边栏头像"></a>设置侧边栏头像</h3><p>在站点配置文件任意位置添加如下代码，并将图片放置在 <code>/source/uploads/</code> 文件夹下。</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">avatar:</span> <span class="meta-keyword">/uploads/</span>avatar.jpg</div></pre></td></tr></table></figure><h3 id="设置评论-duoshuo"><a href="#设置评论-duoshuo" class="headerlink" title="设置评论 duoshuo"></a>设置评论 <code>duoshuo</code></h3><p>在站点配置文件中添加如下代码，并参考 <a href="https://github.com/iissnan/hexo-theme-next/wiki/%E8%AE%BE%E7%BD%AE%E5%A4%9A%E8%AF%B4-DISQUS" target="_blank" rel="external">设置多说 DISQUS</a></p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">duoshuo_shortname:</span> liyanjie</div></pre></td></tr></table></figure><h3 id="添加友情链接"><a href="#添加友情链接" class="headerlink" title="添加友情链接"></a>添加友情链接</h3><p>将链接添加到站点配置文件中。</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># Social links</span></div><div class="line"><span class="symbol">social:</span></div><div class="line"><span class="symbol">  GitHub:</span> https:<span class="comment">//github.com/yumuzi</span></div><div class="line"><span class="symbol">  BitBucket:</span> https:<span class="comment">//bitbucket.org/liyanjie/</span></div><div class="line">  <span class="meta">#Twitter: https:<span class="comment">//twitter.com/iissnan</span></span></div><div class="line">  <span class="meta">#Weibo: http:<span class="comment">//weibo.com/iissnan</span></span></div><div class="line">  <span class="meta">#DouBan: http:<span class="comment">//douban.com/people/iissnan</span></span></div><div class="line"><span class="symbol">  ZhiHu:</span> https:<span class="comment">//www.zhihu.com/people/dong-cheng-xi-jiu-46</span></div><div class="line"><span class="symbol">  TRISK:</span> http:<span class="comment">//www.sh-trisk.com/</span></div><div class="line"><span class="symbol">  RiskVisual:</span> http:<span class="comment">//139.196.177.141/VMonitor/Auth/login.html</span></div><div class="line">  TJ-Library: http:<span class="comment">//www.lib.tongji.edu.cn/site/tongji/index.html</span></div><div class="line"><span class="symbol">  GoogleScholar:</span> https:<span class="comment">//scholar.google.com.hk/</span></div><div class="line"><span class="symbol">  BaiDuScholar:</span> http:<span class="comment">//xueshu.baidu.com/</span></div><div class="line"><span class="symbol">  LiaoXuefeng:</span> http:<span class="comment">//www.liaoxuefeng.com/</span></div><div class="line"><span class="symbol">  ESET:</span> http:<span class="comment">//bbs.kafan.cn/thread-1466549-1-1.html</span></div></pre></td></tr></table></figure><h3 id="添加-Google-Webmaster-tools-验证"><a href="#添加-Google-Webmaster-tools-验证" class="headerlink" title="添加 Google Webmaster tools 验证"></a>添加 Google Webmaster tools 验证</h3><p>参考： <a href="https://github.com/iissnan/hexo-theme-next/wiki/%E6%B7%BB%E5%8A%A0-Google-Webmaster-tools-%E9%AA%8C%E8%AF%81" target="_blank" rel="external">添加 Google Webmaster tools 验证</a></p><p>在站点配置文件中添加如下代码：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># Google Webmaster tools verification setting</span></div><div class="line"><span class="meta"># See: https:<span class="comment">//www.google.com/webmasters/</span></span></div><div class="line"><span class="symbol">google_site_verification:</span> W8hBJvI6x2_L0qJXcRUxwJbebxd87EQJkLDGRjRslzs</div></pre></td></tr></table></figure><h3 id="添加-Google-Baidu-统计"><a href="#添加-Google-Baidu-统计" class="headerlink" title="添加 Google Baidu 统计"></a>添加 Google Baidu 统计</h3><p>参考：</p><ul><li><a href="https://github.com/iissnan/hexo-theme-next/wiki/%E6%B7%BB%E5%8A%A0-Google---%E7%99%BE%E5%BA%A6-%E7%BB%9F%E8%AE%A1" target="_blank" rel="external">添加 Google 百度 统计</a></li><li><a href="https://www.google.com/intl/zh-CN_hk/analytics/" target="_blank" rel="external">Google Analytics（分析）</a></li><li><a href="http://sitecenter.baidu.com/sc-web/" target="_blank" rel="external">百度统计</a></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> Google Analytics</span></div><div class="line"><span class="meta">#</span><span class="bash"> Google分析ID</span></div><div class="line">google_analytics: UA-80055069-1</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> 百度分析ID</span></div><div class="line">baidu_analytics: c09a5ad5b8a33a8dca67eca63cc05ca5</div></pre></td></tr></table></figure><h3 id="添加站点地图"><a href="#添加站点地图" class="headerlink" title="添加站点地图"></a>添加站点地图</h3><p>参考：</p><ul><li><a href="http://lukang.me/2015/optimization-of-hexo-2.html" target="_blank" rel="external">Hexo 优化与定制(二)</a></li><li><a href="http://selfboot.cn/2014/12/21/add_blog_to_google/" target="_blank" rel="external">博客推广——提交搜索引擎</a></li></ul><p>使用插件生成站点地图，代码如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ npm install hexo-generator-sitemap --save</div><div class="line">$ npm install hexo-generator-baidu-sitemap --save</div></pre></td></tr></table></figure><p>并在站点配置文件中添加如下代码：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">sitemap:</span></div><div class="line"><span class="symbol">  path:</span> sitemap.xml</div><div class="line"></div><div class="line"><span class="symbol">baidumap:</span></div><div class="line"><span class="symbol">  path:</span> baidusitemap.xml</div></pre></td></tr></table></figure><h3 id="添加-RSS-订阅"><a href="#添加-RSS-订阅" class="headerlink" title="添加 RSS 订阅"></a>添加 RSS 订阅</h3><p>参考：<a href="http://mritd.me/2016/03/08/Hexo%E6%B7%BB%E5%8A%A0Rss%E8%AE%A2%E9%98%85/" target="_blank" rel="external">Hexo添加Rss订阅</a></p><p>安装 <code>RSS</code> 插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install hexo-generator-feed --save</div></pre></td></tr></table></figure><p>在站点配置文件中添加如下代码：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># RSS 订阅支持</span></div><div class="line"><span class="meta"># Feed Atom</span></div><div class="line"><span class="symbol">feed:</span></div><div class="line"><span class="symbol">  type:</span> atom</div><div class="line"><span class="symbol">  path:</span> atom.xml</div><div class="line"><span class="symbol">  limit:</span> <span class="number">20</span></div><div class="line"><span class="symbol">  hub:</span></div></pre></td></tr></table></figure><h3 id="添加站内搜索"><a href="#添加站内搜索" class="headerlink" title="添加站内搜索"></a>添加站内搜索</h3><p>参考：<a href="https://github.com/iissnan/hexo-theme-next/wiki/Swiftype%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2" target="_blank" rel="external">Swiftype站内搜索</a></p><h3 id="自定义站内搜索"><a href="#自定义站内搜索" class="headerlink" title="自定义站内搜索"></a>自定义站内搜索</h3><p>参考：<a href="https://github.com/iissnan/hexo-theme-next/wiki/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2" target="_blank" rel="external">自定义站内搜索</a></p><h3 id="阅读次数"><a href="#阅读次数" class="headerlink" title="阅读次数"></a>阅读次数</h3><p>参考：<a href="http://oyjt.github.io/2016/04/09/%E4%B8%BA%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8A%9F%E8%83%BD/" target="_blank" rel="external">为博客文章添加阅读量统计功能</a></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Show number of visitors to each article.</span></div><div class="line"><span class="comment"># You can visit https://leancloud.cn get AppID and AppKey.</span></div><div class="line"><span class="attr">leancloud_visitors:</span></div><div class="line"><span class="attr">  enable:</span> <span class="literal">true</span></div><div class="line"><span class="attr">  app_id:</span> <span class="string">zLSdflMuUY1ECQoMfs2yesmi-gzGzoHsz</span></div><div class="line"><span class="attr">  app_key:</span> <span class="string">vHXMGspVWONNGTitY8143H6v</span></div></pre></td></tr></table></figure><p><strong>未完待续…</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;Hexo&lt;/code&gt; 博客需要修改两个配置文件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;站点的配置文件： &lt;code&gt;/_config.yml&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;模板的配置文件： &lt;code&gt;/themes/next/_config.yml&lt;/code&gt;&lt;br&gt;以下内容将主要围绕这两个文件展开。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;安装-NexT&quot;&gt;&lt;a href=&quot;#安装-NexT&quot; class=&quot;headerlink&quot; title=&quot;安装 NexT&quot;&gt;&lt;/a&gt;安装 &lt;code&gt;NexT&lt;/code&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;下载 &lt;code&gt;hexo-theme-next&lt;/code&gt;: &lt;a href=&quot;https://github.com/iissnan/hexo-theme-next&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NexT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;修改站点配置文件：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight http&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;language&lt;/span&gt;: zh-Hans&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;url&lt;/span&gt;: http://yumuzi.github.io/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;theme&lt;/span&gt;: next&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Deployment&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;## Docs: https://hexo.io/docs/deployment.html&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;deploy:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  type: git&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;repo&lt;/span&gt;: git@github.com:yumuzi/yumuzi.github.io.git&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;branch&lt;/span&gt;: master&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="blog" scheme="https://yumuzi.github.io/tags/blog/"/>
    
      <category term="hexo" scheme="https://yumuzi.github.io/tags/hexo/"/>
    
      <category term="next" scheme="https://yumuzi.github.io/tags/next/"/>
    
      <category term="theme" scheme="https://yumuzi.github.io/tags/theme/"/>
    
  </entry>
  
  <entry>
    <title>用 Django 开发个人博客</title>
    <link href="https://yumuzi.github.io/Django-firstblog.html"/>
    <id>https://yumuzi.github.io/Django-firstblog.html</id>
    <published>2016-06-29T06:48:45.000Z</published>
    <updated>2017-11-05T15:31:25.753Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="http://www.51bxl.cn/blog/2/" target="_blank" rel="external">Django入门教程介绍</a></li></ul><h2 id="Django-搭建开发环境"><a href="#Django-搭建开发环境" class="headerlink" title="Django 搭建开发环境"></a>Django 搭建开发环境</h2><ul><li>首先，安装 <code>python 2.7</code>，过程不在赘述；</li><li>安装 <code>django 1.8.5</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo pip install django==1.8.5</div></pre></td></tr></table></figure><p>检查是否安装成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ python</div><div class="line"></div><div class="line">&gt;&gt;&gt; import django</div><div class="line">&gt;&gt;&gt; <span class="built_in">print</span> django.VERSION</div></pre></td></tr></table></figure><p>最后，按 <code>ctrl + d</code> 可以退出 <code>python</code> 环境。</p><a id="more"></a><h2 id="创建工程"><a href="#创建工程" class="headerlink" title="创建工程"></a>创建工程</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ django-admin.py startproject firstblog</div></pre></td></tr></table></figure><p>查看工程目录结构：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ tree</div></pre></td></tr></table></figure><h2 id="创建应用模块"><a href="#创建应用模块" class="headerlink" title="创建应用模块"></a>创建应用模块</h2><p>一个工程中可以创建多个应用<code>app</code>，一个app就是一个功能模块，下面创建一个 <code>blog</code> 应用。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python manage.py startapp blog</div></pre></td></tr></table></figure><p>然后，需要将新增的<code>app</code>添加到工程中去，打开 <code>firstblog/settring.py</code> 配置文件，增加一行：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">INSTALLED_APPS = (</div><div class="line">    <span class="string">'django.contrib.admin'</span>,</div><div class="line">    <span class="string">'django.contrib.auth'</span>,</div><div class="line">    <span class="string">'django.contrib.contenttypes'</span>,</div><div class="line">    <span class="string">'django.contrib.sessions'</span>,</div><div class="line">    <span class="string">'django.contrib.messages'</span>,</div><div class="line">    <span class="string">'django.contrib.staticfiles'</span>,</div><div class="line">    <span class="string">'blog'</span>,</div><div class="line">)</div></pre></td></tr></table></figure><h2 id="启动工程"><a href="#启动工程" class="headerlink" title="启动工程"></a>启动工程</h2><p>在 <code>firstblog</code> 工程目录下，输入命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python manage.py runserver</div></pre></td></tr></table></figure><p>打开浏览器，输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:8000</div></pre></td></tr></table></figure><h2 id="数据库设置"><a href="#数据库设置" class="headerlink" title="数据库设置"></a>数据库设置</h2><ul><li>安装 <code>mysql</code> 数据库</li></ul><p>参考：<a href="http://yumuzi.github.io/2016/05/23/Ubuntu-python/">Ubuntu + Python 学习之路</a></p><p>然后，安装 <code>navicat for mysql</code> 方便管理数据库。</p><ul><li>新建 <code>blog</code> 数据库</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ mysql -u root -p</div><div class="line"></div><div class="line">mysql&gt; create database blog default charset=utf8;</div></pre></td></tr></table></figure><p>打开 <code>firstblog/settings.py</code> 文件，修改：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">DATABASES = &#123;</div><div class="line">    <span class="string">'default'</span>: &#123;</div><div class="line">        <span class="string">'ENGINE'</span>: <span class="string">'django.db.backends.mysql'</span>,</div><div class="line">        <span class="string">'NAME'</span>: <span class="string">'blog'</span>,</div><div class="line">        <span class="string">'USER'</span>: <span class="string">'root'</span>,</div><div class="line">        <span class="string">'PASSWORD'</span>: <span class="string">'123456'</span>,</div><div class="line">        <span class="string">'HOST'</span>: <span class="string">'localhost'</span>,</div><div class="line">        <span class="string">'PORT'</span>: <span class="string">'3306'</span>,</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">TIME_ZONE = <span class="string">'Asia/Shanghai'</span></div></pre></td></tr></table></figure><ul><li>新建表</li></ul><p>打开 <code>blog/models.py</code> 文件，添加：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</div><div class="line"> </div><div class="line"><span class="comment"># Create your models here.</span></div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tag</span><span class="params">(models.Model)</span>:</span></div><div class="line">    tag_name = models.CharField(<span class="string">'标签'</span>, max_length=<span class="number">50</span>)</div><div class="line">    tag_cn_name = models.CharField(<span class="string">'中文名字'</span>, max_length=<span class="number">50</span>, blank=<span class="keyword">True</span>)</div><div class="line"> </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__unicode__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.tag_name</div><div class="line"> </div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Article</span><span class="params">(models.Model)</span>:</span></div><div class="line">    title = models.CharField(<span class="string">'标题'</span>, max_length=<span class="number">100</span>)</div><div class="line">    tag = models.ManyToManyField(Tag, max_length=<span class="number">50</span>, blank=<span class="keyword">True</span>)</div><div class="line">    date_time = models.DateTimeField(<span class="string">'日期'</span>, auto_now_add=<span class="keyword">True</span>)</div><div class="line">    content = models.TextField(<span class="string">'内容'</span>, blank=<span class="keyword">True</span>, null=<span class="keyword">True</span>)</div><div class="line"> </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__unicode__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.title</div><div class="line"> </div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></div><div class="line">        verbose_name = <span class="string">'文章'</span></div><div class="line">        verbose_name_plural = <span class="string">'文章'</span></div><div class="line">        ordering = [<span class="string">'-date_time'</span>]</div></pre></td></tr></table></figure><p>然后，打开终端，输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ python manage.py makemigrations</div><div class="line">$ python manage.py migrate</div></pre></td></tr></table></figure><p>创建后台管理用户：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ python manage.py createsuper</div><div class="line">Username (leave blank to use <span class="string">'lyj'</span>): admin</div><div class="line">Email address: admin@123.com</div><div class="line">Password: </div><div class="line">Password (again): </div><div class="line">Superuser created successfully.</div></pre></td></tr></table></figure><p>在 <code>blog/admin.py</code> 中注册这两个表：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</div><div class="line"><span class="keyword">from</span> blog.models <span class="keyword">import</span> Tag, Article</div><div class="line"> </div><div class="line"><span class="comment"># Register your models here.</span></div><div class="line"> </div><div class="line">admin.site.register(Tag)</div><div class="line">admin.site.register(Article)</div></pre></td></tr></table></figure><p>在浏览器中输入 <code>127.0.0.1:8000/admin</code>，会出现登陆界面。</p><h2 id="view-和-url-1"><a href="#view-和-url-1" class="headerlink" title="view 和 url (1)"></a>view 和 url (1)</h2><ul><li>打开 <code>firstblog/urls.py</code> 文件，添加一行打开首页的代码：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> include, url</div><div class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</div><div class="line"><span class="keyword">import</span> settings</div><div class="line"></div><div class="line">urlpatterns = [</div><div class="line">    url(<span class="string">r'^admin/'</span>, include(admin.site.urls)),</div><div class="line">    url(<span class="string">r'^$'</span>, <span class="string">'blog.views.home'</span>, name=<span class="string">'home'</span>),</div><div class="line">]</div></pre></td></tr></table></figure><ul><li>接着打开 <code>blog/views.py</code>，添加 <code>home</code> 函数：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</div><div class="line"></div><div class="line"><span class="comment"># Create your views here.</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">home</span><span class="params">(request)</span>:</span></div><div class="line"> </div><div class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">"&lt;label style='color: ff0000'&gt;Hello World&lt;/label&gt;"</span>)</div></pre></td></tr></table></figure><ul><li>然后，启动服务，在浏览器输入 <code>127.0.0.1:8000</code>，可以看到会输出：</li></ul><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">Hello World</span></div></pre></td></tr></table></figure><h2 id="view-和-url-2"><a href="#view-和-url-2" class="headerlink" title="view 和 url (2)"></a>view 和 url (2)</h2><ul><li>在 <code>view</code> 中使用数据库，修改 <code>home</code> 函数：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</div><div class="line"><span class="comment">#from django.http import HttpResponse</span></div><div class="line"><span class="keyword">from</span> blog.models <span class="keyword">import</span> Article, Tag</div><div class="line"></div><div class="line"><span class="comment"># Create your views here.</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">home</span><span class="params">(request)</span>:</span></div><div class="line">    post_list = Article.objects.all()</div><div class="line"> </div><div class="line">    <span class="comment">#return HttpResponse("&lt;label style='color: ff0000'&gt;Hello World&lt;/label&gt;")</span></div><div class="line">    <span class="keyword">return</span> render(request, <span class="string">'blog/index.html'</span>, &#123;<span class="string">'post_list'</span>:post_list&#125;)</div></pre></td></tr></table></figure><p>此功能是获取所有的文章列表。</p><ul><li>再定义一个文章接收函数：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_articles</span><span class="params">(request, tag_name)</span>:</span></div><div class="line">    post_list = Article.objects.filter(tag_name = tag_name)</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> render(request, <span class="string">'blog/index.html'</span>, &#123;<span class="string">'post_list'</span>:post_list&#125;)</div></pre></td></tr></table></figure><ul><li>根据文章的 <code>id</code> 获取文章的内容：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">detail</span><span class="params">(request, id)</span>:</span></div><div class="line">    post = Article.objects.get(id = str(id))</div><div class="line">    <span class="keyword">return</span> render(request, <span class="string">'blog/detail.html'</span>, &#123;<span class="string">'post'</span>:post&#125;)</div></pre></td></tr></table></figure><ul><li>在 <code>blog/</code> 目录下建立 <code>url.py</code> 文件，添加代码：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> url</div><div class="line"></div><div class="line">urlpatterns = [</div><div class="line">    url(<span class="string">r'^$'</span>, <span class="string">'blog.views.home'</span>),</div><div class="line">    url(<span class="string">r'^(?P&lt;id&gt;\d+)/$'</span>, <span class="string">'blog.views.detail'</span>, name=<span class="string">'detail'</span>),</div><div class="line">    url(<span class="string">r'^(?P&lt;tag_name&gt;\w+)/$'</span>, <span class="string">'blog.views.get_articles'</span>, name=<span class="string">'get_articles'</span>),</div><div class="line">]</div></pre></td></tr></table></figure><h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><ul><li><p>在 <code>firstblog/</code> 目录下新增一个 <code>templates</code> 目录，与 <code>blog</code> 目录同级，在 <code>templates</code> 目录下新建一个 <code>blog</code> 目录。</p></li><li><p>由于前台页面中 <code>html, css, js</code> 等开发起来比较复杂，现在基本都用一些比较强大的工具，比如 <code>bootstrap</code>，但鉴于这个例子比较简单，就用一个轻量的 <code>pure</code> 框架。</p></li></ul><p><code>pure</code> 框架安装参考：<a href="http://yumuzi.github.io/2016/05/23/Ubuntu-python/">Ubuntu + Python 学习之路</a></p><ul><li>接着修改 <code>firstblog/settings.py</code> 文件：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">TEMPLATES = [</div><div class="line">    &#123;</div><div class="line">        <span class="string">'BACKEND'</span>: <span class="string">'django.template.backends.django.DjangoTemplates'</span>,</div><div class="line">        <span class="comment">#'DIRS': [],</span></div><div class="line">        <span class="string">'DIRS'</span>: (os.path.join(BASE_DIR, <span class="string">'firstblog/templates/'</span>),),<span class="comment"># 路径要写全</span></div><div class="line">        <span class="string">'APP_DIRS'</span>: <span class="keyword">True</span>,</div><div class="line">        <span class="string">'OPTIONS'</span>: &#123;</div><div class="line">            <span class="string">'context_processors'</span>: [</div><div class="line">                <span class="string">'django.template.context_processors.debug'</span>,</div><div class="line">                <span class="string">'django.template.context_processors.request'</span>,</div><div class="line">                <span class="string">'django.contrib.auth.context_processors.auth'</span>,</div><div class="line">                <span class="string">'django.contrib.messages.context_processors.messages'</span>,</div><div class="line">            ],</div><div class="line">        &#125;,</div><div class="line">    &#125;,</div><div class="line">]</div></pre></td></tr></table></figure><ul><li>下面实现一个简单的功能，把之前从数据库中获取的文章列表在模板中显示出来，在 <code>templates/blog/</code> 下创建 <code>index.html</code>：</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--index.html--&gt;</span></div><div class="line"><span class="meta">&lt;!doctype html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-capable"</span> <span class="attr">content</span>=<span class="string">"yes"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"format-detection"</span> <span class="attr">content</span>=<span class="string">"telephone=no"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"Keywords"</span> <span class="attr">content</span>=<span class="string">"python,django,django教程,服务器开发,web开发,博客开发"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"东杰网站."</span>&gt;</span></div><div class="line"> </div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>东杰网<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"> </div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://yui.yahooapis.com/pure/0.6.0/pure-min.css"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://picturebag.qiniudn.com/blog.css"</span>&gt;</span></div><div class="line"> </div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"> </div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"layout"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sidebar pure-u-1 pure-u-md-1-4"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Dong&amp;Jie Blog<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>东杰的网站<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line"> </div><div class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> </div><div class="line"> </div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content pure-u-1 pure-u-md-3-4"</span>&gt;</span></div><div class="line">              <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">                &#123;% for post in post_list %&#125;</div><div class="line">                    <span class="tag">&lt;<span class="name">section</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line"> </div><div class="line">                                <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">                                    日期:  <span class="tag">&lt;<span class="name">label</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>&#123;&#123; post.date_time |date:"Y /m /d H:i:s"&#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">                                <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></div><div class="line">                &#123;% endfor %&#125;</div><div class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure><ul><li>模板继承：</li></ul><p>在 <code>templates/blog/</code> 下创建 <code>base.html</code> 文件：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--base.html--&gt;</span></div><div class="line"><span class="meta">&lt;!doctype html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-capable"</span> <span class="attr">content</span>=<span class="string">"yes"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"format-detection"</span> <span class="attr">content</span>=<span class="string">"telephone=no"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"Keywords"</span> <span class="attr">content</span>=<span class="string">"python,django,django教程,服务器开发,web开发,博客开发"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"东杰网站."</span>&gt;</span></div><div class="line"> </div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>东杰网<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"> </div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://yui.yahooapis.com/pure/0.6.0/pure-min.css"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://picturebag.qiniudn.com/blog.css"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://picturebag.qiniudn.com/monokai.css"</span>&gt;</span></div><div class="line"> </div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"> </div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"layout"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sidebar pure-u-1 pure-u-md-1-4"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Dong&amp;Jie Blog<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>东杰的网站<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>                   </div><div class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> </div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content pure-u-1 pure-u-md-3-4"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">                    &#123;% block content %&#125;</div><div class="line">                    &#123;% endblock %&#125;</div><div class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure><p>然后，改写 <code>index.html</code>：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--home.html--&gt;</span></div><div class="line">&#123;% extends "blog/base.html" %&#125;</div><div class="line"> </div><div class="line">&#123;% block content %&#125;</div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"posts"</span>&gt;</span></div><div class="line">    &#123;% for post in post_list %&#125;</div><div class="line">        <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"post"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"post-header"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"post-title"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line"> </div><div class="line">                    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"post-meta"</span>&gt;</span></div><div class="line">                        日期:  <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"post-author"</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>&#123;&#123; post.date_time |date:"Y /m /d H:i:s"&#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">section</span>&gt;</span></div><div class="line">    &#123;% endfor %&#125;</div><div class="line"> </div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!-- /.blog-post --&gt;</span></div><div class="line">&#123;% endblock %&#125;</div></pre></td></tr></table></figure><ul><li>点击文章标题，显示文章详情：<br>首先，修改 <code>index.html</code>，将标题的 <code>href</code> 改为：</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"post-title"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;% url "</span><span class="attr">detail</span>" <span class="attr">id</span>=<span class="string">post.id</span> %&#125;" <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div></pre></td></tr></table></figure><p>在 <code>firstblog/urls.py</code> 中添加：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">url(<span class="string">r'^blog/'</span>, include(<span class="string">'blog.urls'</span>)),</div></pre></td></tr></table></figure><p>在 <code>blog/urls.py</code> 中添加：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">url(<span class="string">r'^(?P&lt;id&gt;\d+)/$'</span>, <span class="string">'blog.views.detail'</span>, name=<span class="string">'detail'</span>),</div></pre></td></tr></table></figure><p>在 <code>templates/blog/</code> 下新建一个 <code>detail.html</code>：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--detail.html--&gt;</span></div><div class="line">&#123;% extends "blog/base.html" %&#125;</div><div class="line">&#123;#&#123;% load custom_markdown %&#125;#&#125;</div><div class="line"> </div><div class="line">&#123;% block content %&#125;</div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"posts"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"post"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"post-header"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"post-title"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line"> </div><div class="line">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"post-meta"</span>&gt;</span></div><div class="line">                    日期:  <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"post-author"</span>&gt;</span>&#123;&#123; post.date_time |date:"Y /m /d H:i:s"&#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line"> </div><div class="line">        <span class="tag">&lt;<span class="name">div</span> &gt;</span></div><div class="line">             &#123;&#123; post.content&#125;&#125;</div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">&#123;% endblock %&#125;</div></pre></td></tr></table></figure><p>启动服务，在浏览器中打开，点击标题，就可以看到文章详情了。</p><h2 id="后台-Admin"><a href="#后台-Admin" class="headerlink" title="后台 Admin"></a>后台 Admin</h2><ul><li>实现后台富文本编辑界面</li></ul><p>选择百度的 <code>Ueditor</code> 编辑器：<a href="https://github.com/zhangfisher/DjangoUeditor" target="_blank" rel="external">github Ueditor</a></p><p>下载后，把里面的 <code>DjangoUeditor-master</code> 中的 <code>DjangoUeditor</code> 文件夹放到跟 <code>blog</code> 和 <code>templates</code> 同一级目录</p><p>修改 <code>firstblog/settrings.py</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">INSTALLED_APPS = (</div><div class="line">    ...</div><div class="line">     </div><div class="line">    <span class="string">'blog'</span>,</div><div class="line">    <span class="string">'DjangoUeditor'</span>,</div><div class="line">)</div></pre></td></tr></table></figure><p>在最下面添加如下代码，保证可以上传图片：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">STATIC_URL = <span class="string">'/static/'</span></div><div class="line">STATIC_ROOT = os.path.join(BASE_DIR, <span class="string">'collected_static'</span>)</div><div class="line"> </div><div class="line">STATICFILES_DIRS = (</div><div class="line">    os.path.join(BASE_DIR, <span class="string">"common_static"</span>),</div><div class="line">)</div><div class="line"> </div><div class="line"><span class="comment"># upload folder</span></div><div class="line">MEDIA_URL = <span class="string">'/media/'</span></div><div class="line">MEDIA_ROOT = os.path.join(BASE_DIR, <span class="string">'media'</span>)</div></pre></td></tr></table></figure><p>在 <code>firstblog/urls.py</code> 添加：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">url(<span class="string">r'^ueditor/'</span>, include(<span class="string">'DjangoUeditor.urls'</span> )),</div></pre></td></tr></table></figure><p>在最下面添加：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> settrings</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line"><span class="keyword">if</span> settings.DEBUG:</div><div class="line">    <span class="keyword">from</span> django.conf.urls.static <span class="keyword">import</span> static</div><div class="line">    urlpatterns += static(</div><div class="line">        settings.MEDIA_URL, document_root = settings.MEDIA_ROOT</div><div class="line">    )</div></pre></td></tr></table></figure><p>最后，修改 <code>blog/models.py</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> DjangoUeditor.models <span class="keyword">import</span> UEditorField</div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Article</span><span class="params">(models.Model)</span>:</span></div><div class="line"> </div><div class="line">           。。。省略其他代码</div><div class="line">            </div><div class="line">    content = UEditorField(<span class="string">'内容'</span>, height=<span class="number">500</span>, width=<span class="number">1000</span>,</div><div class="line">        default=<span class="string">u''</span>, blank=<span class="keyword">True</span>, imagePath=<span class="string">"uploads/images/"</span>,</div><div class="line">        toolbars=<span class="string">'besttome'</span>, filePath=<span class="string">'uploads/files/'</span>)</div></pre></td></tr></table></figure><ul><li>前台的显示</li></ul><p>首先，修改 <code>templates/blog/base.html</code>，在 <code>&lt;head&gt;</code> 中添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"/static/ueditor/third-party/SyntaxHighlighter/shCoreDefault.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/static/ueditor/third-party/SyntaxHighlighter/shCore.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="undefined">    SyntaxHighlighter.all();</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><p>然后，将 <code>templates/blog/detail.html</code> 中的：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> &gt;</span></div><div class="line">     &#123;&#123; post.content&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p>改为：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> &gt;</span></div><div class="line">    &#123;&#123; post.content|safe &#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p><code>safe</code> 把服务器传过来的格式转换为<code>html</code> 格式。</p><p><strong>Over!</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;参考资料&quot;&gt;&lt;a href=&quot;#参考资料&quot; class=&quot;headerlink&quot; title=&quot;参考资料&quot;&gt;&lt;/a&gt;参考资料&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.51bxl.cn/blog/2/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Django入门教程介绍&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;Django-搭建开发环境&quot;&gt;&lt;a href=&quot;#Django-搭建开发环境&quot; class=&quot;headerlink&quot; title=&quot;Django 搭建开发环境&quot;&gt;&lt;/a&gt;Django 搭建开发环境&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;首先，安装 &lt;code&gt;python 2.7&lt;/code&gt;，过程不在赘述；&lt;/li&gt;
&lt;li&gt;安装 &lt;code&gt;django 1.8.5&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo pip install django==1.8.5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;检查是否安装成功：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ python&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; import django&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt; django.VERSION&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;最后，按 &lt;code&gt;ctrl + d&lt;/code&gt; 可以退出 &lt;code&gt;python&lt;/code&gt; 环境。&lt;/p&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
      <category term="django" scheme="https://yumuzi.github.io/tags/django/"/>
    
      <category term="blog" scheme="https://yumuzi.github.io/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>用 Scrapy 实现的一个网络爬虫</title>
    <link href="https://yumuzi.github.io/spider.html"/>
    <id>https://yumuzi.github.io/spider.html</id>
    <published>2016-06-22T12:05:26.000Z</published>
    <updated>2017-11-05T15:33:38.788Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://blog.csdn.net/column/details/why-bug.html" target="_blank" rel="external">Python爬虫入门教程</a></li><li><a href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329" target="_blank" rel="external">[Python]网络爬虫（12）：爬虫框架Scrapy的第一个爬虫示例入门教程</a></li><li><a href="http://blog.csdn.net/u012150179/article/details/32911511" target="_blank" rel="external">scrapy研究探索（二）——爬w3school.com.cn</a></li><li><a href="http://blog.csdn.net/felcon/article/details/46439995" target="_blank" rel="external">Scrapy中文输出与中文保存</a></li><li><a href="http://blog.163.com/fy_ay/blog/static/22028347200991693526268/" target="_blank" rel="external">python 元素列表的可变性（修改，插入，删除）</a></li><li><a href="http://www.cnblogs.com/QuDump/p/3750447.html" target="_blank" rel="external">Ubuntu 14.04 安装 scrapy</a></li></ul><h2 id="Scrapy框架"><a href="#Scrapy框架" class="headerlink" title="Scrapy框架"></a><code>Scrapy</code>框架</h2><h3 id="安装（Ubuntu-14-04）"><a href="#安装（Ubuntu-14-04）" class="headerlink" title="安装（Ubuntu 14.04）"></a>安装（Ubuntu 14.04）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">在执行如下命令之前，确定已经安装了 Python 2.7, lxml, OpenSSL, pip, python-dev</div><div class="line">$ sudo pip install service_identity</div><div class="line">$ sudo pip install Scrapy</div></pre></td></tr></table></figure><a id="more"></a><h3 id="新建项目（tj91）"><a href="#新建项目（tj91）" class="headerlink" title="新建项目（tj91）"></a>新建项目（tj91）</h3><p>下面将建立一个获取“同济大学就业信息网（<a href="http://tj91.tongji.edu.cn/）”的爬虫。" target="_blank" rel="external">http://tj91.tongji.edu.cn/）”的爬虫。</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ scrapy startproject tj91</div></pre></td></tr></table></figure><h3 id="items-py"><a href="#items-py" class="headerlink" title="items.py"></a><code>items.py</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="keyword">from</span> scrapy.item <span class="keyword">import</span> Item, Field</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tj91Item</span><span class="params">(Item)</span>:</span></div><div class="line">    title = Field()</div><div class="line">    link = Field()</div><div class="line">    desc = Field()</div></pre></td></tr></table></figure><h3 id="pipelines-py"><a href="#pipelines-py" class="headerlink" title="pipelines.py"></a><code>pipelines.py</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> json</div><div class="line"><span class="keyword">import</span> codecs</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tj91Pipeline</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        self.file = codecs.open(<span class="string">'tj91_data_utf8.json'</span>, <span class="string">'wb'</span>, encoding=<span class="string">'utf-8'</span>)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_item</span><span class="params">(self, item, spider)</span>:</span></div><div class="line">        line = json.dumps(dict(item)) + <span class="string">'\n'</span>  </div><div class="line">        self.file.write(line.decode(<span class="string">"unicode_escape"</span>))  </div><div class="line">        <span class="keyword">return</span> item</div></pre></td></tr></table></figure><h3 id="settings-py"><a href="#settings-py" class="headerlink" title="settings.py"></a><code>settings.py</code></h3><p>增加如下内容。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ITEM_PIPELINES = &#123;</div><div class="line">    <span class="string">'tj91.pipelines.Tj91Pipeline'</span>:<span class="number">300</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="主程序-tj91-spider-py"><a href="#主程序-tj91-spider-py" class="headerlink" title="主程序 tj91_spider.py"></a>主程序 <code>tj91_spider.py</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> scrapy.spider <span class="keyword">import</span> Spider</div><div class="line"><span class="keyword">from</span> scrapy.selector <span class="keyword">import</span> Selector</div><div class="line"><span class="keyword">from</span> scrapy <span class="keyword">import</span> log</div><div class="line"><span class="keyword">from</span> tj91.items <span class="keyword">import</span> Tj91Item</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tj91Spider</span><span class="params">(Spider)</span>:</span></div><div class="line">    name = <span class="string">"tj91"</span></div><div class="line">    allowed_domains = [<span class="string">"tongji.edu.cn"</span>]</div><div class="line">    start_urls = [</div><div class="line">        <span class="string">"http://tj91.tongji.edu.cn/detach.portal?.f=pe401&amp;.pmn=view&amp;action=bulletinsMoreView&amp;search=true&amp;.ia=false&amp;.pen=pe401&amp;groupid=20"</span>,</div><div class="line">        <span class="string">"http://tj91.tongji.edu.cn/detach.portal?.f=pe401&amp;.pmn=view&amp;action=bulletinsMoreView&amp;search=true&amp;.ia=false&amp;.pen=pe401&amp;groupid=21"</span>,</div><div class="line">        <span class="string">"http://tj91.tongji.edu.cn/detach.portal?pageIndex=2&amp;.pmn=view&amp;groupid=21&amp;action=bulletinsMoreView&amp;pageSize=&amp;.ia=false&amp;.pen=pe401"</span>,</div><div class="line">        <span class="string">"http://tj91.tongji.edu.cn/detach.portal?pageIndex=2&amp;.pmn=view&amp;groupid=20&amp;action=bulletinsMoreView&amp;pageSize=&amp;.ia=false&amp;.pen=pe401"</span></div><div class="line">]</div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self, response)</span>:</span></div><div class="line">        sel = Selector(response)</div><div class="line">        sites = sel.xpath(<span class="string">'//ul[@id="blpe401"]/li'</span>)</div><div class="line">        items = []</div><div class="line">        <span class="keyword">for</span> site <span class="keyword">in</span> sites:</div><div class="line">            item = Tj91Item()</div><div class="line"></div><div class="line">            title = site.xpath(<span class="string">'a/text()'</span>).extract()<span class="comment"># 获取标题</span></div><div class="line">            date = site.xpath(<span class="string">'span/span/text()'</span>).extract()<span class="comment"># 获取日期</span></div><div class="line">            link = site.xpath(<span class="string">'a/@href'</span>).extract()<span class="comment"># 获取超链接</span></div><div class="line">            item[<span class="string">'title'</span>] = title + date<span class="comment"># 将标题和日期组合显示</span></div><div class="line">            link[<span class="number">1</span>] = <span class="string">"http://tj91.tongji.edu.cn/"</span> + link[<span class="number">1</span>]<span class="comment"># 对爬取的超链接进行修改</span></div><div class="line">            item[<span class="string">'link'</span>] = link[<span class="number">1</span>]</div><div class="line">            items.append(item)</div><div class="line">        <span class="keyword">return</span> items</div></pre></td></tr></table></figure><h3 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ scrapy crawl tj91</div></pre></td></tr></table></figure><p>执行该命令就会在工程根目录生成 <code>tj91_data_utf8.json</code> 文件。</p><p><strong>完成！^_^</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot; class=&quot;headerlink&quot; title=&quot;参考文档&quot;&gt;&lt;/a&gt;参考文档&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/column/details/why-bug.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Python爬虫入门教程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/pleasecallmewhy/article/details/19642329&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;[Python]网络爬虫（12）：爬虫框架Scrapy的第一个爬虫示例入门教程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/u012150179/article/details/32911511&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;scrapy研究探索（二）——爬w3school.com.cn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/felcon/article/details/46439995&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Scrapy中文输出与中文保存&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.163.com/fy_ay/blog/static/22028347200991693526268/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;python 元素列表的可变性（修改，插入，删除）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/QuDump/p/3750447.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ubuntu 14.04 安装 scrapy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;Scrapy框架&quot;&gt;&lt;a href=&quot;#Scrapy框架&quot; class=&quot;headerlink&quot; title=&quot;Scrapy框架&quot;&gt;&lt;/a&gt;&lt;code&gt;Scrapy&lt;/code&gt;框架&lt;/h2&gt;&lt;h3 id=&quot;安装（Ubuntu-14-04）&quot;&gt;&lt;a href=&quot;#安装（Ubuntu-14-04）&quot; class=&quot;headerlink&quot; title=&quot;安装（Ubuntu 14.04）&quot;&gt;&lt;/a&gt;安装（Ubuntu 14.04）&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;在执行如下命令之前，确定已经安装了 Python 2.7, lxml, OpenSSL, pip, python-dev&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo pip install service_identity&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo pip install Scrapy&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
      <category term="spider" scheme="https://yumuzi.github.io/tags/spider/"/>
    
  </entry>
  
  <entry>
    <title>python 实现的若干小程序</title>
    <link href="https://yumuzi.github.io/python-applications.html"/>
    <id>https://yumuzi.github.io/python-applications.html</id>
    <published>2016-06-21T01:17:23.000Z</published>
    <updated>2017-11-05T15:33:09.138Z</updated>
    
    <content type="html"><![CDATA[<h2 id="读取和更改PDF文档标题"><a href="#读取和更改PDF文档标题" class="headerlink" title="读取和更改PDF文档标题"></a>读取和更改PDF文档标题</h2><ul><li>安装<code>python-pypdf</code><br>参考：<a href="https://www.howinstall.co/en/ubuntu/trusty/python-pypdf" target="_blank" rel="external">How to install python-pypdf on Ubuntu 14.04 (Trusty Tahr)</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install python-pypdf</div></pre></td></tr></table></figure><a id="more"></a><ul><li>使用</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> pyPdf <span class="keyword">import</span> PdfFileWriter, PdfFileReader</div><div class="line"><span class="keyword">import</span> os</div><div class="line"></div><div class="line"><span class="keyword">for</span> fileName <span class="keyword">in</span> os.listdir(<span class="string">'.'</span>):</div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        <span class="keyword">if</span> fileName.lower()[<span class="number">-3</span>:] != <span class="string">"pdf"</span>: <span class="keyword">continue</span></div><div class="line">        input1 = PdfFileReader(file(fileName,<span class="string">"rb"</span>))</div><div class="line"></div><div class="line">        <span class="comment"># print the title of document1.pdf</span></div><div class="line">        fo = open(<span class="string">"foo.txt"</span>, <span class="string">"a"</span>)</div><div class="line">        fo.write(<span class="string">'##1:\n'</span> + fileName + <span class="string">'\n'</span> + <span class="string">'##2:\n'</span> + input1.getDocumentInfo().title + <span class="string">'\n\n'</span>)</div><div class="line">        fo.close()</div><div class="line"></div><div class="line">        <span class="comment"># rename the document with it's title</span></div><div class="line">        os.rename(fileName, input1.getDocumentInfo().title + <span class="string">".pdf"</span>)</div><div class="line">    <span class="keyword">except</span>:</div><div class="line">        <span class="keyword">print</span> <span class="string">'##1'</span>, fileName, <span class="string">'##2'</span></div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"Success!"</span></div></pre></td></tr></table></figure><h2 id="神经网络-pybrain"><a href="#神经网络-pybrain" class="headerlink" title="神经网络 pybrain"></a>神经网络 <code>pybrain</code></h2><ul><li>安装 <code>pybrain</code><br>参考：<a href="https://github.com/pybrain/pybrain/wiki/Installation" target="_blank" rel="external">Installation</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git clone https://github.com/pybrain/pybrain.git</div><div class="line">$ cd pybrain</div><div class="line">$ sudo pip install .</div></pre></td></tr></table></figure><ul><li>使用<br>参考：<a href="http://www.jianshu.com/p/29dd4787096a" target="_blank" rel="external">PyBrain学习笔记（一）</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="comment"># 说明：</span></div><div class="line"><span class="comment"># 1.pybrain使用addSample添加输入和目标输出；</span></div><div class="line"><span class="comment"># 2.使用buildNetwork构建神经网络</span></div><div class="line"><span class="comment"># 3.使用BackpropTrainer训练神经网络</span></div><div class="line"><span class="comment"># 4.最后输出原始目标和训练后的结果</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> pybrain.datasets <span class="keyword">import</span> SupervisedDataSet</div><div class="line"><span class="keyword">from</span> pybrain.tools.shortcuts <span class="keyword">import</span> buildNetwork</div><div class="line"><span class="keyword">from</span> pybrain.supervised.trainers <span class="keyword">import</span> BackpropTrainer</div><div class="line"></div><div class="line">ds = SupervisedDataSet(<span class="number">3</span>,<span class="number">1</span>)</div><div class="line">ds.addSample((<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>),(<span class="number">0</span>))</div><div class="line">ds.addSample((<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>),(<span class="number">1</span>))</div><div class="line">ds.addSample((<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>),(<span class="number">1</span>))</div><div class="line">ds.addSample((<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>),(<span class="number">0</span>))</div><div class="line"></div><div class="line">net = buildNetwork(<span class="number">3</span>,<span class="number">3</span>,<span class="number">1</span>)</div><div class="line"></div><div class="line">trainer = BackpropTrainer(net,ds)</div><div class="line">trainer.train()</div><div class="line"></div><div class="line"><span class="keyword">for</span> input, target <span class="keyword">in</span> ds:</div><div class="line">    <span class="keyword">print</span> input, target, net.activate(input)</div></pre></td></tr></table></figure><h2 id="支持向量机SVM"><a href="#支持向量机SVM" class="headerlink" title="支持向量机SVM"></a>支持向量机<code>SVM</code></h2><ul><li><p>使用<br>参考：<a href="http://www.fuqingchuan.com/2014/03/222.html" target="_blank" rel="external">揭开机器学习的面纱：SVM 100行代码实现[Python版]</a></p></li><li><p>代码</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment">#coding=utf8</span></div><div class="line"><span class="keyword">import</span> sys;</div><div class="line"><span class="keyword">import</span> random;</div><div class="line"><span class="keyword">import</span> math;</div><div class="line">EPS = <span class="number">0.0000000001</span> <span class="comment"># 很小的数字，用于判断浮点数是否等于0</span></div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_data</span><span class="params">(filename, data, dim)</span>:</span></div><div class="line">    <span class="string">'''</span></div><div class="line"><span class="string">    输入数据格式: label\tindex1:value1\tindex2:value2\tindex3:value3..., 其中index是特征的编号, 从1开始</span></div><div class="line"><span class="string">    data的数据格式: [[label, sample],[label, sample], ...],  其中sample: [v0, v1, v2, v3, ..., v[dim]]</span></div><div class="line"><span class="string">    '''</span> </div><div class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> open(filename, <span class="string">'rt'</span>):</div><div class="line">        sample = [<span class="number">0.0</span> <span class="keyword">for</span> v <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>)]; </div><div class="line">        line = line.rstrip(<span class="string">"\r\n\t "</span>);</div><div class="line">        fields = line.split(<span class="string">"\t"</span>);</div><div class="line">        label = int(fields[<span class="number">0</span>]); <span class="comment"># LABEL取值: 1 or -1</span></div><div class="line">        sample[<span class="number">0</span>] = <span class="number">1.0</span>; <span class="comment">#sample第一个元素用于存x0特征, 默认置为1.0[方便把 WX+b =&gt; WX]</span></div><div class="line">        <span class="keyword">for</span> field <span class="keyword">in</span> fields[<span class="number">1</span>:]:</div><div class="line">            kv = field.split(<span class="string">":"</span>);</div><div class="line">            idx = int(kv[<span class="number">0</span>]); <span class="comment"># ensure idx &gt;= 1</span></div><div class="line">            val = float(kv[<span class="number">1</span>]);</div><div class="line">            sample[idx] = val;</div><div class="line">        data.append((label, sample));</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">svm_train</span><span class="params">(data4train, dim, W, iterations, lm, lr)</span>:</span></div><div class="line">    <span class="string">'''</span></div><div class="line"><span class="string">    目标函数: obj(&lt;X,y&gt;, W) = (对所有&lt;X,y&gt;SUM&#123;max&#123;0, 1 - W*X*y&#125;&#125;) + lm / 2 * ||W||^2, 即：hinge+L2</span></div><div class="line"><span class="string">    '''</span></div><div class="line">    X = [<span class="number">0.0</span> <span class="keyword">for</span> v <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>)]; <span class="comment"># &lt;sample, label&gt; =&gt; &lt;X, y&gt;</span></div><div class="line">    grad = [<span class="number">0.0</span> <span class="keyword">for</span> v <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>)]; <span class="comment"># 梯度</span></div><div class="line">    num_train = len(data4train);</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, iterations):</div><div class="line">        <span class="comment">#每次迭代随机选择一个训练样本</span></div><div class="line">        index = random.randint(<span class="number">0</span>, num_train - <span class="number">1</span>);</div><div class="line">        y = data4train[index][<span class="number">0</span>]; <span class="comment"># y其实就是label</span></div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">            X[j] = data4train[index][<span class="number">1</span>][j];<span class="comment"># sample的vj</span></div><div class="line"></div><div class="line">        <span class="comment">#计算梯度</span></div><div class="line">        <span class="comment">#for j in range(0, dim + 1):</span></div><div class="line">        <span class="comment">#grad = lm * W[j];</span></div><div class="line">        WX = <span class="number">0.0</span>;</div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">            WX += W[j] * X[j];</div><div class="line">        <span class="keyword">if</span> <span class="number">1</span> - WX *y &gt; <span class="number">0</span>:</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">                grad[j] = lm * W[j] - X[j] * y;</div><div class="line">        <span class="keyword">else</span>:  <span class="comment"># 1-WX *y &lt;= 0的时候，目标函数的前半部分恒等于0, 梯度也是0</span></div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">                grad[j] = lm * W[j] - <span class="number">0</span>;</div><div class="line"> </div><div class="line">        <span class="comment">#更新权重, lr是学习速率</span></div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">            W[j] = W[j] - lr * grad[j];</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">svm_predict</span><span class="params">(data4test, dim , W)</span>:</span></div><div class="line">    num_test = len(data4test);</div><div class="line">    num_correct = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, num_test):</div><div class="line">        target = data4test[i][<span class="number">0</span>]; <span class="comment">#即label</span></div><div class="line">        X = data4test[i][<span class="number">1</span>]; <span class="comment"># 即sample</span></div><div class="line">        sum = <span class="number">0.0</span>;</div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">            sum += X[j] * W[j];</div><div class="line">        predict = <span class="number">-1</span>;</div><div class="line">        <span class="comment">#print sum;</span></div><div class="line">        <span class="keyword">if</span> sum &gt; <span class="number">0</span>:  <span class="comment">#权值&gt;0，认为目标值为1</span></div><div class="line">            predict = <span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span> predict * target &gt; <span class="number">0</span>: <span class="comment">#预测值和目标值符号相同</span></div><div class="line">            num_correct += <span class="number">1</span>;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> num_correct * <span class="number">1.0</span> / num_test;</div><div class="line"> </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">    <span class="string">'''</span></div><div class="line"><span class="string">    主函数：设置参数=&gt;导入数据=&gt;训练=&gt;输出结果</span></div><div class="line"><span class="string">    '''</span></div><div class="line">    <span class="comment">#设置参数</span></div><div class="line">    epochs = <span class="number">100</span>;<span class="comment">#迭代轮数</span></div><div class="line">    iterations = <span class="number">10</span>;<span class="comment">#每一轮中梯度下降迭代次数, 这个其实可以和epochs合并为一个参数</span></div><div class="line">    data4train = []; <span class="comment">#训练集, 假设每个样本的特征数量都一样</span></div><div class="line">    data4test = []; <span class="comment">#测试集, 假设每个样本的特征数量都一样</span></div><div class="line">    lm = <span class="number">0.0001</span>; <span class="comment">#lambda, 对权值做正则化限制的权重</span></div><div class="line">    lr = <span class="number">0.01</span>;   <span class="comment">#lr, 是学习速率，用于调整训练收敛的速度</span></div><div class="line">    dim = <span class="number">1000</span>;<span class="comment">#dim, 特征的最大维度, 所有样本不同特征总数</span></div><div class="line">    W = [<span class="number">0.0</span> <span class="keyword">for</span> v <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>)]; <span class="comment">#权值</span></div><div class="line">    <span class="comment">#导入测试集&amp;训练集</span></div><div class="line">    load_data(<span class="string">"train.txt"</span>, data4train, dim);</div><div class="line">    load_data(<span class="string">"test.txt"</span>, data4test, dim);</div><div class="line">    <span class="comment">#训练, 实际迭代次数=epochs * iterations</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, epochs):</div><div class="line">        svm_train(data4train, dim, W, iterations, lm, lr);</div><div class="line">        accuracy = svm_predict(data4test, dim, W);</div><div class="line">        <span class="keyword">print</span> <span class="string">"epoch:%d\taccuracy:%f"</span>%(i, accuracy);</div><div class="line">    <span class="comment">#输出结果权值</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">        <span class="keyword">if</span> math.fabs(W[i]) &gt; EPS:</div><div class="line">            <span class="keyword">print</span> <span class="string">"%d\t%f"</span>%(i, W[i]);</div><div class="line">    sys.exit(<span class="number">0</span>);</div></pre></td></tr></table></figure><h2 id="有限元sfepy"><a href="#有限元sfepy" class="headerlink" title="有限元sfepy"></a>有限元<code>sfepy</code></h2><p>参考：<a href="http://yumuzi.github.io/2016/05/25/sfepy-install/">Ubuntu 14.04 安装 Python 有限元模块 sfepy</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">进入sfepy目录</div><div class="line">$ ./simple.py examples/diffusion/poisson_short_syntax.py</div><div class="line">$ ./postproc.py cylinder.vtk</div></pre></td></tr></table></figure><h2 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h2><p>参考：<a href="https://www.zhihu.com/question/20899988/answer/91660166" target="_blank" rel="external">如何入门 Python 爬虫？</a></p><ul><li>代码</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> urllib2 <span class="keyword">import</span> urlopen</div><div class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</div><div class="line"></div><div class="line">url = <span class="string">"http://www.xinhuanet.com/"</span></div><div class="line">html = urlopen(url)</div><div class="line"></div><div class="line">bsObj = BeautifulSoup(html, <span class="string">"html.parser"</span>)</div><div class="line">print(bsObj.title)</div></pre></td></tr></table></figure><ul><li><code>Scrapy</code> 框架: 参见 <a href="http://yumuzi.github.io/2016/06/22/spider/">用 Scrapy 实现的一个网络爬虫</a></li></ul><p><strong>持续更新……</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;读取和更改PDF文档标题&quot;&gt;&lt;a href=&quot;#读取和更改PDF文档标题&quot; class=&quot;headerlink&quot; title=&quot;读取和更改PDF文档标题&quot;&gt;&lt;/a&gt;读取和更改PDF文档标题&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;安装&lt;code&gt;python-pypdf&lt;/code&gt;&lt;br&gt;参考：&lt;a href=&quot;https://www.howinstall.co/en/ubuntu/trusty/python-pypdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How to install python-pypdf on Ubuntu 14.04 (Trusty Tahr)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get update&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install python-pypdf&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>pandoc 在 Ubuntu 中的安装与使用</title>
    <link href="https://yumuzi.github.io/ubuntu-pandoc.html"/>
    <id>https://yumuzi.github.io/ubuntu-pandoc.html</id>
    <published>2016-05-26T14:53:28.000Z</published>
    <updated>2017-11-05T15:34:25.246Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://www.yangzhiping.com/tech/pandoc.html" target="_blank" rel="external">Markdown写作进阶：Pandoc入门浅谈</a></li><li><a href="http://www.bagualu.net/wordpress/archives/5396" target="_blank" rel="external">用pandoc把markdown转化为pdf文档</a></li></ul><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul><li>参考上述文档</li></ul><h2 id="文件转换"><a href="#文件转换" class="headerlink" title="文件转换"></a>文件转换</h2><h3 id="markdown-转-docx"><a href="#markdown-转-docx" class="headerlink" title="markdown 转 docx"></a><code>markdown</code> 转 <code>docx</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ pandoc 01-chapter2.markdown -o chapter2.docx -c Github.css</div></pre></td></tr></table></figure><h3 id="markdown-转-pdf"><a href="#markdown-转-pdf" class="headerlink" title="markdown 转 pdf"></a><code>markdown</code> 转 <code>pdf</code></h3><ul><li>首先，需要配置好<code>latex</code>环境</li><li>查看中文字体</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">fc</span>-list -f <span class="string">"%&#123;family&#125;\n"</span>  :lang=zh</div></pre></td></tr></table></figure><ul><li><code>pandoc</code>中的<code>pdf</code>模板</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ pandoc -D latex &gt; template.latex</div></pre></td></tr></table></figure><ul><li>转换</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ pandoc -f markdown -t latex -s -M mainfont:SimSun -M sansfont:SimSun -M monofont:SimHei --latex-engine=xelatex -o aa.pdf -M geometry:<span class="string">"top=1in,inner=1in,outer=1in,bottom=1in,headheight=3ex,headsep=2ex"</span> --template=./template.tex ubuntu_latex.md</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot; class=&quot;headerlink&quot; title=&quot;参考文档&quot;&gt;&lt;/a&gt;参考文档&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.yangzhiping.com/tech/pandoc.html&quot; ta
      
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="pandoc" scheme="https://yumuzi.github.io/tags/pandoc/"/>
    
  </entry>
  
  <entry>
    <title>LibSVM 在 Ubuntu 系统的安装与使用</title>
    <link href="https://yumuzi.github.io/ubuntu-libsvm.html"/>
    <id>https://yumuzi.github.io/ubuntu-libsvm.html</id>
    <published>2016-05-26T13:40:50.000Z</published>
    <updated>2017-11-05T15:34:17.311Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://www.xuebuyuan.com/1547606.html" target="_blank" rel="external">在 linux（ubuntu） 下 安装 LibSVM</a></li><li><a href="http://www.cnphp.info/use-libsvm-in-linux.html" target="_blank" rel="external">Linux下使用Libsvm</a></li></ul><h2 id="安装-gnuplot"><a href="#安装-gnuplot" class="headerlink" title="安装 gnuplot"></a>安装 gnuplot</h2><ul><li>下载源码：<a href="https://sourceforge.net/projects/gnuplot/files/gnuplot/4.6.6/" target="_blank" rel="external">gnuplot-4.6.6</a></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install libx11-dev</div></pre></td></tr></table></figure><ul><li>解压、编译和安装</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ tar xzvf gnuplot-4.6.6.tar.gz</div><div class="line">$ <span class="built_in">cd</span> gnuplot-4.6.6</div><div class="line">$ ./configure</div><div class="line">$ make</div><div class="line">$ sudo make install</div></pre></td></tr></table></figure><a id="more"></a><h2 id="安装-libsvm"><a href="#安装-libsvm" class="headerlink" title="安装 libsvm"></a>安装 libsvm</h2><ul><li>下载文件：<a href="http://www.csie.ntu.edu.tw/~cjlin/cgi-bin/libsvm.cgi?+http://www.csie.ntu.edu.tw/~cjlin/libsvm+tar.gz" target="_blank" rel="external">libsvm</a></li><li>下载完成后解压，我把libsvm文件夹放到了 /usr/bin 目录下，然后在tools文件夹下找到 easy.py 和 grid.py 两个文件。把其中 gnuplot 的路径设置好。注意gnuplot的pathname不是解压的那个目录，而是要用 which gnuplot 命令来找出。我安装完后gnuplot的路径是 /usr/local/bin/gnuplot</li><li>最后执行在libsvm的文件夹下执行make命令，在子目录python下执行make命令</li></ul><p><strong>至此libsvm安装完成～</strong></p><h2 id="使用-libsvm"><a href="#使用-libsvm" class="headerlink" title="使用 libsvm"></a>使用 libsvm</h2><ul><li>数据下载：<a href="http://www.csie.ntu.edu.tw/~cjlin/libsvmtools/datasets/" target="_blank" rel="external">libsvm-data</a></li></ul><p><strong>进入到<code>libsvm/tools</code>目录</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python easy.py ~/libsvm/examples/a1a ~/libsvm/examples/a1a.t</div></pre></td></tr></table></figure><p>前者为训练数据，后者为测试数据。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot; class=&quot;headerlink&quot; title=&quot;参考文档&quot;&gt;&lt;/a&gt;参考文档&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.xuebuyuan.com/1547606.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;在 linux（ubuntu） 下 安装 LibSVM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnphp.info/use-libsvm-in-linux.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Linux下使用Libsvm&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;安装-gnuplot&quot;&gt;&lt;a href=&quot;#安装-gnuplot&quot; class=&quot;headerlink&quot; title=&quot;安装 gnuplot&quot;&gt;&lt;/a&gt;安装 gnuplot&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;下载源码：&lt;a href=&quot;https://sourceforge.net/projects/gnuplot/files/gnuplot/4.6.6/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;gnuplot-4.6.6&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install libx11-dev&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;解压、编译和安装&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ tar xzvf gnuplot-4.6.6.tar.gz&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; gnuplot-4.6.6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ ./configure&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ make&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo make install&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="libsvm" scheme="https://yumuzi.github.io/tags/libsvm/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 14.04 安装 Python 有限元模块 sfepy</title>
    <link href="https://yumuzi.github.io/sfepy-install.html"/>
    <id>https://yumuzi.github.io/sfepy-install.html</id>
    <published>2016-05-25T14:49:01.000Z</published>
    <updated>2017-11-05T15:33:22.241Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://tianya4088.blogspot.com/2016/03/sfepy.html" target="_blank" rel="external">SfePy 安装</a></li><li><a href="http://installion.co.uk/ubuntu/trusty/universe/m/mayavi2/install/index.html" target="_blank" rel="external">How To Install mayavi2 On Ubuntu 14.04 Lts</a></li></ul><h2 id="软件源更新"><a href="#软件源更新" class="headerlink" title="软件源更新"></a>软件源更新</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div></pre></td></tr></table></figure><h2 id="安装依赖库"><a href="#安装依赖库" class="headerlink" title="安装依赖库"></a>安装依赖库</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install libfreetype6-dev libpng-dev libumfpack5.6.2</div><div class="line">$ sudo apt-get install gfortran python-pip</div><div class="line">$ sudo pip install cython pyparsing scipy</div></pre></td></tr></table></figure><a id="more"></a><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install swig</div><div class="line">$ sudo apt-get install libsuitesparse-dev</div><div class="line">$ git <span class="built_in">clone</span> https://github.com/scikit-umfpack/scikit-umfpack.git</div><div class="line">$ <span class="built_in">cd</span> scikit-umfpack</div><div class="line">$ sudo apt-get install pandoc</div><div class="line">$ sudo python setup.py install</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install libhdf5-dev python-numexpr </div><div class="line">$ sudo pip install blosc sympy pymetis</div><div class="line">$ sudo apt-get install python-sparse python-tables</div></pre></td></tr></table></figure><ul><li>接下来安装前，需要增加新的软件源</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo gedit /etc/apt/sources.list</div></pre></td></tr></table></figure><p>将下面一条语句添加到文件末尾，并保存</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">deb <span class="string">http:</span><span class="comment">//us.archive.ubuntu.com/ubuntu trusty main univers</span></div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install mayavi2</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install ipython</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python-matplotlib python-numpydoc sphinx3</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo pip install https://bitbucket.org/dalcinl/igakit/get/default.tar.gz</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo pip install numpy mpi4py</div></pre></td></tr></table></figure><ul><li>安装 <code>Petsc</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo python setup.py install</div><div class="line">$ sudo pip install petsc4py</div></pre></td></tr></table></figure><h2 id="安装-SfePy"><a href="#安装-SfePy" class="headerlink" title="安装 SfePy"></a>安装 SfePy</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git <span class="built_in">clone</span> git://github.com/sfepy/sfepy.git</div><div class="line">$ <span class="built_in">cd</span> sfepy</div><div class="line">$ python setup.py build_ext --inplace</div><div class="line">$ python run_tests.py</div></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><ul><li>需要进入<code>sfepy</code>目录</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ ./simple.py examples/diffusion/poisson_short_syntax.py</div><div class="line">$ ./postproc.py cylinder.vtk</div></pre></td></tr></table></figure><p>运行命令之后就可以看到后处理界面。</p><p><strong>安装过程到此结束～</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot; class=&quot;headerlink&quot; title=&quot;参考文档&quot;&gt;&lt;/a&gt;参考文档&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://tianya4088.blogspot.com/2016/03/sfepy.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SfePy 安装&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://installion.co.uk/ubuntu/trusty/universe/m/mayavi2/install/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How To Install mayavi2 On Ubuntu 14.04 Lts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;软件源更新&quot;&gt;&lt;a href=&quot;#软件源更新&quot; class=&quot;headerlink&quot; title=&quot;软件源更新&quot;&gt;&lt;/a&gt;软件源更新&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get update&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;安装依赖库&quot;&gt;&lt;a href=&quot;#安装依赖库&quot; class=&quot;headerlink&quot; title=&quot;安装依赖库&quot;&gt;&lt;/a&gt;安装依赖库&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install libfreetype6-dev libpng-dev libumfpack5.6.2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install gfortran python-pip&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo pip install cython pyparsing scipy&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="sfepy" scheme="https://yumuzi.github.io/tags/sfepy/"/>
    
  </entry>
  
  <entry>
    <title>网络编程学习之路</title>
    <link href="https://yumuzi.github.io/web-programming.html"/>
    <id>https://yumuzi.github.io/web-programming.html</id>
    <published>2016-05-23T05:18:44.000Z</published>
    <updated>2017-11-05T15:35:15.152Z</updated>
    
    <content type="html"><![CDATA[<h2 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h2><ul><li>问题：使用 Navicat 将 Excel 文件导入 mysql 数据库，中文乱码<br>解决办法：将数据库和数据表都设置为 <code>utf8</code> 编码，两者缺一不可！<br>数据表的<code>sql</code>语法如下：</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`TABLE_NAME`</span> (</div><div class="line">......</div><div class="line">......</div><div class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;MySQL&quot;&gt;&lt;a href=&quot;#MySQL&quot; class=&quot;headerlink&quot; title=&quot;MySQL&quot;&gt;&lt;/a&gt;MySQL&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;问题：使用 Navicat 将 Excel 文件导入 mysql 数据库，中文乱码&lt;br&gt;解决办法：将数
      
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="mysql" scheme="https://yumuzi.github.io/tags/mysql/"/>
    
      <category term="programming" scheme="https://yumuzi.github.io/tags/programming/"/>
    
      <category term="php" scheme="https://yumuzi.github.io/tags/php/"/>
    
      <category term="html" scheme="https://yumuzi.github.io/tags/html/"/>
    
      <category term="css" scheme="https://yumuzi.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu + Python 学习之路</title>
    <link href="https://yumuzi.github.io/Ubuntu-python.html"/>
    <id>https://yumuzi.github.io/Ubuntu-python.html</id>
    <published>2016-05-23T03:38:36.000Z</published>
    <updated>2017-11-05T15:34:33.586Z</updated>
    
    <content type="html"><![CDATA[<h2 id="python-库"><a href="#python-库" class="headerlink" title="python 库"></a>python 库</h2><ul><li>pip3</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python3-pip</div></pre></td></tr></table></figure><ul><li>numpy, scipy, matplotlib (for python)</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python-numpy</div><div class="line">$ sudo apt-get install python-scipy</div><div class="line">$ sudo apt-get install python-matplotlib</div></pre></td></tr></table></figure><ul><li>numpy, scipy, matplot lib (for python3)</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo pip3 install numpy</div><div class="line">$ sudo apt-get install libfreetype6-dev libxft-dev</div><div class="line">$ sudo pip3 install matplotlib</div><div class="line">$ sudo apt-get install python3-scipy</div></pre></td></tr></table></figure><a id="more"></a><h2 id="python文件打包exe文件：pyinstaller"><a href="#python文件打包exe文件：pyinstaller" class="headerlink" title="python文件打包exe文件：pyinstaller"></a>python文件打包exe文件：<code>pyinstaller</code></h2><p>参考：<a href="http://blog.sina.com.cn/s/blog_af6fe5860102vnt0.html" target="_blank" rel="external">关于Linux(Ubuntu)安装使用pyinstaller</a></p><ul><li>安装</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install pyinstaller</div></pre></td></tr></table></figure><ul><li>使用</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> ~/PyTest</div><div class="line">$ pyinstaller test.py</div></pre></td></tr></table></figure><h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><ul><li>安装 <code>mysql</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install mysql-server mysql-client</div></pre></td></tr></table></figure><ul><li>安装 <code>mysql-python</code> 模块</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python-setuptools</div><div class="line">$ sudo apt-get install libmysqld-dev</div><div class="line">$ sudo apt-get install libmysqlclient-dev</div><div class="line">$ sudo apt-get install python-dev</div><div class="line">$ sudo easy_install mysql-python</div></pre></td></tr></table></figure><h2 id="pure-css"><a href="#pure-css" class="headerlink" title="pure.css"></a>pure.css</h2><ul><li>安装<br>参考：<a href="https://github.com/yahoo/pure/" target="_blank" rel="external">yahoo/pure</a></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install purecss</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;python-库&quot;&gt;&lt;a href=&quot;#python-库&quot; class=&quot;headerlink&quot; title=&quot;python 库&quot;&gt;&lt;/a&gt;python 库&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;pip3&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install python3-pip&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;numpy, scipy, matplotlib (for python)&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install python-numpy&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install python-scipy&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install python-matplotlib&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;numpy, scipy, matplot lib (for python3)&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo pip3 install numpy&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install libfreetype6-dev libxft-dev&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo pip3 install matplotlib&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install python3-scipy&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>LaTeX-Beamer 学习之路</title>
    <link href="https://yumuzi.github.io/beamer-tutor.html"/>
    <id>https://yumuzi.github.io/beamer-tutor.html</id>
    <published>2016-05-12T13:27:40.000Z</published>
    <updated>2017-11-05T15:30:57.524Z</updated>
    
    <content type="html"><![CDATA[<h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><ul><li><a href="https://github.com/yumuzi/Beamer" target="_blank" rel="external">很好用的模板</a></li></ul><h2 id="加载宏包"><a href="#加载宏包" class="headerlink" title="加载宏包"></a>加载宏包</h2><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;ragged2e&#125;</span></span><span class="comment">% 设置段落对齐方式宏包</span></div></pre></td></tr></table></figure><a id="more"></a><h2 id="全局设置"><a href="#全局设置" class="headerlink" title="全局设置"></a>全局设置</h2><ul><li>指定存储图片的路径（当前目录下的figures文件夹）</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">graphicspath</span><span class="string">&#123;&#123;figures/&#125;</span></span>&#125;</div></pre></td></tr></table></figure><ul><li>PDF文件打开即全屏显示</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">hypersetup</span><span class="string">&#123;pdfpagemode=FullScreen&#125;</span></span></div></pre></td></tr></table></figure><ul><li>在表格、图片等标题中显示编号</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">setbeamertemplate</span><span class="string">&#123;caption&#125;</span><span class="string">[numbered]</span></span></div></pre></td></tr></table></figure><ul><li>设置段落两端对齐</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">justifying</span></span></div><div class="line"><span class="tag">\<span class="name">let</span></span><span class="tag">\<span class="name">raggedright</span></span><span class="tag">\<span class="name">justifying</span></span></div></pre></td></tr></table></figure><ul><li>修改图表名格式</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">setbeamertemplate</span><span class="string">&#123;caption label separator&#125;</span><span class="string">&#123;. &#125;</span></span></div><div class="line"><span class="tag">\<span class="name">renewcommand</span><span class="string">&#123;\figurename&#125;</span><span class="string">&#123;Figure&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">renewcommand</span><span class="string">&#123;\tablename&#125;</span><span class="string">&#123;Table&#125;</span></span></div></pre></td></tr></table></figure><ul><li>设置图表标题大小</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">setbeamerfont</span><span class="string">&#123;caption&#125;</span><span class="string">&#123;size=\footnotesize&#125;</span></span></div></pre></td></tr></table></figure><p><em>持续更新…</em></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;模板&quot;&gt;&lt;a href=&quot;#模板&quot; class=&quot;headerlink&quot; title=&quot;模板&quot;&gt;&lt;/a&gt;模板&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/yumuzi/Beamer&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;很好用的模板&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;加载宏包&quot;&gt;&lt;a href=&quot;#加载宏包&quot; class=&quot;headerlink&quot; title=&quot;加载宏包&quot;&gt;&lt;/a&gt;加载宏包&lt;/h2&gt;&lt;figure class=&quot;highlight tex&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;\&lt;span class=&quot;name&quot;&gt;usepackage&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&amp;#123;ragged2e&amp;#125;&lt;/span&gt;&lt;/span&gt;	&lt;span class=&quot;comment&quot;&gt;% 设置段落对齐方式宏包&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="學術" scheme="https://yumuzi.github.io/categories/%E5%AD%B8%E8%A1%93/"/>
    
    
      <category term="latex" scheme="https://yumuzi.github.io/tags/latex/"/>
    
      <category term="beamer" scheme="https://yumuzi.github.io/tags/beamer/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 安装和配置 oh-my-zsh</title>
    <link href="https://yumuzi.github.io/oh-my-zsh-install.html"/>
    <id>https://yumuzi.github.io/oh-my-zsh-install.html</id>
    <published>2016-05-08T13:35:19.000Z</published>
    <updated>2017-11-05T15:32:54.148Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考文档："><a href="#参考文档：" class="headerlink" title="参考文档："></a>参考文档：</h2><ul><li><a href="https://github.com/robbyrussell/oh-my-zsh/issues/1984" target="_blank" rel="external">unable to upgrade #1984</a></li></ul><h2 id="要安装-zsh，首先需要安装-git-和-curl"><a href="#要安装-zsh，首先需要安装-git-和-curl" class="headerlink" title="要安装 zsh，首先需要安装 git 和 curl"></a>要安装 <code>zsh</code>，首先需要安装 <code>git</code> 和 <code>curl</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install git</div><div class="line">$ sudo apt-get install git-core</div><div class="line">$ sudo apt-get install curl</div><div class="line"></div><div class="line">$ git --version</div><div class="line">$ curl --version</div></pre></td></tr></table></figure><a id="more"></a><h2 id="安装-zsh"><a href="#安装-zsh" class="headerlink" title="安装 zsh"></a>安装 <code>zsh</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install zsh</div><div class="line">$ zsh --version</div></pre></td></tr></table></figure><h2 id="设置zsh-为你的默认-shell"><a href="#设置zsh-为你的默认-shell" class="headerlink" title="设置zsh 为你的默认 shell"></a>设置<code>zsh</code> 为你的默认 <code>shell</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ chsh -s $(<span class="built_in">which</span> zsh)</div></pre></td></tr></table></figure><h2 id="安装-oh-my-zsh"><a href="#安装-oh-my-zsh" class="headerlink" title="安装 oh my zsh"></a>安装 <code>oh my zsh</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sh -c <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>"</span></div></pre></td></tr></table></figure><h2 id="更新-oh-my-zsh"><a href="#更新-oh-my-zsh" class="headerlink" title="更新 oh my zsh"></a>更新 <code>oh my zsh</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ upgrade_oh_my_zsh</div></pre></td></tr></table></figure><h3 id="遇到问题"><a href="#遇到问题" class="headerlink" title="遇到问题"></a>遇到问题</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[Oh My Zsh] Would you like to check <span class="keyword">for</span> updates?</div><div class="line">Type Y to update oh-my-zsh: Y</div><div class="line">Upgrading Oh My Zsh</div><div class="line">Cannot pull with rebase: You have unstaged changes.</div><div class="line">Please commit or stash them.</div><div class="line">There was an error updating. Try again later?</div></pre></td></tr></table></figure><h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><ul><li>Open up Terminal</li><li>Type in ‘~/.oh-my-zsh’, this should change your directory to the zsh directory.<br>-Terminal should read: “ .oh-my-zsh git:(master) “. If it does, go to step 3.</li><li>Type in “git status” to see that your status is ahead of master.<br>-If you’re not concerned about the file status changes, you can “stash” those changes by doing step 4.</li><li>Type in “git stash” to save the progress in the git and move the head back to master.</li><li>Done. Now you should be able to upgrade the next time the terminal asks you too.</li></ul><h2 id="更改主题"><a href="#更改主题" class="headerlink" title="更改主题"></a>更改主题</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vim ./zshrc</div></pre></td></tr></table></figure><p>修改为你想要的主题即可，我采用的是 <code>ZSH_THEME=&quot;wezm&quot;</code></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;参考文档：&quot;&gt;&lt;a href=&quot;#参考文档：&quot; class=&quot;headerlink&quot; title=&quot;参考文档：&quot;&gt;&lt;/a&gt;参考文档：&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/robbyrussell/oh-my-zsh/issues/1984&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;unable to upgrade #1984&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;要安装-zsh，首先需要安装-git-和-curl&quot;&gt;&lt;a href=&quot;#要安装-zsh，首先需要安装-git-和-curl&quot; class=&quot;headerlink&quot; title=&quot;要安装 zsh，首先需要安装 git 和 curl&quot;&gt;&lt;/a&gt;要安装 &lt;code&gt;zsh&lt;/code&gt;，首先需要安装 &lt;code&gt;git&lt;/code&gt; 和 &lt;code&gt;curl&lt;/code&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install git&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install git-core&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install curl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ git --version&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ curl --version&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="zsh" scheme="https://yumuzi.github.io/tags/zsh/"/>
    
      <category term="oh-my-zsh" scheme="https://yumuzi.github.io/tags/oh-my-zsh/"/>
    
  </entry>
  
  <entry>
    <title>读书笔记</title>
    <link href="https://yumuzi.github.io/book-logs.html"/>
    <id>https://yumuzi.github.io/book-logs.html</id>
    <published>2016-05-08T09:15:14.000Z</published>
    <updated>2017-11-05T15:30:15.935Z</updated>
    
    <content type="html"><![CDATA[<p>谨在此记录一下自己在读书过程中看到的一些美词佳句和受到的感动……</p><h2 id="《JLH》"><a href="#《JLH》" class="headerlink" title="《JLH》"></a>《JLH》</h2><p>作者：QBY</p><ul><li>《桃花扇》续四十出《余韵》，清代孔尚任<br>眼看他起朱楼，眼看他认宾客，眼看他楼塌了。这青苔碧瓦堆。俺曾睡风流觉，将五十年兴亡看饱。</li></ul><a id="more"></a><ul><li><p>《省试湘灵鼓瑟》，唐代钱起<br>流水传潇浦，悲风过洞庭。曲风人不见，江上数峰青。</p></li><li><p>“古艳歌”，汉乐府<br>莹莹白兔，东走西顾，衣不如新，人不如故。</p></li><li><p>《赠卫八处士》，杜甫<br>人生不相见，动如参与商。今夕复何夕，共此灯烛光。<br>少壮能几时，鬓发各已苍。访旧半为鬼，惊呼热中肠。<br>焉知二十载，重上君子堂。昔别君未婚，儿女忽成行。<br>怡然敬父执，问我来何方。问答乃未已，儿女罗酒浆。<br>夜雨剪春韭，新炊间黄粱。主称会面难，一举累十觞。<br>十觞亦不醉，感子故意长。明日隔山岳，世事两茫茫。</p></li><li><p>《水龙吟.次韵章知府杨花词》，苏轼<br>似花还似非花，也无人惜从教坠。抛家傍路，思量却是，无情有思。萦损柔肠，困酣娇眼，欲开还闭。梦随风万里，寻郎去处，又还被莺呼起。<br>不恨此花飞尽，恨西园，落红难缀。晓来雨过，遗踪何在？一池萍碎。春色三分，二分尘土，一分流水。细看来，不是杨花，点点是离人泪。</p></li><li><p>《国史大纲》，钱穆<br>“对其本国历史略有所知者，尤必附随一种对其本国以往历史之温情与敬意。”</p></li><li><p>智勇纯真，文质彬彬。</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;谨在此记录一下自己在读书过程中看到的一些美词佳句和受到的感动……&lt;/p&gt;
&lt;h2 id=&quot;《JLH》&quot;&gt;&lt;a href=&quot;#《JLH》&quot; class=&quot;headerlink&quot; title=&quot;《JLH》&quot;&gt;&lt;/a&gt;《JLH》&lt;/h2&gt;&lt;p&gt;作者：QBY&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《桃花扇》续四十出《余韵》，清代孔尚任&lt;br&gt;眼看他起朱楼，眼看他认宾客，眼看他楼塌了。这青苔碧瓦堆。俺曾睡风流觉，将五十年兴亡看饱。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="讀書" scheme="https://yumuzi.github.io/categories/%E8%AE%80%E6%9B%B8/"/>
    
    
      <category term="book" scheme="https://yumuzi.github.io/tags/book/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 中 Vim 使用的点滴记录</title>
    <link href="https://yumuzi.github.io/vim-tutor.html"/>
    <id>https://yumuzi.github.io/vim-tutor.html</id>
    <published>2016-05-07T09:26:29.000Z</published>
    <updated>2017-11-05T15:34:55.560Z</updated>
    
    <content type="html"><![CDATA[<p>本文是个人在<code>vim</code>使用过程中的点滴记录，与广大<code>vim</code>使用者所共享。</p><h2 id="Ubuntu-安装-spf13"><a href="#Ubuntu-安装-spf13" class="headerlink" title="Ubuntu 安装 spf13"></a>Ubuntu 安装 spf13</h2><p>这里在Ubuntu系统下进行安装。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install vim</div><div class="line">$ sudo apt-get install vim-nox             <span class="comment"># 注意必须安装此项，否则自动不全插件无法运行</span></div><div class="line">$ curl https://j.mp/spf13-vim3 -L -o | sh</div></pre></td></tr></table></figure><p>ok，等待安装完成即可，可能需要花费比较久的时间。</p><a id="more"></a><h2 id="VIM-常用命令"><a href="#VIM-常用命令" class="headerlink" title="VIM 常用命令"></a>VIM 常用命令</h2><ul><li><code>x</code>: 删除字符</li><li><code>a</code>: 在光标后插入字符</li><li><code>A</code>: 在行末插入字符</li><li><code>i</code>: 进入插入模式</li><li><code>:wq</code>: 保存并退出</li><li><code>dw</code>: 删除单词</li><li><code>d$</code>: 从光标处删除字符至行末</li><li><code>2w</code>: 将光标向后移动 2 个单词</li><li><code>3e</code>: 将光标移动至第三个单词末尾</li><li><code>d2w</code>: 删除 2 个单词</li><li><code>dd</code>: 删除整行文本</li><li><code>2dd</code>: 删除 2 行文本</li><li><code>u</code>: 撤销最后执行的命令</li><li><code>U</code>: 撤销对整行所做的修改</li><li><code>CTRL-R</code>: 重做被撤销的命令</li><li><code>p</code>: 配合 <code>dd</code> 将最后一次删除的命令重新置入</li><li><code>r</code>: 替换单个字符</li><li><code>cw</code>: 修改单词</li><li><code>c$</code>: 更正文本至行末</li><li><code>CTRL-G</code>: 显示光标所在行号</li><li><code>G</code>: 跳转到最后一行</li><li><code>gg</code>: 跳转至首行</li><li><code>504G</code>: 跳转到指定行数</li><li><code>/words</code>: 查找某项，n为向下寻找，N为向上寻找</li><li><code>CTRL-O</code>: 回到查找之前的位置</li><li><code>CTRL-I</code>: 回到较新的位置</li><li><code>%</code>: 查看配对的括号，再输入 % 返回</li><li><code>:s/old/new</code>: 更改所在行第一个匹配项</li><li><code>:s/old/new/g</code>: 更改该行所有匹配项</li><li><code>:#,#s/old/new/g</code>: 更改指定行号之间的匹配项</li><li><code>:%s/old/new/g</code>: 更改全文的匹配项</li><li><code>%s/old/new/gc</code>: 更改全文的匹配项</li><li><code>!ls</code>: 查看文件夹下有那些文件</li><li><code>!rm filename</code>: 删除文件</li><li><code>:w filename</code>: 保存文件</li><li><code>v</code>: 进入可视模式选取文本，以便于后续操作</li><li><code>:r filename</code>: 将其他文件中的内容插入到光标之后</li><li><code>e</code>: 逐单词向后移动</li><li><code>o</code>: 光标之后新增一行</li><li><code>O</code>: 光标之前新增一行</li><li><code>R</code>: 替换多字符文本</li><li><code>y</code>: 复制文本</li><li><code>:set ic</code>: 查询时设置“忽略大小写”</li><li><code>:set noic</code>: 查询时“禁止忽略大小写”</li><li><code>:set hls is</code>: 查询时设置查询到的文本高亮</li><li><code>:set nohlsearch</code>: 取消查询高亮</li><li><code>:help</code>: 帮助</li><li><code>CTRL-W</code>: 窗口之间跳转</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文是个人在&lt;code&gt;vim&lt;/code&gt;使用过程中的点滴记录，与广大&lt;code&gt;vim&lt;/code&gt;使用者所共享。&lt;/p&gt;
&lt;h2 id=&quot;Ubuntu-安装-spf13&quot;&gt;&lt;a href=&quot;#Ubuntu-安装-spf13&quot; class=&quot;headerlink&quot; title=&quot;Ubuntu 安装 spf13&quot;&gt;&lt;/a&gt;Ubuntu 安装 spf13&lt;/h2&gt;&lt;p&gt;这里在Ubuntu系统下进行安装。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install vim&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install vim-nox             &lt;span class=&quot;comment&quot;&gt;# 注意必须安装此项，否则自动不全插件无法运行&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ curl https://j.mp/spf13-vim3 -L -o | sh&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ok，等待安装完成即可，可能需要花费比较久的时间。&lt;/p&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="vim" scheme="https://yumuzi.github.io/tags/vim/"/>
    
  </entry>
  
  <entry>
    <title>一个读取文件夹内所有PDF文件标题的python小程序</title>
    <link href="https://yumuzi.github.io/pyPdf.html"/>
    <id>https://yumuzi.github.io/pyPdf.html</id>
    <published>2016-05-05T14:17:13.000Z</published>
    <updated>2017-11-05T15:33:02.077Z</updated>
    
    <content type="html"><![CDATA[<p>一个读取文件夹内所有PDF文件标题的python小程序。<br>详情见:</p><ul><li><a href="https://github.com/yumuzi/pyPDFTitle" target="_blank" rel="external">pyPDFTitle</a></li><li><a href="https://github.com/yumuzi/PyPDF2" target="_blank" rel="external">PyPDF2</a></li><li><a href="https://github.com/yumuzi/pyPdf" target="_blank" rel="external">pyPdf3</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;一个读取文件夹内所有PDF文件标题的python小程序。&lt;br&gt;详情见:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/yumuzi/pyPDFTitle&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;pyPDFTitl
      
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Windows 7 + LIBSVM + Python 安装及使用说明</title>
    <link href="https://yumuzi.github.io/libsvm-python.html"/>
    <id>https://yumuzi.github.io/libsvm-python.html</id>
    <published>2016-05-05T07:39:23.000Z</published>
    <updated>2017-11-05T15:32:44.453Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul><li>安装 <code>Python</code>，安装过程可Google教程，不在此详述；</li><li>下载 <code>libsvm</code>，下载<a href="http://www.csie.ntu.edu.tw/~cjlin/libsvm/#download" target="_blank" rel="external">libsvm</a>中的 <code>.zip file</code> 文件，解压到 <code>C:\</code> 下</li><li>安装 <code>gnuplot</code> ，下载地址：<a href="https://sourceforge.net/projects/gnuplot/files/gnuplot/" target="_blank" rel="external">gnuplot</a>，建议下载 <code>4.6_win32</code> 版本，直接安装即可。</li></ul><a id="more"></a><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>到 <code>C:\libsvm-3.21\tools</code> 下找到 <code>grid.py</code> 和 <code>easy.py</code> ，并复制到 <code>C:\libsvm-3.21\windows</code> ，打开并分别在第27行和第25行更改两者：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gnuplot_exe = <span class="string">r"C:\Program Files (x86)\gnuplot\bin\pgnuplot.exe"</span></div></pre></td></tr></table></figure><p>到 <a href="http://www.csie.ntu.edu.tw/~cjlin/libsvmtools/datasets/" target="_blank" rel="external">数据集</a> 下找 <code>LIBSVM data sets</code> ， 这次使用<code>ala</code>这个数据集，<code>a1a</code>为<code>train set</code>，<code>a1a.t</code>为 <code>testing set</code></p><h2 id="程序说明"><a href="#程序说明" class="headerlink" title="程序说明"></a>程序说明</h2><ul><li><code>svm-train.exe</code> ：可以将 <code>training data</code> 训练为 <code>model</code>。</li><li><code>svm-scale.exe</code> ：用来调整 <code>feature</code> 的大小范围，以免有某一项 <code>feature</code> 值太大，在算距离时主导了结果。通常将取值的范围定在 <code>[0,1]</code> 或 <code>[-1,1]</code> 。注意：<code>training data</code> 与 <code>testing data</code> 都必须作相同程度的 <code>scale</code> 。</li><li><code>svm-predict.exe</code> ：预测 <code>testing data</code> 在已训练 <code>model</code> 的状况。</li><li><code>svm-toy.exe</code> ：可以图形界面操作数据和修改参数，执行后产生分类结果。</li><li><code>grid.py</code> ：分类要切的好，参数就要下的好。林智仁老师写好的工具帮我们自动测试参数，不用自己动手测试。</li><li><code>easy.py</code> ：简化命令行下指令的操作。</li></ul><h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><ul><li><code>cd</code> 到 <code>libsvm-3.21\windows</code> 目录下，执行命令：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">svm-scale.exe -s scale a1a &gt; a1a.scale</div></pre></td></tr></table></figure><p>会出现警告，不用管，继续往下…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">svm-scale.exe -r scale a1a.t &gt; a1a.t.scale</div></pre></td></tr></table></figure><p>会出现警告，不用管，继续往下…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">python grid.py a1a.scale</div><div class="line"></div><div class="line">......</div><div class="line">......</div><div class="line"></div><div class="line">8.0 0.0078125 83.4891</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">svm-train.exe -c 8.0 -g 0.0078125 a1a.scale</div><div class="line"></div><div class="line"></div><div class="line">optimization finished, <span class="comment">#iter = 2430</span></div><div class="line">nu = 0.338842</div><div class="line">obj = -3667.375758, rho = 0.654220</div><div class="line">nSV = 659, nBSV = 443</div><div class="line">Total nSV = 659</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">svm-predict.exe a1a.t.scale a1a.scale.model a1a.t.out</div><div class="line"></div><div class="line"></div><div class="line">Accuracy = 83.9869% (25999/30956) (classification)</div></pre></td></tr></table></figure><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="https://cg2010studio.com/2012/10/21/libsvm-svm-%E5%AF%A6%E9%A9%97%E6%9C%80%E4%BD%B3%E5%8C%96%E5%8F%83%E6%95%B8/" target="_blank" rel="external">[LibSVM] SVM 實驗最佳化參數</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;安装 &lt;code&gt;Python&lt;/code&gt;，安装过程可Google教程，不在此详述；&lt;/li&gt;
&lt;li&gt;下载 &lt;code&gt;libsvm&lt;/code&gt;，下载&lt;a href=&quot;http://www.csie.ntu.edu.tw/~cjlin/libsvm/#download&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;libsvm&lt;/a&gt;中的 &lt;code&gt;.zip file&lt;/code&gt; 文件，解压到 &lt;code&gt;C:\&lt;/code&gt; 下&lt;/li&gt;
&lt;li&gt;安装 &lt;code&gt;gnuplot&lt;/code&gt; ，下载地址：&lt;a href=&quot;https://sourceforge.net/projects/gnuplot/files/gnuplot/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;gnuplot&lt;/a&gt;，建议下载 &lt;code&gt;4.6_win32&lt;/code&gt; 版本，直接安装即可。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="學術" scheme="https://yumuzi.github.io/categories/%E5%AD%B8%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
      <category term="libsvm" scheme="https://yumuzi.github.io/tags/libsvm/"/>
    
  </entry>
  
  <entry>
    <title>Git 使用简易指南</title>
    <link href="https://yumuzi.github.io/Git-readme.html"/>
    <id>https://yumuzi.github.io/Git-readme.html</id>
    <published>2016-05-05T02:24:57.000Z</published>
    <updated>2017-11-05T15:31:47.911Z</updated>
    
    <content type="html"><![CDATA[<ul><li>这里以Ubuntu系统和Bitbucket为例，进行说明。</li><li>首先安装并配置git，并将公钥复制到Bitbucket中，此过程见 <a href="http://yumuzi.github.io/2016/04/29/Hexo-Ubuntu-GithubPages/">Hexo-Ubuntu-GithubPages 搭建独立博客</a> 中的“Ubuntu安装和配置Git”部分</li><li>将本地文件夹路径添加到Git中</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> ~/LATEX/template1</div><div class="line">$ git init</div><div class="line">$ git remote add origin https://liyanjie@bitbucket.org/liyanjie/risk-book-draft.git</div></pre></td></tr></table></figure><p>如果想要修改 <code>git remote add</code> 仓库，可按如下进行操作：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git remote rm origin</div><div class="line">$ git remote add origin &lt;new repository&gt;</div></pre></td></tr></table></figure><ul><li>上传文件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git add *</div><div class="line">$ git commit -m <span class="string">"discription text"</span></div><div class="line">$ git push origin master</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;这里以Ubuntu系统和Bitbucket为例，进行说明。&lt;/li&gt;
&lt;li&gt;首先安装并配置git，并将公钥复制到Bitbucket中，此过程见 &lt;a href=&quot;http://yumuzi.github.io/2016/04/29/Hexo-Ubuntu-Gi
      
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="git" scheme="https://yumuzi.github.io/tags/git/"/>
    
      <category term="bitbucket" scheme="https://yumuzi.github.io/tags/bitbucket/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu14.04 + LaTeX 学习之路</title>
    <link href="https://yumuzi.github.io/Latex-learning.html"/>
    <id>https://yumuzi.github.io/Latex-learning.html</id>
    <published>2016-05-04T08:55:57.000Z</published>
    <updated>2017-11-05T15:32:36.701Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Document-class"><a href="#Document-class" class="headerlink" title="Document class"></a>Document class</h2><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">% CTeX宏包下的一个用于书籍的模板 `ctexbook`，论文模板 `ctexart`，报告模板 `ctexrep`</span></div><div class="line"><span class="comment">% 正文字号 10pt</span></div><div class="line"><span class="comment">% 编码格式 UTF-8</span></div><div class="line"><span class="tag">\<span class="name">documentclass</span><span class="string">[10pt,UTF8]</span><span class="string">&#123;ctexbook&#125;</span></span></div></pre></td></tr></table></figure><a id="more"></a><h2 id="宏包"><a href="#宏包" class="headerlink" title="宏包"></a>宏包</h2><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="comment">% 设置页眉页脚</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;fancyhdr&#125;</span></span></div><div class="line"><span class="comment">% 设置超链接，包括目录，图表清单，图表交叉引用，公式，参考文献</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;hyperref&#125;</span></span></div><div class="line"><span class="comment">% 数学环境宏包，如可以使用 align 环境；调用该宏包时，另外三个与之相关的宏包（amsbsy, amsopn, amstext）也自动被加载了</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;amsmath&#125;</span></span></div><div class="line"><span class="comment">% 宏包套件 AMSFonts 中的一个宏包，它定义了 amsfonts 宏包里 msam 和 mabm 字库中全部数学符号的命令；当调用该宏包时，amsfonts宏包也同时被加载了</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;amssymb&#125;</span></span></div><div class="line"><span class="comment">% 常用的连个处理插图的宏包：graphics 宏包和 graphicx 宏包，前者是标准插图宏包，后者则是包含扩展功能的插图宏包，后者更为常用</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;graphics&#125;</span></span></div><div class="line"><span class="comment">% epsfig 宏包是 graphics 宏包出现前为解决latex插图问题的宏包，不建议在新文档中使用</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;epsfig&#125;</span></span></div><div class="line"><span class="comment">% 表格宏包，用来创建上下粗线，中间细线的三线表格</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;booktabs&#125;</span></span></div><div class="line"><span class="comment">% 列表宏包，可用来创建紧凑列表（\item之间无空行）</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;paralist&#125;</span></span></div><div class="line"><span class="comment">% 调整图表是否浮动的宏包</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;float&#125;</span></span></div><div class="line"><span class="comment">% 为超链接着色，可生成多达68种颜色</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;color&#125;</span></span></div><div class="line"><span class="comment">% 生成新的抄录环境，如用于代码</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;fancybrb&#125;</span></span></div><div class="line"><span class="comment">% 脚注宏包，perge：为每页脚注单独排序；symbol：由默认的阿拉伯数字改为各种符号</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">[bottom,perpage,symbol*]</span><span class="string">&#123;footmisc&#125;</span></span></div><div class="line"><span class="comment">% 分栏</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;multitoc&#125;</span></span></div><div class="line"><span class="comment">% </span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;array&#125;</span></span></div><div class="line"><span class="comment">% 表格跨行跨列</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;multirow&#125;</span></span></div><div class="line"><span class="comment">% 跨页表格</span></div><div class="line"><span class="comment">%\usepackage&#123;longtable&#125;</span></div><div class="line"><span class="comment">% 跨页表格</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;supertabular&#125;</span></span></div><div class="line"><span class="comment">% 引用上标</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">[super,square]</span><span class="string">&#123;natbib&#125;</span></span></div><div class="line"><span class="comment">% 图表标题</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;caption2&#125;</span></span></div><div class="line"><span class="comment">% 文字强调，如下划线、删除线等</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;ulem&#125;</span></span></div><div class="line"><span class="comment">% 设置表格背景色</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;colortbl&#125;</span></span></div></pre></td></tr></table></figure><h2 id="全局设置"><a href="#全局设置" class="headerlink" title="全局设置"></a>全局设置</h2><ul><li>\setcounter{secnumdepth}{4}    %设置四级标题</li><li>\newcommand{\rmnum}[1]{\romannumeral #1}                % 小写罗马数字</li><li>\newcommand{\RmNum}[1]{\expandafter\@slowromancap\romannumeral #1@}    % 大写罗马数字</li><li>\renewcommand{\captionlabeldelim}{ }    % 去掉图表名后的冒号</li><li>\geometry{left=2.5cm,right=2.5cm,top=2cm,bottom=2cm}    % 设置页边距，需要 <code>geometry</code> 宏包</li></ul><h2 id="新命令"><a href="#新命令" class="headerlink" title="新命令"></a>新命令</h2><ul><li>\newcommand{\rmnum}[1]{\romannumeral #1}                % 小写罗马数字</li><li>\newcommand{\RmNum}[1]{\expandafter\@slowromancap\romannumeral #1@}    % 大写罗马数字</li><li>\renewcommand{\captionlabeldelim}{ }    % 去掉图表名后的冒号（用空格代替）</li></ul><h2 id="特殊符号"><a href="#特殊符号" class="headerlink" title="特殊符号"></a>特殊符号</h2><ul><li><a href="https://bcc16.ncu.edu.tw/7/latex/math_tex/2-html/" target="_blank" rel="external">希腊字母</a></li><li><a href="http://wiki.ohugh.com/zh-hant/Latex" target="_blank" rel="external">特殊字符</a></li><li><a href="http://mohu.org/info/symbols/symbols.htm" target="_blank" rel="external">数学符号</a></li><li>波浪号： <code>$\sim$</code></li><li>罗马数字 <code>\uppercase\expandafter{\romannumeral1}</code></li><li>中文破折号： <code>\raisebox{0.5mm}{------}</code></li></ul><h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><h3 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">date</span><span class="string">&#123;\today&#125;</span></span><span class="comment">% 生成今天的日期</span></div><div class="line"><span class="tag">\<span class="name">title</span><span class="string">&#123;</span></span></div><div class="line"><span class="tag"><span class="string">% \bf: 加粗</span></span></div><div class="line"><span class="tag"><span class="string">% 字体大小：\tiny, \scriptsize, \footnotesize, \small, \normalsize, \large, \Large, \LARGE, \huge, \Huge</span></span></div><div class="line"><span class="tag"><span class="string">&#123;\bf\LARGE&#123;标题&#125;</span></span>&#125;<span class="tag">\<span class="name">footnote</span><span class="string">&#123;\footnotesize 标题脚注&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">auther</span><span class="string">&#123;作者\\（&#123;\footnotesize 作者单位&#125;</span></span>）&#125;<span class="tag">\<span class="name">\</span></span></div><div class="line">&#123;<span class="tag">\<span class="name">footnotesize</span></span> e-mail: 邮箱&#125;</div><div class="line">&#125;</div><div class="line"><span class="tag">\<span class="name">maketitle</span></span></div></pre></td></tr></table></figure><h3 id="页眉页脚"><a href="#页眉页脚" class="headerlink" title="页眉页脚"></a>页眉页脚</h3><p>可参考宏包说明文档：<a href="http://www.ctex.org/documents/packages/layout/fancyhdr.htm" target="_blank" rel="external">fancyhdr</a></p><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">pagestyle</span><span class="string">&#123;fancy&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">fancyhf</span><span class="string">&#123;&#125;</span></span><span class="comment">% 清空页眉页脚格式</span></div><div class="line"><span class="tag">\<span class="name">fancyhead</span><span class="string">[RE]</span><span class="string">&#123;\normalfont\small\rmfamily\nouppercase&#123;\leftmark&#125;</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">fancyhead</span><span class="string">[LO]</span><span class="string">&#123;\normalfont\small\rmfamily\nouppercase&#123;\rightmark&#125;</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">fancyhead</span><span class="string">[LE,RO]</span><span class="string">&#123;\thepage&#125;</span></span></div></pre></td></tr></table></figure><ul><li>R: 偶数页</li><li>O: 奇数页</li><li>L: 页眉或页脚的左边部分</li><li>C: 页眉或页脚的中间部分</li><li>R: 页眉或页脚的右边部分</li><li>H: 页眉</li><li>F: 页脚</li></ul><h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">tableofcontents</span></span><span class="comment">% 生成目录</span></div><div class="line"><span class="tag">\<span class="name">listoffigures</span></span><span class="comment">% 生成插图目录</span></div><div class="line"><span class="tag">\<span class="name">listoftables</span></span><span class="comment">% 生成表格目录</span></div></pre></td></tr></table></figure><h3 id="书籍结构"><a href="#书籍结构" class="headerlink" title="书籍结构"></a>书籍结构</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">chapter</span><span class="string">&#123;第一章&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">label</span><span class="string">&#123;chapter1&#125;</span></span><span class="comment">% 注意养成习惯：在章节，图表，公式中插入标签，以方便生成目录和交叉引用</span></div><div class="line"><span class="tag">\<span class="name">section</span><span class="string">&#123;第1.1节&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">subsection</span><span class="string">&#123;第1.1.1节&#125;</span></span></div></pre></td></tr></table></figure><h3 id="插图"><a href="#插图" class="headerlink" title="插图"></a>插图</h3><p>需要 <code>graphicx</code> 宏包<br>固定图片位置需引入 <code>float</code> 宏包</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;figure&#125;</span><span class="string">[H]</span></span><span class="comment">% [H]用于固定图片位置</span></div><div class="line"><span class="tag">\<span class="name">centerline</span><span class="string">&#123;</span></span></div><div class="line"><span class="tag"><span class="string">\includegraphics[width=10cm]&#123;img/chapter6/figure6_1.eps&#125;</span></span></div><div class="line">&#125;</div><div class="line"><span class="tag">\<span class="name">caption</span><span class="string">&#123;图名&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">label</span><span class="string">&#123;figure6_1&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;figure&#125;</span></span></div></pre></td></tr></table></figure><p>使用 <code>\ref{table6_1}</code> 来引用该表。</p><h3 id="紧凑列表"><a href="#紧凑列表" class="headerlink" title="紧凑列表"></a>紧凑列表</h3><p>需要 <code>paralist</code> 宏包。</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;compactenum&#125;</span></span><span class="comment">% 紧凑有序列表</span></div><div class="line"><span class="tag">\<span class="name">setlength</span><span class="string">&#123;\itemindent&#125;</span><span class="string">&#123;18pt&#125;</span></span><span class="comment">% 设置列表缩进</span></div><div class="line"><span class="tag">\<span class="name">item</span></span> 第一项</div><div class="line"><span class="tag">\<span class="name">item</span></span> 第二项</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;compactenum&#125;</span></span></div></pre></td></tr></table></figure><h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><ul><li>分数</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">cfrac</span><span class="string">&#123;分子&#125;</span><span class="string">&#123;分母&#125;</span></span></div></pre></td></tr></table></figure><h4 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h4><ul><li>某列居中</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;tabular&#125;</span><span class="string">&#123;p&#123;4cm&#125;</span></span>&lt;&#123;<span class="tag">\<span class="name">centering</span></span>&#125;p&#123;4cm&#125;&lt;&#123;<span class="tag">\<span class="name">centering</span></span>&#125;p&#123;4cm&#125;&lt;&#123;<span class="tag">\<span class="name">centering</span></span>&#125;&#125;</div></pre></td></tr></table></figure><h4 id="三线表、设置表列宽"><a href="#三线表、设置表列宽" class="headerlink" title="三线表、设置表列宽"></a>三线表、设置表列宽</h4><p>三线表，需引入 <code>booktabs</code> 宏包</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;table&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">centering</span></span><span class="comment">% 表格居中</span></div><div class="line"><span class="tag">\<span class="name">caption</span><span class="string">&#123;岩爆强度的经验分级标准\cite&#123;liu2013prediction6_2&#125;</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">label</span><span class="string">&#123;table6_1&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;tabular&#125;</span><span class="string">&#123;ccp&#123;10cm&#125;</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">toprule</span></span></div><div class="line">岩爆强度&amp;岩爆等级&amp;定性描述<span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">midrule</span></span></div><div class="line">无&amp;<span class="tag">\<span class="name">uppercase</span></span><span class="tag">\<span class="name">expandafter</span><span class="string">&#123;\romannumeral1&#125;</span></span>&amp;没有岩爆声响及岩爆活动迹象<span class="tag">\<span class="name">\</span></span></div><div class="line">轻微&amp;<span class="tag">\<span class="name">uppercase</span></span><span class="tag">\<span class="name">expandafter</span><span class="string">&#123;\romannumeral2&#125;</span></span>&amp;可能导致部分岩片松动：周围岩石将会变形、破裂或剥落；有轻微声响，但没有岩石喷出现象<span class="tag">\<span class="name">\</span></span></div><div class="line">中等&amp;<span class="tag">\<span class="name">uppercase</span></span><span class="tag">\<span class="name">expandafter</span><span class="string">&#123;\romannumeral3&#125;</span></span>&amp;薄岩片的破裂和剥落：周围岩体将会变形和断裂；有相当数量的岩片松动、突然破裂并喷出，并伴有周围岩石的脆性断裂现象<span class="tag">\<span class="name">\</span></span></div><div class="line">强烈&amp;<span class="tag">\<span class="name">uppercase</span></span><span class="tag">\<span class="name">expandafter</span><span class="string">&#123;\romannumeral4&#125;</span></span>&amp;大量岩块松动、剥离并猛烈喷出：周围岩体严重爆裂并突然喷出，伴随有强烈的爆破声响，并迅速扩展到深部岩体<span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">bottomrule</span></span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;tabular&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;table&#125;</span></span></div></pre></td></tr></table></figure><h4 id="跨页表格"><a href="#跨页表格" class="headerlink" title="跨页表格"></a>跨页表格</h4><p>需引入 <code>supertabular</code> 宏包<br>结合三线表，需引入 <code>booktabs</code> 宏包</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;center&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">tablecaption</span><span class="string">&#123;塌方风险（W）条件概率表 \label&#123;table8_23&#125;</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">tablefirsthead</span><span class="string">&#123;\toprule</span></span></div><div class="line"><span class="tag"><span class="string">\multicolumn&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;综合地质风险&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;自稳能力&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;施工质量&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;支护设计&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W1&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W2&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W3&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W4&#125;</span></span><span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">midrule</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">tablehead</span><span class="string">&#123;</span></span></div><div class="line"><span class="tag"><span class="string">\multicolumn&#123;8&#125;</span><span class="string">&#123;l&#125;</span><span class="string">&#123;\small 表 \ref&#123;table8_23&#125;</span></span> （续）&#125;<span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">toprule</span></span></div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;综合地质风险&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;自稳能力&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;施工质量&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;支护设计&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W1&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W2&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W3&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W4&#125;</span></span><span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">midrule</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">tabletail</span><span class="string">&#123;\bottomrule</span></span></div><div class="line"><span class="tag"><span class="string">\multicolumn&#123;8&#125;</span><span class="string">&#123;r&#125;</span><span class="string">&#123;\small 接下页&#125;</span></span><span class="tag">\<span class="name">\</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">tablelasttail</span><span class="string">&#123;\bottomrule&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;supertabular&#125;</span><span class="string">&#123;cccccccc&#125;</span></span></div><div class="line">V1&amp;R1&amp;H1&amp;J1&amp;100<span class="tag">\<span class="name">%</span></span>&amp;&amp;&amp;<span class="tag">\<span class="name">\</span></span></div><div class="line">......</div><div class="line">......</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;supertabular&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;center&#125;</span></span></div></pre></td></tr></table></figure><h4 id="表格背景色"><a href="#表格背景色" class="headerlink" title="表格背景色"></a>表格背景色</h4><ul><li>需要 <code>colortbl</code> 宏包，<code>array</code> 宏包，<code>color</code> 宏包支持</li><li>经常用到的是列着色命令，命令格式为： <code>\columncolor[色系]{色名}[左伸出][右伸出]</code>，常用色系有：三原色 <code>rgb</code>，灰度 <code>gray</code>，和四色 <code>cmyk</code> 三种；被预定义的色名有68个，详见color宏包介绍中所附的色标；左右伸出的长度单位可用pt。</li><li>改变某单元格的颜色</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;&gt;&#123;\columncolor&#123;blue&#125;</span></span>&#125;l&#125;&#123;text&#125;<span class="comment">% 1: 列数; l: 居左</span></div></pre></td></tr></table></figure><h3 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h3><ul><li>\textcolor{red}{text}    %文字颜色</li><li>文字强调，需要 <code>ulem</code> 宏包</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">emph</span><span class="string">&#123;text&#125;</span></span><span class="comment">% 下划线</span></div><div class="line"><span class="tag">\<span class="name">uline</span><span class="string">&#123;text&#125;</span></span><span class="comment">% 单下划线</span></div><div class="line"><span class="tag">\<span class="name">uuline</span><span class="string">&#123;text&#125;</span></span><span class="comment">% 双下划线</span></div><div class="line"><span class="tag">\<span class="name">uwave</span><span class="string">&#123;text&#125;</span></span><span class="comment">% 波浪线</span></div><div class="line"><span class="tag">\<span class="name">sout</span><span class="string">&#123;text&#125;</span></span><span class="comment">% 删除线</span></div></pre></td></tr></table></figure><h3 id="公式"><a href="#公式" class="headerlink" title="公式"></a>公式</h3><h4 id="符号"><a href="#符号" class="headerlink" title="符号"></a>符号</h4><ul><li>小于等于： <code>$\leq$</code></li><li>大于等于： <code>$\geq$</code></li><li>乘号： <code>$\times$</code></li><li>点乘： <code>$\cdot$</code></li><li>公式水平省略号： <code>$\cdots$</code></li></ul><h4 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h4><ul><li>两个quad空格 <code>a \qquad b</code> 两个m的宽度</li><li>quad空格 <code>a \quad b</code> 一个m的宽度</li><li>大空格 <code>a\ b</code> 1/3m宽度</li><li>中等空格 <code>a\;b</code> 2/7m宽度</li><li>小空格 <code>a\,b</code> 1/6m宽度</li><li>没有空格 <code>ab</code></li><li>紧贴 <code>a\!b</code> 缩进1/6m宽度</li></ul><h4 id="上下标"><a href="#上下标" class="headerlink" title="上下标"></a>上下标</h4><ul><li>多字母下标： <code>$W_{et}$</code></li></ul><h4 id="基本公式（不带序号）"><a href="#基本公式（不带序号）" class="headerlink" title="基本公式（不带序号）"></a>基本公式（不带序号）</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">[</span></span>X_&#123;ij&#125;=0<span class="tag">\<span class="name">sim</span></span>20(any<span class="tag">\<span class="name"> </span></span>integer)<span class="tag">\<span class="name">]</span></span></div></pre></td></tr></table></figure><h4 id="基本公式（带序号）"><a href="#基本公式（带序号）" class="headerlink" title="基本公式（带序号）"></a>基本公式（带序号）</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;equation&#125;</span></span><span class="tag">\<span class="name">label</span><span class="string">&#123;equ6_1&#125;</span></span></div><div class="line">&#123;<span class="tag">\<span class="name">alpha</span></span>_i&#125;^+=P(+i|INF), i=1,2,<span class="tag">\<span class="name">cdots</span></span>,n;</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;equation&#125;</span></span></div></pre></td></tr></table></figure><h4 id="分子分母公式"><a href="#分子分母公式" class="headerlink" title="分子分母公式"></a>分子分母公式</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;equation&#125;</span></span><span class="tag">\<span class="name">label</span><span class="string">&#123;equ6_3&#125;</span></span></div><div class="line">w_i=<span class="tag">\<span class="name">cfrac</span><span class="string">&#123;&#123;\alpha_i&#125;</span></span>^++&#123;<span class="tag">\<span class="name">alpha</span></span>_i&#125;^-&#125;&#123;<span class="tag">\<span class="name">sum</span></span>_&#123;k=1&#125;^1 (&#123;<span class="tag">\<span class="name">alpha</span></span>_k&#125;^++&#123;<span class="tag">\<span class="name">alpha</span></span>_k&#125;^-)&#125;;</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;equation&#125;</span></span></div></pre></td></tr></table></figure><h4 id="多行公式（对齐）"><a href="#多行公式（对齐）" class="headerlink" title="多行公式（对齐）"></a>多行公式（对齐）</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;equation&#125;</span></span><span class="tag">\<span class="name">label</span><span class="string">&#123;equ6_4&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;split&#125;</span></span></div><div class="line">&#123;<span class="tag">\<span class="name">beta</span></span>_&#123;ij&#125;&#125;^+&amp;=P&#123;INF_j|+i&#125;<span class="tag">\<span class="name">\</span></span></div><div class="line">&amp;=<span class="tag">\<span class="name">cfrac</span><span class="string">&#123;P(+i|INF_j)\cdot P(INF_j)&#125;</span><span class="string">&#123;P(+i|INF_j)\cdot P(INF_j)+P(+i|UINF_j)\cdot P(UINF_j)&#125;</span></span><span class="tag">\<span class="name">\</span></span></div><div class="line">&amp;=<span class="tag">\<span class="name">cfrac</span><span class="string">&#123;&#123;\alpha_i&#125;</span></span>^+<span class="tag">\<span class="name">cdot</span></span> P(INF_j)&#125;&#123;&#123;<span class="tag">\<span class="name">alpha</span></span>_i&#125;^+<span class="tag">\<span class="name">cdot</span></span> P(INF_j)+(1-&#123;<span class="tag">\<span class="name">alpha</span></span>_i&#125;^-)<span class="tag">\<span class="name">cdot</span></span> P(UINF_j)&#125;<span class="tag">\<span class="name">\</span></span></div><div class="line">&amp;i=1,2,<span class="tag">\<span class="name">cdots</span></span> ,n;<span class="tag">\<span class="name">quad</span></span> j=1,2,<span class="tag">\<span class="name">cdots</span></span> ,m;</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;split&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;equation&#125;</span></span></div></pre></td></tr></table></figure><h4 id="分项公式（含左侧大括号）"><a href="#分项公式（含左侧大括号）" class="headerlink" title="分项公式（含左侧大括号）"></a>分项公式（含左侧大括号）</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;equation&#125;</span></span><span class="tag">\<span class="name">label</span><span class="string">&#123;equ6_15&#125;</span></span></div><div class="line">d(X_&#123;sj&#125;,X_&#123;tj&#125;)=<span class="tag">\<span class="name">left</span></span><span class="tag">\<span class="name">&#123;</span></span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;array&#125;</span><span class="string">&#123;llcl&#125;</span></span></div><div class="line">&#123;0&#125;&amp;&#123;X_&#123;sj&#125;<span class="tag">\<span class="name">subseteq</span></span> X_&#123;tj&#125;&#125;&amp;<span class="tag">\<span class="name">text</span><span class="string">&#123;or&#125;</span></span>&amp;&#123;X_&#123;sj&#125;<span class="tag">\<span class="name">supseteq</span></span> X_&#123;tj&#125;;&#125;<span class="tag">\<span class="name">\</span></span></div><div class="line">&#123;<span class="tag">\<span class="name">cfrac</span><span class="string">&#123;|Ex_&#123;sj&#125;</span></span>-Ex_&#123;tj&#125;|&#125;&#123;3<span class="tag">\<span class="name">cdot</span></span> (En_&#123;sj&#125;+En_&#123;tj&#125;)&#125;&#125;&amp;<span class="tag">\<span class="name">text</span><span class="string">&#123;others.&#125;</span></span>&amp;&amp;</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;array&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">right</span></span>.</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;equation&#125;</span></span></div></pre></td></tr></table></figure><p><em>持续更新……</em></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Document-class&quot;&gt;&lt;a href=&quot;#Document-class&quot; class=&quot;headerlink&quot; title=&quot;Document class&quot;&gt;&lt;/a&gt;Document class&lt;/h2&gt;&lt;figure class=&quot;highlight tex&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;% CTeX宏包下的一个用于书籍的模板 `ctexbook`，论文模板 `ctexart`，报告模板 `ctexrep`&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;% 正文字号 10pt&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;% 编码格式 UTF-8&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;\&lt;span class=&quot;name&quot;&gt;documentclass&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;[10pt,UTF8]&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&amp;#123;ctexbook&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="學術" scheme="https://yumuzi.github.io/categories/%E5%AD%B8%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="latex" scheme="https://yumuzi.github.io/tags/latex/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 14.04 安装 Texlive2015</title>
    <link href="https://yumuzi.github.io/Ubuntu-latex.html"/>
    <id>https://yumuzi.github.io/Ubuntu-latex.html</id>
    <published>2016-05-04T07:49:53.000Z</published>
    <updated>2017-11-05T15:34:06.479Z</updated>
    
    <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ul><li>下载 <code>Texlive2015.iso</code> 镜像，<a href="http://mirrors.opencas.cn/ctan/systems/texlive/Images/" target="_blank" rel="external">Texlive2015</a></li><li>删除以前的版本（若之前没有安装过，可忽略此项）</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get purge tex-common</div></pre></td></tr></table></figure><a id="more"></a><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul><li>挂载镜像文件：右击texlive2015.iso文件，选择打开方式为“磁盘映像挂载器”，打开后左侧设备目录下出现“TeXLive2015”，将鼠标放在其上会出现<code>/media/username/TeXLive2015</code></li><li>进入挂载点目录</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> /media/username/TeXLive2015</div></pre></td></tr></table></figure><ul><li>运行安装程序</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo install-tl</div></pre></td></tr></table></figure><p>输入<code>I</code>即开始安装。</p><h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><ul><li>安装完成后查看是否有该文件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ls /usr/<span class="built_in">local</span>/texlive/2015/bin/x86_64-linux/xelatex</div></pre></td></tr></table></figure><ul><li>在<code>/etc/profile</code>文件中添加几行文本</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo gedit /etc/profile</div></pre></td></tr></table></figure><p>在文件末尾添加如下三行文本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> MANPATH=/usr/<span class="built_in">local</span>/texlive/2015/texmf-dist/doc/man:<span class="variable">$MANPATH</span></div><div class="line"><span class="built_in">export</span> INFOPATH=/usr/<span class="built_in">local</span>/texlive/2015/texmf-dist/doc/info:<span class="variable">$INFOPATH</span></div><div class="line"><span class="built_in">export</span> PATH=/usr/<span class="built_in">local</span>/texlive/2015/bin/x86_64-linux:<span class="variable">$PATH</span></div></pre></td></tr></table></figure><p>输入如下代码，使得环境变量生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">source</span> \etc\profile</div></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ xelatex --version</div><div class="line"></div><div class="line">XeTeX 3.14159265-2.6-0.99992 (TeX Live 2015)</div></pre></td></tr></table></figure><h2 id="安装Windows字体"><a href="#安装Windows字体" class="headerlink" title="安装Windows字体"></a>安装Windows字体</h2><p>从Windwos系统中复制仿宋（<code>simfang.ttf</code>），黑体（<code>simhei.ttf</code>），楷体（<code>simkai.ttf</code>），隶书（<code>simli.ttf</code>），幼圆（<code>simyou.ttf</code>），并将其放入<code>/usr/share/fonts/WinFonts/</code>目录下。（Note：Windows 7系统中没有宋体（<code>simsun.ttf</code>），注意后缀为<code>.ttf</code>，可从网上下载 <a href="http://www.myfontfree.com/download-simsun-zip75734.htm" target="_blank" rel="external">simsong.ttf</a>）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ sudo mkdir /usr/share/fonts/WinFonts/</div><div class="line"><span class="comment"># 将前述6个字体复制到该文件下</span></div><div class="line">$ <span class="built_in">cd</span> /usr/share/fonts/WinFonts/</div><div class="line">$ sudo chmod 777 *</div><div class="line">$ sudo mkfontscale</div><div class="line">$ sudo mkfontdir</div><div class="line">$ sudo <span class="built_in">fc</span>-cache-fsv</div><div class="line">$ <span class="built_in">fc</span>-list:lang=zh-cn<span class="comment">#检查结果中是否有前述6个中文字体</span></div></pre></td></tr></table></figure><h2 id="配置xelatex-的字体配置文件"><a href="#配置xelatex-的字体配置文件" class="headerlink" title="配置xelatex 的字体配置文件"></a>配置<code>xelatex</code> 的字体配置文件</h2><p>为了在整个系统中使用 <code>TeX Live</code> 的字体，将配置文件 <code>texlive-fontconfig.conf</code> 复制到 <code>/etc/fonts/conf.d/</code> 目录下，并命名为 <code>09-texlive.conf</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo cp /usr/<span class="built_in">local</span>/texlive/2015/texmf-var/fonts/conf/texlive-fontconfig.conf /etc/fonts/conf.d/09-textlive.conf</div><div class="line">$ sudo <span class="built_in">fc</span>-cache -fsv</div></pre></td></tr></table></figure><h2 id="编译一个中文PDF"><a href="#编译一个中文PDF" class="headerlink" title="编译一个中文PDF"></a>编译一个中文PDF</h2><p>新建一个<code>tex</code>文档 <code>main.tex</code></p><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">documentclass</span><span class="string">[10pt,UTF8]</span><span class="string">&#123;ctexbook&#125;</span></span> </div><div class="line"><span class="comment">%\usepackage&#123;latexsym&#125; </span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;amsmath&#125;</span></span> </div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;amssymb&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;graphics&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;epsfig&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">topmargin</span>=<span class="number">0pt</span></span><span class="tag">\<span class="name">oddsidemargin</span>=<span class="number">0pt</span></span><span class="tag">\<span class="name">evensidemargin</span>=<span class="number">0pt</span></span> </div><div class="line"><span class="tag">\<span class="name">textwidth</span>=<span class="number">16.5cm</span></span><span class="tag">\<span class="name">textheight</span>=<span class="number">23cm</span></span><span class="tag">\<span class="name">raggedbottom</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">newtheorem</span><span class="string">&#123;thh&#125;</span><span class="string">&#123;Theorem&#125;</span></span> </div><div class="line"><span class="tag">\<span class="name">newtheorem</span><span class="string">&#123;dff&#125;</span><span class="string">&#123;Definition&#125;</span></span> </div><div class="line"><span class="tag">\<span class="name">newtheorem</span><span class="string">&#123;pr&#125;</span><span class="string">&#123;Proposition&#125;</span></span> </div><div class="line"><span class="tag">\<span class="name">newtheorem</span><span class="string">&#123;lm&#125;</span><span class="string">&#123;Lemma&#125;</span></span> </div><div class="line"><span class="tag">\<span class="name">newtheorem</span><span class="string">&#123;cl&#125;</span><span class="string">&#123;Collary&#125;</span></span> </div><div class="line"><span class="comment">%\mathindent=1.5cm </span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;document&#125;</span></span> </div><div class="line"></div><div class="line"><span class="tag">\<span class="name">date</span><span class="string">&#123;&#125;</span></span> </div><div class="line"><span class="tag">\<span class="name">title</span><span class="string">&#123;  &#123;\bf\large&#123;标题&#125;</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">footnote</span></span> &#123;<span class="tag">\<span class="name">footnotesize</span></span> 脚注&#125;&#125; </div><div class="line"><span class="tag">\<span class="name">author</span><span class="string">&#123;作者\\(&#123;\footnotesize 作者单位&#125;</span></span>) </div><div class="line"><span class="tag">\<span class="name">\</span><span class="string">&#123;\footnotesize e-mail:邮箱&#125;</span></span> &#125;</div><div class="line"><span class="tag">\<span class="name">maketitle</span></span> </div><div class="line"></div><div class="line"><span class="tag">\<span class="name">chapter</span><span class="string">&#123;第一章&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">section</span><span class="string">&#123;第一节&#125;</span></span></div><div class="line"></div><div class="line">这是一个中文书 document class。</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;document&#125;</span></span></div></pre></td></tr></table></figure><p><code>cd</code> 到<code>main.tex</code>文件所在目录下，用<code>xelatex</code>生成PDF</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ xelatex main.tex</div></pre></td></tr></table></figure><p>OK，安装完毕。</p><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://www.linuxdiyf.com/linux/19050.html" target="_blank" rel="external">Ubuntu 14.04 64位下安装TexLive，支持中文</a></li><li><a href="http://www.jianshu.com/p/3d02e70ba5b1" target="_blank" rel="external">使用终端安装 TeXLive</a></li></ul><p><strong>LaTeX的学习之路上布满大坑小坑，大家且填且珍惜！</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;准备工作&quot;&gt;&lt;a href=&quot;#准备工作&quot; class=&quot;headerlink&quot; title=&quot;准备工作&quot;&gt;&lt;/a&gt;准备工作&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;下载 &lt;code&gt;Texlive2015.iso&lt;/code&gt; 镜像，&lt;a href=&quot;http://mirrors.opencas.cn/ctan/systems/texlive/Images/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Texlive2015&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;删除以前的版本（若之前没有安装过，可忽略此项）&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get purge tex-common&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="latex" scheme="https://yumuzi.github.io/tags/latex/"/>
    
  </entry>
  
  <entry>
    <title>归去来兮辞</title>
    <link href="https://yumuzi.github.io/guiqulaixi.html"/>
    <id>https://yumuzi.github.io/guiqulaixi.html</id>
    <published>2016-04-30T14:55:24.000Z</published>
    <updated>2017-11-05T15:37:18.286Z</updated>
    
    <content type="html"><![CDATA[<p><em>陶渊明</em></p><p>　　归去来兮，田园将芜胡不归！既自以心为形役，奚惆怅而独悲？悟已往之不谏，知来者之可追。实迷途其未远，觉今是而昨非。舟遥遥以轻飏，风飘飘而吹衣。问征夫以前路，恨晨光之熹微。</p><a id="more"></a><p>　　乃瞻衡宇，载欣载奔。僮仆欢迎，稚子候门。三径就荒，松菊犹存。携幼入室，有酒盈樽。引壶觞以自酌，眄庭柯以怡颜。倚南窗以寄傲，审容膝之易安。园日涉以成趣，门虽设而常关。策扶老以流憩，时矫首而遐观。<strong>云无心以出岫，鸟倦飞而知还。</strong>景翳翳以将入，抚孤松而盘桓。</p><p>　　归去来兮，请息交以绝遊。世与我而相违，复驾言兮焉求？悦亲戚之情话，乐琴书以消忧。农人告余以春及，将有事于西畴。或命巾车，或棹孤舟。既窈窕以寻壑，亦崎岖而经邱。<strong>木欣欣以向荣，泉涓涓而始流。</strong>善万物之得时，感吾生之行休。</p><p>　　已矣乎！寓形宇内复几时！曷不委心任去留？胡为乎遑遑欲何之？富贵非吾愿，帝乡不可期。怀良辰以孤往，或植杖而耘耔。登东皋以舒啸，临清流而赋诗。聊乘化以归尽，乐夫天命复奚疑！</p><hr><p>《无题》<br>李商隐</p><pre><code>琴瑟无端五十弦，一弦一柱思华年。庄生晓梦迷蝴蝶，望帝春心托杜鹃。沧海月明珠有泪，蓝田日暖玉生烟。此情可待成追忆，只是当时已惘然。</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;em&gt;陶渊明&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;　　归去来兮，田园将芜胡不归！既自以心为形役，奚惆怅而独悲？悟已往之不谏，知来者之可追。实迷途其未远，觉今是而昨非。舟遥遥以轻飏，风飘飘而吹衣。问征夫以前路，恨晨光之熹微。&lt;/p&gt;
    
    </summary>
    
      <category term="讀書" scheme="https://yumuzi.github.io/categories/%E8%AE%80%E6%9B%B8/"/>
    
    
      <category term="隨筆" scheme="https://yumuzi.github.io/tags/%E9%9A%A8%E7%AD%86/"/>
    
      <category term="歌賦" scheme="https://yumuzi.github.io/tags/%E6%AD%8C%E8%B3%A6/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 系统常用软件汇总</title>
    <link href="https://yumuzi.github.io/Ubuntu-softwares.html"/>
    <id>https://yumuzi.github.io/Ubuntu-softwares.html</id>
    <published>2016-04-30T14:42:23.000Z</published>
    <updated>2017-11-05T15:34:47.437Z</updated>
    
    <content type="html"><![CDATA[<h4 id="为知笔记（WizNote）"><a href="#为知笔记（WizNote）" class="headerlink" title="为知笔记（WizNote）"></a>为知笔记（WizNote）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:wiznote-team</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install wiznote</div></pre></td></tr></table></figure><h4 id="快捷启动软件（Albert）"><a href="#快捷启动软件（Albert）" class="headerlink" title="快捷启动软件（Albert）"></a>快捷启动软件（Albert）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 使用deb软件安装包</span></div><div class="line"><span class="comment"># 因为热键被占用，需重新选择快捷键（这里选择ctrl + space）</span></div></pre></td></tr></table></figure><a id="more"></a><h4 id="搜狗输入法"><a href="#搜狗输入法" class="headerlink" title="搜狗输入法"></a>搜狗输入法</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb安装包，并安装</span></div><div class="line"><span class="comment"># 系统设置 -&gt; 语言支持 -&gt; 键盘输入方式系统：fcitx</span></div></pre></td></tr></table></figure><h4 id="chrome"><a href="#chrome" class="headerlink" title="chrome"></a>chrome</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb安装包，并安装</span></div><div class="line"><span class="comment"># 登陆账户：liyanjie2015@gmail.com</span></div></pre></td></tr></table></figure><h4 id="Redshift：保护眼睛"><a href="#Redshift：保护眼睛" class="headerlink" title="Redshift：保护眼睛"></a>Redshift：保护眼睛</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install gtk-redshift redshift python-appindicator</div><div class="line">$ gtk-redshift</div></pre></td></tr></table></figure><h4 id="Lantern"><a href="#Lantern" class="headerlink" title="Lantern"></a>Lantern</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div></pre></td></tr></table></figure><h4 id="Megasync"><a href="#Megasync" class="headerlink" title="Megasync"></a>Megasync</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div></pre></td></tr></table></figure><h4 id="ClassicMenu-Indicator"><a href="#ClassicMenu-Indicator" class="headerlink" title="ClassicMenu Indicator"></a>ClassicMenu Indicator</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div></pre></td></tr></table></figure><h4 id="Synaptic-新立得软件包管理器"><a href="#Synaptic-新立得软件包管理器" class="headerlink" title="Synaptic 新立得软件包管理器"></a>Synaptic 新立得软件包管理器</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div><div class="line"><span class="comment"># **此软件包不好找到**</span></div></pre></td></tr></table></figure><h4 id="Haroopad-（markdown编辑器）"><a href="#Haroopad-（markdown编辑器）" class="headerlink" title="Haroopad （markdown编辑器）"></a>Haroopad （markdown编辑器）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div></pre></td></tr></table></figure><h4 id="WPS"><a href="#WPS" class="headerlink" title="WPS"></a>WPS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div></pre></td></tr></table></figure><h4 id="zotero-standalone"><a href="#zotero-standalone" class="headerlink" title="zotero-standalone"></a>zotero-standalone</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:smathot/cogscinl</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install zotero-standalone</div></pre></td></tr></table></figure><h4 id="Y-PPA-Manager"><a href="#Y-PPA-Manager" class="headerlink" title="Y PPA Manager"></a>Y PPA Manager</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:webupd8team/y-ppa-manager</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install y-ppa-manager</div></pre></td></tr></table></figure><h4 id="Ubuntu-Tweak：系统管理工具"><a href="#Ubuntu-Tweak：系统管理工具" class="headerlink" title="Ubuntu Tweak：系统管理工具"></a>Ubuntu Tweak：系统管理工具</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div></pre></td></tr></table></figure><h4 id="Unity-Tweak-Tool：桌面管理工具"><a href="#Unity-Tweak-Tool：桌面管理工具" class="headerlink" title="Unity Tweak Tool：桌面管理工具"></a>Unity Tweak Tool：桌面管理工具</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 软件中心安装</span></div></pre></td></tr></table></figure><h4 id="Synapse-Indicator：文件和程序搜索工具"><a href="#Synapse-Indicator：文件和程序搜索工具" class="headerlink" title="Synapse Indicator：文件和程序搜索工具"></a>Synapse Indicator：文件和程序搜索工具</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:noobslab/apps</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install indicator-synapse</div></pre></td></tr></table></figure><h4 id="音视频解码"><a href="#音视频解码" class="headerlink" title="音视频解码"></a>音视频解码</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install ubuntu-restricted-extras</div></pre></td></tr></table></figure><h4 id="Preload：软件预加载工具"><a href="#Preload：软件预加载工具" class="headerlink" title="Preload：软件预加载工具"></a>Preload：软件预加载工具</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install preload</div></pre></td></tr></table></figure><h4 id="控制程序自启动"><a href="#控制程序自启动" class="headerlink" title="控制程序自启动"></a>控制程序自启动</h4><p>在shell中输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ gnome-session-properties</div></pre></td></tr></table></figure><h4 id="系统状态指示器"><a href="#系统状态指示器" class="headerlink" title="系统状态指示器"></a>系统状态指示器</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:indicator-multiload/stable-daily</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install indicator-multiload</div></pre></td></tr></table></figure><h4 id="大小写状态指示器"><a href="#大小写状态指示器" class="headerlink" title="大小写状态指示器"></a>大小写状态指示器</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:tsbarnes/indicator-keylock</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install indicator-keylock</div></pre></td></tr></table></figure><h4 id="App-Grid-软件仓库"><a href="#App-Grid-软件仓库" class="headerlink" title="App Grid 软件仓库"></a>App Grid 软件仓库</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository -y ppa:appgrid/stable</div><div class="line">$ sudo apt-get update &amp;&amp; sudo apt-get install appgrid</div></pre></td></tr></table></figure><h4 id="防止启动屏保和省电模式"><a href="#防止启动屏保和省电模式" class="headerlink" title="防止启动屏保和省电模式"></a>防止启动屏保和省电模式</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:caffeine-developers/ppa</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install caffeine</div></pre></td></tr></table></figure><h4 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h4><p>详情见 <a href="http://yumuzi.github.io/2016/04/29/Hexo-Ubuntu-GithubPages/">Hexo-Ubuntu-GithubPages 搭建独立博客</a></p><h4 id="TeXLive"><a href="#TeXLive" class="headerlink" title="TeXLive"></a>TeXLive</h4><p>详情见 <a href="http://yumuzi.github.io/2016/05/04/Ubuntu-latex/">http://yumuzi.github.io/2016/05/04/Ubuntu-latex/</a></p><h4 id="oh-my-zsh"><a href="#oh-my-zsh" class="headerlink" title="oh my zsh"></a>oh my zsh</h4><p>详情见 <a href="http://yumuzi.github.io/2016/05/08/oh-my-zsh-install/">Ubuntu 安装和配置 oh-my-zsh</a></p><h4 id="Variety"><a href="#Variety" class="headerlink" title="Variety"></a>Variety</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:peterlevi/ppa</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install variety variety-slideshow</div></pre></td></tr></table></figure><h4 id="Mutate"><a href="#Mutate" class="headerlink" title="Mutate"></a>Mutate</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:mutate/ppa</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install mutate</div></pre></td></tr></table></figure><p>热键：<code>CTRL-D</code></p><h4 id="Geary"><a href="#Geary" class="headerlink" title="Geary"></a>Geary</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:yorba/ppa</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install geary</div></pre></td></tr></table></figure><h4 id="my-weather-indicator"><a href="#my-weather-indicator" class="headerlink" title="my-weather-indicator"></a>my-weather-indicator</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:atareao/atareao</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install my-weather-indicator</div></pre></td></tr></table></figure><h4 id="TLP"><a href="#TLP" class="headerlink" title="TLP"></a>TLP</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:linrunner/tlp</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install tlp tlp-rdw</div><div class="line">$ sudo tlp start</div></pre></td></tr></table></figure><h4 id="rar"><a href="#rar" class="headerlink" title="rar"></a>rar</h4><ul><li>压缩功能</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install rar</div><div class="line"></div><div class="line">$ sudo apt-get remove rar</div></pre></td></tr></table></figure><ul><li>解压功能</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install unrar</div><div class="line"></div><div class="line">$ sudo apt-get remove unrar</div></pre></td></tr></table></figure><h4 id="cairo-dock"><a href="#cairo-dock" class="headerlink" title="cairo dock"></a>cairo dock</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:cairo-dock-team/ppa</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install cairo-dock cairo-dock-plug-ins</div></pre></td></tr></table></figure><h4 id="网易云音乐（musicbox）"><a href="#网易云音乐（musicbox）" class="headerlink" title="网易云音乐（musicbox）"></a>网易云音乐（musicbox）</h4><p><a href="https://github.com/darknessomi/musicbox" target="_blank" rel="external">NetEase-MusicBox</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python-pip% 若已经安装pip2，则忽略此选项</div><div class="line">$ sudo pip2 install NetEase-MusicBox</div><div class="line">$ sudo apt-get install mpg123</div><div class="line"></div><div class="line">$ musicbox% 播放</div></pre></td></tr></table></figure><p>快捷键：</p><ul><li>j: 下移</li><li>k: 上移</li><li>h: 后退</li><li>l: 前进</li><li>u: 上一页</li><li>d: 下一页</li><li>f: 快速搜索</li><li>[: 上一曲</li><li>]: 下一曲</li><li>=: 音量增加</li><li>-: 音量减少</li><li>space: 播放/暂停</li><li>?: 手气不错</li><li>m: 主菜单</li><li>p: 当前/历史播放列表</li><li>l: 当前音乐信息</li><li>s: 添加到收藏</li><li>c: 收藏列表</li><li>r: 移除当前条目</li><li>,: 喜爱</li><li>.: 删除FM</li><li>/: 下一FM</li><li>q: 退出</li><li>w: 退出并清楚用户信息</li></ul><h4 id="calendar-indicator"><a href="#calendar-indicator" class="headerlink" title="calendar indicator"></a>calendar indicator</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="formula">$ sudo add-apt-repository ppa:atareao/atareao</span></div><div class="line"><span class="formula">$</span> sudo apt-get update</div><div class="line"><span class="formula">$ sudo apt-get install calendar-indicator</span></div></pre></td></tr></table></figure><h4 id="有道词典"><a href="#有道词典" class="headerlink" title="有道词典"></a>有道词典</h4><p>从官网直接下载安装包，安装即可。</p><h4 id="福昕阅读器"><a href="#福昕阅读器" class="headerlink" title="福昕阅读器"></a>福昕阅读器</h4><p>从官网下载安装包，并按提示安装即可。</p><h4 id="navicat-for-mysql"><a href="#navicat-for-mysql" class="headerlink" title="navicat-for-mysql"></a>navicat-for-mysql</h4><p>首先，需要安装 <code>mysql</code>，见 <a href="http://yumuzi.github.io/2016/05/23/Ubuntu-python/">Ubuntu + Python 学习之路</a></p><p>然后，现在并安装 <code>navicat for mysql</code><br>参考：<a href="https://www.navicat.com/download/navicat-for-mysql" target="_blank" rel="external">Navicat for MySQL</a>  <a href="http://taojinqu.blog.51cto.com/7849570/1289375" target="_blank" rel="external">Ubuntu Navicat for MySQL安装以及破解方案</a></p><h4 id="Oracle-JDK"><a href="#Oracle-JDK" class="headerlink" title="Oracle JDK"></a>Oracle JDK</h4><p>安装及设置java8</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:webupd8team/java</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install oracle-java8-installer</div><div class="line">$ sudo apt-get install oracle-java8-set-default</div></pre></td></tr></table></figure><h4 id="Conky"><a href="#Conky" class="headerlink" title="Conky"></a>Conky</h4><p>一个轻量系统监测器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install conky</div><div class="line">$ sudo apt-get-repository ppa:teejee2008/ppa</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install conky-manager</div></pre></td></tr></table></figure><h4 id="psensor"><a href="#psensor" class="headerlink" title="psensor"></a>psensor</h4><p>图形化电脑硬件温度</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install lm-sensors</div><div class="line">$ sudo sensors-detect</div><div class="line">$ sensors</div><div class="line">$ sudo apt-get install psensor</div></pre></td></tr></table></figure><p><em>未完待续…</em></p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;为知笔记（WizNote）&quot;&gt;&lt;a href=&quot;#为知笔记（WizNote）&quot; class=&quot;headerlink&quot; title=&quot;为知笔记（WizNote）&quot;&gt;&lt;/a&gt;为知笔记（WizNote）&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo add-apt-repository ppa:wiznote-team&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get update&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install wiznote&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;快捷启动软件（Albert）&quot;&gt;&lt;a href=&quot;#快捷启动软件（Albert）&quot; class=&quot;headerlink&quot; title=&quot;快捷启动软件（Albert）&quot;&gt;&lt;/a&gt;快捷启动软件（Albert）&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 使用deb软件安装包&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 因为热键被占用，需重新选择快捷键（这里选择ctrl + space）&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="softwares" scheme="https://yumuzi.github.io/tags/softwares/"/>
    
  </entry>
  
  <entry>
    <title>Hexo-Ubuntu-GithubPages 搭建独立博客</title>
    <link href="https://yumuzi.github.io/Hexo-Ubuntu-GithubPages.html"/>
    <id>https://yumuzi.github.io/Hexo-Ubuntu-GithubPages.html</id>
    <published>2016-04-29T07:00:43.000Z</published>
    <updated>2017-11-05T15:32:20.290Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Ubuntu-安装-node-js"><a href="#Ubuntu-安装-node-js" class="headerlink" title="Ubuntu 安装 node.js"></a>Ubuntu 安装 node.js</h3><ul><li>下载和安装nvm</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh</div><div class="line">$ <span class="built_in">source</span> ~/.nvm/nvm.sh</div></pre></td></tr></table></figure><ul><li>nvm安装好之后，通过nvm安装node.js</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># node.js当前版本号为4.4.3</span></div><div class="line">$ nvm install 4.4.3</div></pre></td></tr></table></figure><ul><li>安装完毕，可以通过命令查看node.js版本</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ node -v</div></pre></td></tr></table></figure><a id="more"></a><h3 id="Ubuntu-安装和配置-Git"><a href="#Ubuntu-安装和配置-Git" class="headerlink" title="Ubuntu 安装和配置 Git"></a>Ubuntu 安装和配置 Git</h3><ul><li>安装Git</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install git</div><div class="line">$ sudo apt-get install git-core</div></pre></td></tr></table></figure><ul><li>配置 ssh-key</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -C <span class="string">'yourgithub@email.address'</span> -t rsa</div></pre></td></tr></table></figure><ul><li>Git初始设置</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git config --global user.name <span class="string">"your real name"</span></div><div class="line">$ git config --global user.email you@email.address</div></pre></td></tr></table></figure><ul><li>提交秘钥到github</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> ~/.ssh</div><div class="line">$ ls</div></pre></td></tr></table></figure><p>会显示 “<em>idrsa  idras.pub</em>“ 两个文件，前一个是私钥，后一个是公钥。将公钥粘贴到你的github账号中的 SSH Public Keys 处即可。</p><h3 id="安装并执行-Hexo"><a href="#安装并执行-Hexo" class="headerlink" title="安装并执行 Hexo"></a>安装并执行 Hexo</h3><ul><li>安装hexo</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -g hexo-cli</div></pre></td></tr></table></figure><ul><li>初始化本地博客目录</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ mkdir Blogs</div><div class="line">$ <span class="built_in">cd</span> Blogs</div><div class="line">$ hexo init</div><div class="line">$ npm install</div></pre></td></tr></table></figure><ul><li>生成静态文件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">~/Blogs $ hexo generate</div></pre></td></tr></table></figure><ul><li>开启本地服务</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">~/Blogs $ hexo server</div></pre></td></tr></table></figure><ul><li>新建博文</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># /home/lyj/Blogs/目录下</span></div><div class="line">$ hexo new firstblog</div><div class="line">$ <span class="built_in">cd</span> <span class="built_in">source</span>/_posts</div><div class="line">$ ll</div></pre></td></tr></table></figure><ul><li>生成html文件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># /home/lyj/Blogs/ 目录下</span></div><div class="line">$ hexo generate</div><div class="line">$ hexo server</div></pre></td></tr></table></figure><ul><li>安装hexo-deployer-git</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install hexo-deployer-git --save</div></pre></td></tr></table></figure><ul><li>上传到github</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># /home/lyj/Blogs/ 目录下</span></div><div class="line">$ hexo clean</div><div class="line">$ hexo generate</div><div class="line">$ hexo deploy</div></pre></td></tr></table></figure><p><strong>大功告成！</strong></p><h3 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h3><ul><li><a href="http://yanceywang.com/2015/07/30/Ubuntu+Hexo+GithubPages%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/" target="_blank" rel="external">Hexo+Ubuntu+GithubPages搭建个人博客(基础篇)</a></li><li><a href="http://nomadlx.github.io/2015/03/15/%E4%BD%BF%E7%94%A8hexo%E5%9C%A8github%E4%B8%8A%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/" target="_blank" rel="external">使用hexo在github上搭建静态博客</a></li><li><a href="https://www.pureweber.com/article/git-and-github/" target="_blank" rel="external">Git与Github的使用(ubuntu)</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Ubuntu-安装-node-js&quot;&gt;&lt;a href=&quot;#Ubuntu-安装-node-js&quot; class=&quot;headerlink&quot; title=&quot;Ubuntu 安装 node.js&quot;&gt;&lt;/a&gt;Ubuntu 安装 node.js&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;下载和安装nvm&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt; ~/.nvm/nvm.sh&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;nvm安装好之后，通过nvm安装node.js&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# node.js当前版本号为4.4.3&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ nvm install 4.4.3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;安装完毕，可以通过命令查看node.js版本&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ node -v&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="hexo" scheme="https://yumuzi.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>常用软件汇总整理</title>
    <link href="https://yumuzi.github.io/softwares.html"/>
    <id>https://yumuzi.github.io/softwares.html</id>
    <published>2016-04-29T06:43:11.000Z</published>
    <updated>2017-11-05T15:33:28.264Z</updated>
    
    <content type="html"><![CDATA[<h3 id="学术工具"><a href="#学术工具" class="headerlink" title="学术工具"></a>学术工具</h3><ul><li>1Check：英语语法和拼写错误检查，可辅助写作英文论文的利器。</li><li>Beyond Compare 4：快速合并修改文件夹或文件，并生成比较报告。</li><li>Origin9：学术作图工具。</li><li>All Office Converter：PDF转Office利器。</li><li>AutoCAD 2008：土木工程专业必备。</li><li>Zotero Standalone：文献管理工具。</li><li>Netica：贝叶斯网络工具。</li></ul><h3 id="翻译"><a href="#翻译" class="headerlink" title="翻译"></a>翻译</h3><ul><li>有道词典</li><li>灵格斯词霸（Lingoes x64）</li></ul><h3 id="截图录像"><a href="#截图录像" class="headerlink" title="截图录像"></a>截图录像</h3><ul><li>Ashampoo Snap</li><li>FSCapture_en</li></ul><a id="more"></a><h3 id="笔记清单"><a href="#笔记清单" class="headerlink" title="笔记清单"></a>笔记清单</h3><ul><li>为知笔记</li><li>有道云笔记</li><li>奇妙清单</li></ul><h3 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h3><ul><li>Chrome</li><li>Lantern</li></ul><h3 id="读书娱乐"><a href="#读书娱乐" class="headerlink" title="读书娱乐"></a>读书娱乐</h3><ul><li>网易云音乐</li><li>酷我音乐</li><li>foobar2000</li><li>mcool</li><li>QQ</li><li>微信</li><li>calibre</li><li>硕鼠</li></ul><h3 id="手机-amp-数据传输"><a href="#手机-amp-数据传输" class="headerlink" title="手机&amp;数据传输"></a>手机&amp;数据传输</h3><ul><li>Pushbullet</li><li>快牙</li></ul><h3 id="编程编辑"><a href="#编程编辑" class="headerlink" title="编程编辑"></a>编程编辑</h3><ul><li>MarkdownPad2</li><li>Sublime Text 3</li><li>gVim</li><li>XAMPP</li><li>navicat</li><li>AptanaStudio3</li></ul><h3 id="云盘博客"><a href="#云盘博客" class="headerlink" title="云盘博客"></a>云盘博客</h3><ul><li>MEGAsync</li><li>Google Drive</li><li>GitHub</li><li>Dropbox</li><li>360云盘</li><li>百度云盘</li></ul><h3 id="搜索清理"><a href="#搜索清理" class="headerlink" title="搜索清理"></a>搜索清理</h3><ul><li>Everything</li><li>TotalCommanderPortable</li><li>FileLocator Pro</li><li><strong>CCleaner64</strong></li><li>Revo Uninstaller Pro</li><li><strong>UninstallTool</strong></li><li>LaunchyPortable</li><li><strong>ALTRun</strong></li><li><strong>Rolan</strong></li></ul><h3 id="电脑工具"><a href="#电脑工具" class="headerlink" title="电脑工具"></a>电脑工具</h3><ul><li>recuva</li><li>DTLite</li><li><strong>Flux</strong></li><li>VMware Workstation</li><li>DiskGenius</li><li>Defraggler64</li><li><strong>Atomic Alarm Clock</strong></li><li>RightMenuMgr</li><li>Autoruns</li><li>procexp</li><li>SUMo</li><li><strong>TeraCopy</strong></li><li><strong>MacType用户向导</strong></li><li><strong>Clover</strong></li><li><strong>Ditto</strong></li><li><strong>Listary</strong></li><li>VeraCrypt</li><li>UltraISO</li></ul><h3 id="安全广告"><a href="#安全广告" class="headerlink" title="安全广告"></a>安全广告</h3><ul><li><strong>ESET nod32</strong></li><li><strong>阿呆喵广告拦截</strong></li></ul><h3 id="邮件"><a href="#邮件" class="headerlink" title="邮件"></a>邮件</h3><ul><li><strong>Foxmail</strong></li><li><strong>网易闪电邮</strong></li></ul><h3 id="密码管理"><a href="#密码管理" class="headerlink" title="密码管理"></a>密码管理</h3><ul><li><strong>KeePass 2</strong></li></ul><h3 id="效率工具"><a href="#效率工具" class="headerlink" title="效率工具"></a>效率工具</h3><ul><li><strong>TicKeys</strong> (快捷键：QAZ123)</li><li><strong>VistaSwitcher</strong></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;学术工具&quot;&gt;&lt;a href=&quot;#学术工具&quot; class=&quot;headerlink&quot; title=&quot;学术工具&quot;&gt;&lt;/a&gt;学术工具&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;1Check：英语语法和拼写错误检查，可辅助写作英文论文的利器。&lt;/li&gt;
&lt;li&gt;Beyond Compare 4：快速合并修改文件夹或文件，并生成比较报告。&lt;/li&gt;
&lt;li&gt;Origin9：学术作图工具。&lt;/li&gt;
&lt;li&gt;All Office Converter：PDF转Office利器。&lt;/li&gt;
&lt;li&gt;AutoCAD 2008：土木工程专业必备。&lt;/li&gt;
&lt;li&gt;Zotero Standalone：文献管理工具。&lt;/li&gt;
&lt;li&gt;Netica：贝叶斯网络工具。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;翻译&quot;&gt;&lt;a href=&quot;#翻译&quot; class=&quot;headerlink&quot; title=&quot;翻译&quot;&gt;&lt;/a&gt;翻译&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;有道词典&lt;/li&gt;
&lt;li&gt;灵格斯词霸（Lingoes x64）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;截图录像&quot;&gt;&lt;a href=&quot;#截图录像&quot; class=&quot;headerlink&quot; title=&quot;截图录像&quot;&gt;&lt;/a&gt;截图录像&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Ashampoo Snap&lt;/li&gt;
&lt;li&gt;FSCapture_en&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="softwares" scheme="https://yumuzi.github.io/tags/softwares/"/>
    
      <category term="windows" scheme="https://yumuzi.github.io/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>同济大学毕业论文LATEX模板</title>
    <link href="https://yumuzi.github.io/TongjiThesis.html"/>
    <id>https://yumuzi.github.io/TongjiThesis.html</id>
    <published>2016-04-29T06:42:00.000Z</published>
    <updated>2017-11-05T15:33:50.175Z</updated>
    
    <content type="html"><![CDATA[<ul><li>模板下载地址：<a href="https://github.com/yumuzi/TONGJITHESIS" target="_blank" rel="external">TONGJITHESIS</a></li><li>该模板转载自<strong>同济大学LINUX用户组</strong>，在此向其致敬！</li><li>该模板推荐使用<strong>CTexLive2009</strong>软件套装，无需安装即可使用。当然最重要的原因是防止编译不通过，软件下载地址：<a href="http://bbs.ctex.org/forum.php?mod=viewthread&amp;tid=50728" target="_blank" rel="external">CTexLive2009</a></li><li>大家能够搜到该文章，就说明已经有了一定的LATEX基础，那么为什么不更进一步呢 &lt;-_-&gt;</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;模板下载地址：&lt;a href=&quot;https://github.com/yumuzi/TONGJITHESIS&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;TONGJITHESIS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;该模板转载自&lt;strong&gt;同济大学
      
    
    </summary>
    
      <category term="學術" scheme="https://yumuzi.github.io/categories/%E5%AD%B8%E8%A1%93/"/>
    
    
      <category term="latex" scheme="https://yumuzi.github.io/tags/latex/"/>
    
      <category term="thesis" scheme="https://yumuzi.github.io/tags/thesis/"/>
    
  </entry>
  
  <entry>
    <title>Windows 7 x86/x64 安装LaTeX教程</title>
    <link href="https://yumuzi.github.io/latex-install-manual.html"/>
    <id>https://yumuzi.github.io/latex-install-manual.html</id>
    <published>2016-04-29T06:40:36.000Z</published>
    <updated>2017-11-05T15:32:28.326Z</updated>
    
    <content type="html"><![CDATA[<p>本文章仅教如何将 latex 安装在 Windows 7 系统中，并且可以使用 UTF-8 中文编码（即编好的PDF文档可以收录中文）。对于如何使用 latex 编辑论文请参考相关 latex 书籍、Google 或参考相关文献。</p><h2 id="安装-MikTex-2-9"><a href="#安装-MikTex-2-9" class="headerlink" title="安装 MikTex 2.9"></a>安装 MikTex 2.9</h2><ul><li>软件下载网址：<a href="http://miktex.org/download" target="_blank" rel="external">MikTex 2.9</a></li><li>32-bit/64-bit 择一下载并安装。</li></ul><h2 id="更新-MiKTex"><a href="#更新-MiKTex" class="headerlink" title="更新 MiKTex"></a>更新 MiKTex</h2><ul><li>安装完 MikTex 之后到</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">开始 -&gt; 所有程序 -&gt; MikTex 2.9 -&gt; Maintenance(Admin)-&gt; MikTex Update(Admin)</div></pre></td></tr></table></figure><a id="more"></a><p>  点开后选择（默认即可）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">I want to get updated packages from a remote package repository</div></pre></td></tr></table></figure><p>执行下一步，搜索完后选择全选执行下一步，等待更新完成即可。如果没有搜素到更新就可以直接关掉程序。</p><h2 id="为-MikTex-安装xeCJK-套件（UTF-8编码用）"><a href="#为-MikTex-安装xeCJK-套件（UTF-8编码用）" class="headerlink" title="为 MikTex 安装xeCJK 套件（UTF-8编码用）"></a>为 MikTex 安装xeCJK 套件（UTF-8编码用）</h2><ul><li>进入到</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">开始 -&gt; 所有程序 -&gt; MikTex 2.9 -&gt; Maintenance(Admin)   -&gt; MikTex Package Manager(Admin)</div></pre></td></tr></table></figure><p>在“name”中搜索“xe”，并全部安装。</p><h2 id="安装编译器-Texmaker"><a href="#安装编译器-Texmaker" class="headerlink" title="安装编译器 Texmaker"></a>安装编译器 Texmaker</h2><ul><li>软件下载地址：<a href="http://www.xm1math.net/texmaker/download.html" target="_blank" rel="external">Texmaker 4.5 for Windows</a>，32-bit/64-bit通用。</li></ul><h2 id="Texmaker-配置"><a href="#Texmaker-配置" class="headerlink" title="Texmaker 配置"></a>Texmaker 配置</h2><h3 id="安装完成后，执行-Texmaker"><a href="#安装完成后，执行-Texmaker" class="headerlink" title="安装完成后，执行 Texmaker"></a>安装完成后，执行 Texmaker</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">选项 -&gt; 配置 Texmaker</div></pre></td></tr></table></figure><p>左边有四个选项，需分别对命令、快速构建和编辑器进行配置：</p><h3 id="命令："><a href="#命令：" class="headerlink" title="命令："></a>命令：</h3><p>(a) 第一项 LaTeX 中加入”xe”，变为:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xelatex -interaction=nonstopmode %.tex</div></pre></td></tr></table></figure><p>(b) Pdf查看器更改为”External Viewer”（即你的电脑上安装的PDF阅读软件），举例:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"D:/Program Files (x86)/Foxit Software/Foxit PhantomPDF/Foxit PhantomPDF.exe"</span> %.pdf</div></pre></td></tr></table></figure><h3 id="快速构建："><a href="#快速构建：" class="headerlink" title="快速构建："></a>快速构建：</h3><p>选择“用户”，将上述(a)+(b)填入空格内，中间以”|”分隔，最后结尾再补上”| bibtex %.aux|xdvi %.dvi”即可。举例:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xelatex -interaction=nonstopmode %.tex | <span class="string">"D:\Program Files (x86)\Foxit Software\Foxit PhantomPDF\Foxit PhantomPDF.exe"</span> %.pdf | bibtex %.aux|xdvi %.dvi</div></pre></td></tr></table></figure><h3 id="编辑器："><a href="#编辑器：" class="headerlink" title="编辑器："></a>编辑器：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">编辑器 -&gt; 编辑器字体编码 选择<span class="string">"UTF-8"</span></div></pre></td></tr></table></figure><hr><p><strong>完成以上配置即可开始使用latex！</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文章仅教如何将 latex 安装在 Windows 7 系统中，并且可以使用 UTF-8 中文编码（即编好的PDF文档可以收录中文）。对于如何使用 latex 编辑论文请参考相关 latex 书籍、Google 或参考相关文献。&lt;/p&gt;
&lt;h2 id=&quot;安装-MikTex-2-9&quot;&gt;&lt;a href=&quot;#安装-MikTex-2-9&quot; class=&quot;headerlink&quot; title=&quot;安装 MikTex 2.9&quot;&gt;&lt;/a&gt;安装 MikTex 2.9&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;软件下载网址：&lt;a href=&quot;http://miktex.org/download&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;MikTex 2.9&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;32-bit/64-bit 择一下载并安装。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;更新-MiKTex&quot;&gt;&lt;a href=&quot;#更新-MiKTex&quot; class=&quot;headerlink&quot; title=&quot;更新 MiKTex&quot;&gt;&lt;/a&gt;更新 MiKTex&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;安装完 MikTex 之后到&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;开始 -&amp;gt; 所有程序 -&amp;gt; MikTex 2.9 -&amp;gt; Maintenance(Admin)-&amp;gt; MikTex Update(Admin)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="latex" scheme="https://yumuzi.github.io/tags/latex/"/>
    
      <category term="windows" scheme="https://yumuzi.github.io/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>AutoLISP 开发者指南</title>
    <link href="https://yumuzi.github.io/AutoLisp.html"/>
    <id>https://yumuzi.github.io/AutoLisp.html</id>
    <published>2016-04-29T06:38:47.000Z</published>
    <updated>2017-11-05T15:29:28.922Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-引言"><a href="#1-引言" class="headerlink" title="1 引言"></a>1 引言</h2><ul><li><strong>LISP: LISt Processing language</strong></li><li>AutoCAD支持AutoLISP，但不支持许多Visual LISP functions 或 Microsoft ActiveX Automation interface</li><li>没有一个集成开发环境</li><li>Application Programming Interface (API)</li></ul><h2 id="使用AutoLISP语言"><a href="#使用AutoLISP语言" class="headerlink" title="使用AutoLISP语言"></a>使用AutoLISP语言</h2><h3 id="AutoLISP基础"><a href="#AutoLISP基础" class="headerlink" title="AutoLISP基础"></a>AutoLISP基础</h3><ul><li>能够使用 number, string and list-handing functions 来自定义AutoCAD</li><li>AutoLISP不需要编译，能够在命令行直接输入代码，并立即看到结果</li></ul><h4 id="AutoLISP表达式"><a href="#AutoLISP表达式" class="headerlink" title="AutoLISP表达式"></a>AutoLISP表达式</h4><ul><li>表达式的格式：</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">function</span>  </div><div class="line">arguments</div><div class="line">)</div></pre></td></tr></table></figure><a id="more"></a><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(<span class="name">fun1</span> (<span class="name">fun2</span></div><div class="line">arguments) (<span class="name">fun3</span></div><div class="line">arguments)</div><div class="line">)</div></pre></td></tr></table></figure><p>示例：</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">*</span> <span class="number">2</span> <span class="number">27</span>)</div><div class="line"></div><div class="line"><span class="number">54</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">*</span> <span class="number">2</span> (<span class="name">+</span> <span class="number">5</span> <span class="number">10</span>))</div><div class="line"></div><div class="line"><span class="number">30</span></div></pre></td></tr></table></figure><h5 id="AutoLISP-函数语法"><a href="#AutoLISP-函数语法" class="headerlink" title="AutoLISP 函数语法"></a>AutoLISP 函数语法</h5><ul><li>约定俗成的语法：</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">foo</span> string [number ...])</div><div class="line"></div><div class="line">foo: 函数名</div><div class="line">string: 必要参数</div><div class="line">number: 可选参数</div></pre></td></tr></table></figure><h4 id="AutoLISP-数据类型"><a href="#AutoLISP-数据类型" class="headerlink" title="AutoLISP 数据类型"></a>AutoLISP 数据类型</h4><ul><li><p>Integers: 整数</p><ul><li>32位有符号数字：+2,147,483,647 ~ -2,147,483,648（note: <code>getint</code>函数只接受16位整数（+32767 ~ -32768））</li></ul></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">2147483647</span></div><div class="line"></div><div class="line"><span class="number">2147483647</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">2147483648</span></div><div class="line"></div><div class="line"><span class="number">2.14748e+009</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">+</span> <span class="number">2147483646</span> <span class="number">3</span>)</div><div class="line"></div><div class="line"><span class="number">-2147483647</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">+</span> <span class="number">2147483648</span> <span class="number">2</span>)</div><div class="line"></div><div class="line"><span class="number">2.14748e+009</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">-2147483647</span></div><div class="line"></div><div class="line"><span class="number">-2147483647</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">-2147483648</span></div><div class="line"></div><div class="line"><span class="number">-2.14748e+009</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">-</span> <span class="number">-2147483648</span> <span class="number">1</span>)</div><div class="line"></div><div class="line"><span class="number">-2.14748e+009</span></div></pre></td></tr></table></figure><ul><li><p>Reals: 实数</p><ul><li>-1 ~ 1之间的实数必须包含前导0</li><li>实数以双精度浮点数格式存储</li><li>可用科学计数法表示</li></ul></li><li><p>Strings: 字符串</p></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"\nEnter first point:"</span></div></pre></td></tr></table></figure><ul><li>Lists: 列表</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="number">1.0</span> <span class="number">1.0</span> <span class="number">0.0</span>)</div><div class="line"></div><div class="line">(<span class="string">"this"</span> <span class="string">"that"</span> <span class="string">"the other"</span>)</div><div class="line"></div><div class="line">(<span class="number">1</span> <span class="string">"ONE"</span>)</div></pre></td></tr></table></figure><ul><li><p>Selection Sets: 选择集</p><ul><li><strong>选择集</strong>是包含一个或多个对象（或实体）的集合，你能够交互地向<strong>选择集</strong>中增加对象，或从<strong>选择集</strong>中删除对象</li><li>下面的例子用<code>ssget</code>函数返回一个<code>drawing</code>中所有对象的选择集</li></ul></li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">ssget</span> <span class="string">"X"</span>)</div><div class="line"></div><div class="line">&lt;Selection set: 6&gt;</div></pre></td></tr></table></figure><ul><li><p>Entity Names: 实体名(<em>图元名</em>)</p><ul><li>一个<strong>实体名</strong>是指派给某个<code>drawing</code>对象的数字标签</li><li>它实际上是某个AutoCAD文件中的指针，并且能被用来找到对象的数据库记录和它的向量</li><li>该标签能够被<code>AutoLISP</code>函数引用以进行各种处理</li><li>AutoCAD内部引用对象作为实体</li><li>下面的例子使用<code>entlast</code>函数得到输入<code>drawing</code>中的最后一个对象</li></ul></li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">entlast</span>)</div><div class="line"></div><div class="line">&lt;图元名: -16bbe0&gt;</div><div class="line"></div><div class="line">图元名指的是drawing中仅在当前编辑会话期间有效的对象</div></pre></td></tr></table></figure><ul><li><p>File Descriptors: 文件描述符</p><ul><li><em>文件描述符</em>是一个指向AutoLISP <code>open</code> 函数打开的文件的指针</li><li><code>open</code> 函数以字母数字标签的形式返回该指针</li><li>其他AutoLISP函数可以应用该指针读或写所指向的文件</li></ul></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> file1(<span class="name">open</span> <span class="string">"test.dwg"</span> <span class="string">"r"</span>))</div><div class="line"></div><div class="line">#&lt;file <span class="string">"test.dwg"</span>&gt;</div><div class="line">------</div><div class="line">(<span class="name">close</span> file1)</div><div class="line"></div><div class="line"><span class="literal">nil</span></div></pre></td></tr></table></figure><ul><li><p>Symbols and Variables: 象征符号与变量</p><ul><li>AutoLISP使用象征符号指代数据</li><li>象征符号名大小写<strong>不</strong>敏感，可以包含任意顺序的字母数字和符号（除了以下的<strong>限制符号</strong>）</li><li>象征符号名不能仅包含数字字符</li></ul></li></ul><table><thead><tr><th>Notation characters</th><th>descriptions</th></tr></thead><tbody><tr><td>(</td><td>(Open Parenthesis)</td></tr><tr><td>)</td><td>(Close Parenthesis)</td></tr><tr><td>.</td><td>(Period)</td></tr><tr><td>‘</td><td>(Apostrophe)</td></tr><tr><td>“</td><td>(Quote Symbol)</td></tr><tr><td>;</td><td>(Semicolon)</td></tr></tbody></table><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> str1 <span class="string">"this is a string"</span>)</div><div class="line"></div><div class="line"><span class="string">"this is a string"</span></div></pre></td></tr></table></figure><h4 id="AutoLISP-程序文件"><a href="#AutoLISP-程序文件" class="headerlink" title="AutoLISP 程序文件"></a>AutoLISP 程序文件</h4><ul><li>AutoLISP 源代码文件的扩展名为 <code>.lsp</code></li></ul><h5 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h5><ul><li>变量名、常量、函数名之间的多个空格被视作一个空格；行尾被视作一个空格</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> test1 <span class="number">123</span> test2 <span class="number">456</span>)</div><div class="line"></div><div class="line">(<span class="name">setq</span></div><div class="line">    test1 <span class="number">123</span></div><div class="line">test2 <span class="number">456</span></div><div class="line">)</div><div class="line"></div><div class="line">两者结果相同</div></pre></td></tr></table></figure><h5 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h5><ul><li>注释符号为<strong>分号</strong> <code>;</code>, <code>;| ... |;</code>，注释可用来做以下事情：<ul><li>给出题目、作者和创建日期</li><li>提供使用说明</li><li>做解释性的备注</li><li>在调试过程中做备注</li></ul></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; This entire line is a comment</span></div><div class="line">(<span class="name">setq</span> area (<span class="name">*</span> pi r r)) <span class="comment">; Compute area of circle</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 行内注释</span></div><div class="line">(<span class="name">setq</span> tmode <span class="comment">;|some note here|; (getvar "tilemode"))</span></div></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 多行注释</span></div><div class="line">(<span class="name">setvar</span> <span class="string">"orthomode"</span> <span class="number">1</span>) <span class="comment">;|comment starts here</span></div><div class="line">and continues to this line,</div><div class="line">but ends way down here|; (princ "\nORTHOMODE set On.")</div></pre></td></tr></table></figure><h5 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h5><ul><li><code>setq</code> 函数将值赋给变量</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span></div><div class="line">variable_name1 value1 [variable_name2 value2 ...]</div><div class="line">)</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">set</span> val <span class="number">3</span> abc <span class="number">3.875</span>)</div><div class="line"></div><div class="line"><span class="number">3.875</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> layr <span class="string">"EXTERIOR-WALLS"</span>)</div><div class="line"></div><div class="line"><span class="string">"EXTERIOR-WALLS"</span></div></pre></td></tr></table></figure><ul><li>显示变量的值，用 <code>!</code></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">!abc</div><div class="line"></div><div class="line"><span class="number">3.875</span></div></pre></td></tr></table></figure><ul><li><code>nil</code> 变量<ul><li>没有被赋值的变量；不同于空（<code>blank</code>），也不同于<code>0</code>，前者是一个字符串，后者是一个数字</li><li>设置一个变量为<code>Nil</code>将释放掉该变量值所占据的内存空间</li></ul></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> val <span class="literal">nil</span>)</div><div class="line"></div><div class="line"><span class="literal">nil</span></div></pre></td></tr></table></figure><ul><li>预定义变量<ul><li><code>PAUSE</code>: 包含<code>\\</code>的一个字符串，该变量配合<code>command</code>函数来暂停用户输入</li><li><code>PI</code>: 一个常量，近似等于<code>3.14159</code></li><li><code>T</code>: 一个常量，被用作一个<code>non-nil</code>值</li><li><strong>注意：这些预定义变量的值可以使用<code>setq</code>函数来修改，但不建议这样做</strong></li></ul></li></ul><h4 id="数字处理"><a href="#数字处理" class="headerlink" title="数字处理"></a>数字处理</h4><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">*</span> <span class="number">2.5</span> <span class="number">13</span>)</div><div class="line"></div><div class="line"><span class="number">32.5</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">/</span> <span class="number">12</span> <span class="number">5</span>)</div><div class="line"></div><div class="line"><span class="number">2</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">/</span> <span class="number">12.0</span> <span class="number">5</span>)</div><div class="line"></div><div class="line"><span class="number">2.4</span></div></pre></td></tr></table></figure><h4 id="字符串处理"><a href="#字符串处理" class="headerlink" title="字符串处理"></a>字符串处理</h4><ul><li><code>strcase</code> 函数用来转换字母大小写，包含两个参数：一个字符串，一个可选参数</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">strcase</span> <span class="string">"This is a TEST."</span>)</div><div class="line"></div><div class="line"><span class="string">"THIS IS A TEST."</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">strcase</span> <span class="string">"This is a TEST."</span> T)</div><div class="line"></div><div class="line"><span class="string">"this is a test."</span></div></pre></td></tr></table></figure><ul><li><code>strcat</code> 函数将多个字符串合并为一个字符串</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> str <span class="string">"BIG"</span>)(<span class="name">setq</span> bigstr (<span class="name">strcat</span> <span class="string">"This is a "</span> str <span class="string">" test."</span>))</div><div class="line"></div><div class="line"><span class="string">"This is a BIG test."</span></div></pre></td></tr></table></figure><ul><li><code>strlen</code> 函数返回字符串长度</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">strlen</span> bigstr)</div><div class="line"></div><div class="line"><span class="number">19</span></div></pre></td></tr></table></figure><ul><li><p><code>substr</code> 函数返回一个字符串的子串，包含2个必要参数和一个可选参数：<em>字符串、第一个字母的位置(从1开)和字母的数量</em></p><ul><li>定义一个文件名，获取子串</li></ul></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> filnam <span class="string">"bigfile.txt"</span>)</div><div class="line"></div><div class="line"><span class="string">"bigfile.txt"</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> newlen (<span class="name">-</span> (<span class="name">strlen</span> filnam) <span class="number">4</span>))</div><div class="line"></div><div class="line"><span class="number">7</span></div><div class="line">------</div><div class="line">(<span class="name">substr</span> filnam <span class="number">1</span> newlen)</div><div class="line"></div><div class="line"><span class="string">"bigfile"</span></div><div class="line"></div><div class="line">或者，合并为一行代码：</div><div class="line"></div><div class="line">(<span class="name">substr</span> filnam <span class="number">1</span> (<span class="name">-</span> (<span class="name">strlen</span> filnam) <span class="number">4</span>))</div><div class="line"></div><div class="line"><span class="string">"bigfile"</span></div></pre></td></tr></table></figure><h4 id="基本输出函数"><a href="#基本输出函数" class="headerlink" title="基本输出函数"></a>基本输出函数</h4><h5 id="文本输出"><a href="#文本输出" class="headerlink" title="文本输出"></a>文本输出</h5><ul><li>主要的文本输出函数包括：</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">prin1</div><div class="line">princ</div><div class="line">print</div><div class="line">prompt</div></pre></td></tr></table></figure><ul><li><code>princ</code>: 输出无引号封闭的字符串</li><li><code>prinl</code>: 输出有引号封闭的字符串</li><li><code>print</code>: 输出有引号封闭的字符串，但在表达式前放一个空行，其后放一个空格</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> str <span class="string">"The \"allowable\" tolerance is 1\/4"</span>)</div><div class="line"></div><div class="line"><span class="string">"The \"allowable\" tolerance is 1/4"</span></div><div class="line"></div><div class="line">(<span class="name">prompt</span> str)</div><div class="line"></div><div class="line">The <span class="string">"allowable"</span> tolerance is <span class="number">1/4</span><span class="literal">nil</span></div><div class="line"></div><div class="line">(<span class="name">princ</span> str)</div><div class="line"></div><div class="line">The <span class="string">"allowable"</span> tolerance is <span class="number">1/4</span><span class="string">"The \"allowable\" tolerance is 1/4"</span></div><div class="line"></div><div class="line">(<span class="name">prin1</span> str)</div><div class="line"></div><div class="line"><span class="string">"The \"allowable\" tolerance is 1/4"</span><span class="string">"The \"allowable\" tolerance is 1/4"</span></div><div class="line"></div><div class="line">(<span class="name">print</span> str)</div><div class="line"></div><div class="line"><span class="string">"The \"allowable\" tolerance is 1/4"</span> <span class="string">"The \"allowable\" tolerance is 1/4"</span></div></pre></td></tr></table></figure><ul><li>安静退出：使用一个不带参数的 <code>princ</code> 函数</li></ul><h5 id="控制字符串中的字母"><a href="#控制字符串中的字母" class="headerlink" title="控制字符串中的字母"></a>控制字符串中的字母</h5><table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>\</td><td>\</td></tr><tr><td>\”</td><td>“</td></tr><tr><td>\e</td><td>Escape character</td></tr><tr><td>\n</td><td>Newline character</td></tr><tr><td>\r</td><td>Return character</td></tr><tr><td>\t</td><td>Tab character</td></tr><tr><td>\nnn</td><td>八进制编码nnn的字符</td></tr></tbody></table><ul><li><code>prompt</code> 和 <code>princ</code> 扩展了这些控制字符</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">princ</span> <span class="string">"The \"filename\" is: /ACAD/TEST.TXT."</span>)</div><div class="line"></div><div class="line">The "filename" is: /ACAD/TEST.TXT."The \"filename\" is: /ACAD/TEST.TXT."</div></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(<span class="name">prompt</span> <span class="string">"An example of the \nnewline character."</span>)</div><div class="line"></div><div class="line">An example of the</div><div class="line">newline character.nil</div></pre></td></tr></table></figure><h5 id="通配符匹配"><a href="#通配符匹配" class="headerlink" title="通配符匹配"></a>通配符匹配</h5><ul><li>通配符(wild-card)与其它语言的正则表达式(regular expressions)类似</li><li><code>wcmatch</code> 函数能够用来进行字符串和通配符的比较</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> matchme <span class="string">"this is a string - test1 test2 the end"</span>)</div><div class="line"></div><div class="line"><span class="string">"this is a string - test1 test2 the end"</span></div><div class="line"></div><div class="line">(<span class="name">wcmatch</span> matchme <span class="string">"this*"</span>)</div><div class="line"></div><div class="line">T</div><div class="line"></div><div class="line"><span class="comment">; 如果包含 "test4", "test5", "test6" or "test9"，将返回 T</span></div><div class="line">(<span class="name">wcmatch</span> matchme <span class="string">"*test[4-69]*"</span>)</div><div class="line"></div><div class="line"><span class="literal">nil</span></div><div class="line"></div><div class="line">(<span class="name">wcmatch</span> matchme <span class="string">"*test[4-61]*"</span>)</div><div class="line"></div><div class="line">T</div><div class="line"></div><div class="line">(<span class="name">wcmatch</span> matchme <span class="string">"ABC,XYZ*,*end"</span>)</div><div class="line"></div><div class="line">T</div></pre></td></tr></table></figure><h4 id="等式和条件"><a href="#等式和条件" class="headerlink" title="等式和条件"></a>等式和条件</h4><ul><li>AutoLISP 在某些情况下会自动将象征表名转化为大写，此时进行比较时可能需要用到 <code>strcase</code> 函数</li></ul><h4 id="列表处理"><a href="#列表处理" class="headerlink" title="列表处理"></a>列表处理</h4><ul><li>列表中的项不需要数据类型相同</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> lst1 (<span class="name">list</span> <span class="number">1.0</span> <span class="string">"One"</span> <span class="number">1</span>))</div><div class="line"></div><div class="line">(<span class="number">1.0</span> <span class="string">"One"</span> <span class="number">1</span>)</div></pre></td></tr></table></figure><ul><li><code>nth</code> 函数检索列表中的某一项，包含两个参数：<em>起始序号(从0开始)，列表本身</em></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">nth</span> <span class="number">1</span> lst1)</div><div class="line"></div><div class="line"><span class="string">"One"</span></div></pre></td></tr></table></figure><ul><li><code>cdr</code> 函数返回除第一个元素外的所有元素</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">cdr</span> lst1)</div><div class="line"></div><div class="line">(<span class="string">"One"</span> <span class="number">1</span>)</div></pre></td></tr></table></figure><ul><li><code>append</code> 函数向列表尾增加一个新项，并返回一个新列表；并且其所有参数必须是列表</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 注意：quote函数（or '）很容易将一个字符串添加进一个列表</span></div><div class="line">(<span class="name">setq</span> lst2 (<span class="name">append</span> lst1 '(<span class="string">"One"</span>)))</div><div class="line"></div><div class="line">(<span class="number">1.0</span> <span class="string">"One"</span> <span class="number">1</span> <span class="string">"One"</span>)</div></pre></td></tr></table></figure><ul><li><code>cons</code>函数向列表头增加一个新项，并返回一个新列表</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> lst3 (<span class="name">cons</span> <span class="string">"Ones"</span> lst2))</div><div class="line"></div><div class="line">(<span class="string">"Ones"</span> <span class="number">1.0</span> <span class="string">"One"</span> <span class="number">1</span> <span class="string">"One"</span>)</div></pre></td></tr></table></figure><ul><li><code>subst</code>函数用新项替换掉原列表中所有出现的老项，并返回一个新列表</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> lst4 (<span class="name">subst</span> <span class="string">"one"</span> <span class="string">"One"</span> lst3))</div><div class="line"></div><div class="line">(<span class="string">"Ones"</span> <span class="number">1.0</span> <span class="string">"one"</span> <span class="number">1</span> <span class="string">"one"</span>)</div></pre></td></tr></table></figure><h5 id="点列表"><a href="#点列表" class="headerlink" title="点列表"></a>点列表</h5><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">list</span> <span class="number">3.875</span> <span class="number">1.23</span>)</div><div class="line"></div><div class="line">(<span class="number">3.875</span> <span class="number">1.23</span>)</div><div class="line"></div><div class="line">(<span class="name">list</span> <span class="number">88.0</span> <span class="number">14.77</span> <span class="number">3.14</span>)</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> pt1 (<span class="name">list</span> <span class="number">3.875</span> <span class="number">1.23</span>))</div><div class="line"></div><div class="line">(<span class="number">3.875</span> <span class="number">1.23</span>)</div><div class="line"></div><div class="line">(<span class="name">setq</span> pt2 (<span class="name">list</span> <span class="number">88.0</span> <span class="number">14.77</span> <span class="number">3.14</span>))</div><div class="line"></div><div class="line">(<span class="number">88.0</span> <span class="number">14.77</span> <span class="number">3.14</span>)</div><div class="line"></div><div class="line">(<span class="name">setq</span> abc <span class="number">3.45</span>)</div><div class="line"></div><div class="line"><span class="number">3.45</span></div><div class="line"></div><div class="line">(<span class="name">setq</span> pt3 (<span class="name">list</span> abc <span class="number">1.23</span>))</div><div class="line"></div><div class="line">(<span class="number">3.45</span> <span class="number">1.23</span>)</div></pre></td></tr></table></figure><ul><li>当列表的所有项均为常数时，可使用 <code>quote</code> 函数</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> pt1 (<span class="name">quote</span> (<span class="number">4.5</span> <span class="number">7.5</span>)))</div><div class="line"></div><div class="line">(<span class="number">4.5</span> <span class="number">7.5</span>)</div><div class="line"></div><div class="line"><span class="comment">; 功能同上</span></div><div class="line">(<span class="name">setq</span> pt1 '(<span class="number">4.5</span> <span class="number">7.5</span>))</div><div class="line"></div><div class="line">(<span class="number">4.5</span> <span class="number">7.5</span>)</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> pt '(<span class="number">1.5</span> <span class="number">3.2</span> <span class="number">2.0</span>))</div><div class="line"></div><div class="line">(<span class="number">1.5</span> <span class="number">3.2</span> <span class="number">2.0</span>)</div></pre></td></tr></table></figure><ul><li><code>car</code> 函数返回列表的第一项</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> x_val (<span class="name">car</span> pt))</div><div class="line"></div><div class="line"><span class="number">1.5</span></div></pre></td></tr></table></figure><ul><li><code>cadr</code> 函数返回列表的第二项</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> y_val (<span class="name">cadr</span> pt))</div><div class="line"></div><div class="line"><span class="number">3.2</span></div></pre></td></tr></table></figure><ul><li><code>caddr</code> 函数返回列表的第三项</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> z_val (<span class="name">caddr</span> pt))</div><div class="line"></div><div class="line"><span class="number">2.0</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 定义矩形的左下角和右上角坐标</span></div><div class="line">(<span class="name">setq</span> pt1 '(<span class="number">1.0</span> <span class="number">2.0</span>) pt2 '(<span class="number">3.0</span> <span class="number">4.0</span>))</div><div class="line"></div><div class="line">(<span class="number">3.0</span> <span class="number">4.0</span>)</div><div class="line"></div><div class="line"><span class="comment">; 定义坐标的左上角坐标</span></div><div class="line">(<span class="name">setq</span> pt3 (<span class="name">list</span> (<span class="name">car</span> pt1) (<span class="name">cadr</span> pt2)))</div><div class="line"></div><div class="line">(<span class="number">1.0</span> <span class="number">4.0</span>)</div></pre></td></tr></table></figure><ul><li>AutoLISP 支持 <code>car</code> 和 <code>cdr</code> 最深<code>4</code>层的串联</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">caar</span> x)<span class="comment">; 等同于 (car (car x))</span></div><div class="line"></div><div class="line">(<span class="name">cdar</span> x)<span class="comment">; 等同于 (cdr (car x))</span></div><div class="line"></div><div class="line">(<span class="name">cadar</span> x)<span class="comment">; 等同于 (car (cdr (car x)))</span></div></pre></td></tr></table></figure><h5 id="点对-dotted-pairs"><a href="#点对-dotted-pairs" class="headerlink" title="点对(dotted pairs)"></a>点对(dotted pairs)</h5><ul><li>点对列表必须总是包含2项</li><li>大多数列表处理函数不接受点对作为一个参数</li><li><code>car, cdr, assoc</code> 函数可以处理点对</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> sublist (<span class="name">cons</span> 'lyr <span class="string">"WALLS"</span>))</div><div class="line"></div><div class="line">(<span class="name">LYR</span> . <span class="string">"WALLS"</span>)</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> wallinfo (<span class="name">list</span> sublist (<span class="name">cons</span> 'len <span class="number">240.0</span>) (<span class="name">cons</span> 'hgt <span class="number">96.0</span>)))</div><div class="line"></div><div class="line">((<span class="name">LYR</span> . <span class="string">"WALLS"</span>) (<span class="name">LEN</span> . <span class="number">240.0</span>) (<span class="name">HGT</span> . <span class="number">96.0</span>))</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">(<span class="name">assoc</span> 'len wallinfo)</div><div class="line"></div><div class="line">(<span class="name">LEN</span> . <span class="number">240.0</span>)</div><div class="line"></div><div class="line">(<span class="name">cdr</span> (<span class="name">assoc</span> 'lyr wallinfo))</div><div class="line"></div><div class="line"><span class="string">"WALLS"</span></div><div class="line"></div><div class="line">(<span class="name">nth</span> <span class="number">1</span> wallinfo)</div><div class="line"></div><div class="line">(<span class="name">LEN</span> . <span class="number">240.0</span>)</div><div class="line"></div><div class="line">(<span class="name">car</span> (<span class="name">nth</span> <span class="number">1</span> wallinfo))</div><div class="line"></div><div class="line">LEN</div></pre></td></tr></table></figure><h4 id="符号和函数处理"><a href="#符号和函数处理" class="headerlink" title="符号和函数处理"></a>符号和函数处理</h4><h5 id="用-defun-定义一个函数"><a href="#用-defun-定义一个函数" class="headerlink" title="用 defun 定义一个函数"></a>用 <code>defun</code> 定义一个函数</h5><ul><li><code>defun</code> 函数要求至少三个参数：函数名、参数列表和表达式</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defun</span> symbol_name (<span class="name">args</span> / local_variables) expressions)</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defun</span> DONE () (<span class="name">prompt</span> <span class="string">"\nbye!"</span>))</div><div class="line"></div><div class="line">DONE</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">(<span class="name">prompt</span> <span class="string">"The value is 127."</span>)(<span class="name">DONE</span>)</div><div class="line"></div><div class="line">The value is 127.</div><div class="line">bye!nil</div><div class="line">------</div><div class="line">(<span class="name">prompt</span> <span class="string">"The value is 127."</span>)(<span class="name">DONE</span>)(<span class="name">princ</span>)</div><div class="line"></div><div class="line">The value is 127.</div><div class="line">bye!</div></pre></td></tr></table></figure><h5 id="C-XXX-函数"><a href="#C-XXX-函数" class="headerlink" title="C:XXX 函数"></a><code>C:XXX</code> 函数</h5><ul><li>可以用此函数定义新的命令或重定义已有的命令</li><li>必须服从以下规则：<ul><li>函数名必须为<code>C:XXX</code> 或 <code>C:xxx</code>形式：<code>C:</code> 部分必须存在；<code>XXX</code> 为你定义的命令名</li><li>不能带参数(除了 <code>local variables</code>)</li></ul></li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defun</span> C<span class="symbol">:HELLO</span> () (<span class="name">princ</span> <span class="string">"Hello world. \n"</span>)(<span class="name">princ</span>))</div><div class="line"></div><div class="line">C:HELLO</div></pre></td></tr></table></figure><ul><li>重定义AutoCAD命令</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defun</span> C<span class="symbol">:LINE</span> () (<span class="name">princ</span> <span class="string">"Shouldn't you be using PLINE?\n"</span>) (<span class="name">command</span> <span class="string">".LINE"</span>)(<span class="name">princ</span>))</div><div class="line"></div><div class="line">C:LINE</div><div class="line"></div><div class="line">(<span class="name">command</span> <span class="string">"undefine"</span> <span class="string">"line"</span>)</div></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 禁止输出重复信息</span></div><div class="line">(<span class="name">defun</span> C<span class="symbol">:LINE</span> (<span class="name">/</span> cmdsave) (<span class="name">setq</span> cmdsave (<span class="name">getvar</span> <span class="string">"cmdecho"</span>)) (<span class="name">setvar</span> <span class="string">"cmdecho"</span> <span class="number">0</span>) (<span class="name">princ</span> <span class="string">"Shouldn't you be using PLINE?\n"</span>) (<span class="name">command</span> <span class="string">".LINE"</span>) (<span class="name">setvar</span> <span class="string">"cmdecho"</span> cmdsave) (<span class="name">princ</span>))</div><div class="line"></div><div class="line">C:LINE</div></pre></td></tr></table></figure><ul><li>重定义命令后，要使用原内置命令，可以使用<code>.</code>前缀命令，如<code>.line</code></li></ul><h5 id="函数中的局部变量-local-variables"><a href="#函数中的局部变量-local-variables" class="headerlink" title="函数中的局部变量 local variables"></a>函数中的局部变量 <code>local variables</code></h5><ul><li>声明全局变量：<code>*default-layer*</code></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 定义带局部变量的函数</span></div><div class="line">(<span class="name">defun</span> LOCAL (<span class="name">/</span> aaa bbb)</div><div class="line">(<span class="name">setq</span> aaa <span class="string">"A"</span> bbb <span class="string">"B"</span>)</div><div class="line">(<span class="name">princ</span> (<span class="name">strcat</span> <span class="string">"\naaa has the value "</span> aaa))</div><div class="line">(<span class="name">princ</span> (<span class="name">strcat</span> <span class="string">"\nbbb has the value "</span> bbb))</div><div class="line">(<span class="name">princ</span>))</div><div class="line"></div><div class="line">LOCAL</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> aaa <span class="number">1</span> bbb <span class="number">2</span>)</div><div class="line"></div><div class="line"><span class="number">2</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(<span class="name">local</span>)</div><div class="line"></div><div class="line">aaa has the value A</div><div class="line">bbb has the value B</div></pre></td></tr></table></figure><h5 id="带参函数"><a href="#带参函数" class="headerlink" title="带参函数"></a>带参函数</h5><ul><li>用户自定义函数不能包含<em>可选参数</em></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 注意：这里不能使用 princ 函数抑制程序返回值</span></div><div class="line">(<span class="name">defun</span> ARGTEST (<span class="name">arg1</span> arg2 / ccc)</div><div class="line">(<span class="name">setq</span> ccc <span class="string">"Constant string"</span>)</div><div class="line">(<span class="name">strcat</span> ccc <span class="string">", "</span> arg1 <span class="string">", "</span> arg2))</div><div class="line"></div><div class="line">ARGTEST</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> newstr (<span class="name">ARGTEST</span> <span class="string">"String 1"</span> <span class="string">"String 2"</span>))</div><div class="line"></div><div class="line"><span class="string">"Constant string, String 1, String 2"</span></div><div class="line"></div><div class="line"><span class="comment">; 程序执行完成，局部变量`ccc`所占用的内存空间就被释放了</span></div><div class="line">!ccc</div><div class="line"></div><div class="line"><span class="literal">nil</span></div></pre></td></tr></table></figure><ul><li>特殊形式</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">and</div><div class="line">command</div><div class="line">cond</div><div class="line">defun</div><div class="line">defun-q</div><div class="line">foreach</div><div class="line">function</div><div class="line">if</div><div class="line">lambda</div><div class="line">or</div><div class="line">progn</div><div class="line">quote</div><div class="line">repeat</div><div class="line">setq</div><div class="line">trace</div><div class="line">untrace</div><div class="line">vlax-for</div><div class="line">while</div></pre></td></tr></table></figure><h3 id="AutoLISP-中的错误处理"><a href="#AutoLISP-中的错误处理" class="headerlink" title="AutoLISP 中的错误处理"></a>AutoLISP 中的错误处理</h3><p><code>*error*</code> 函数<br><code>vl-catch-all-apply</code> 函数</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">alert</span> <span class="string">"File not found"</span>)</div><div class="line"></div><div class="line"><span class="comment">; 将弹出一个警告框</span></div></pre></td></tr></table></figure><h2 id="使用AutoLISP与AutoCAD进行交流"><a href="#使用AutoLISP与AutoCAD进行交流" class="headerlink" title="使用AutoLISP与AutoCAD进行交流"></a>使用AutoLISP与AutoCAD进行交流</h2><h3 id="访问命令与服务"><a href="#访问命令与服务" class="headerlink" title="访问命令与服务"></a>访问命令与服务</h3><h4 id="命令提交"><a href="#命令提交" class="headerlink" title="命令提交"></a>命令提交</h4><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">command</span> <span class="string">"circle"</span> <span class="string">"0,0"</span> <span class="string">"3,3"</span>)</div><div class="line">(<span class="name">command</span> <span class="string">"thickness"</span> <span class="number">1</span>)</div><div class="line">(<span class="name">setq</span> p1 '(<span class="number">1.0</span> <span class="number">1.0</span> <span class="number">3.0</span>))</div><div class="line">(<span class="name">setq</span> rad <span class="number">4.5</span>)</div><div class="line">(<span class="name">command</span> <span class="string">"circle"</span> p1 rad)</div></pre></td></tr></table></figure><ul><li><p>外国语支持</p></li><li><p>暂停用户输入</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-引言&quot;&gt;&lt;a href=&quot;#1-引言&quot; class=&quot;headerlink&quot; title=&quot;1 引言&quot;&gt;&lt;/a&gt;1 引言&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;LISP: LISt Processing language&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;AutoCAD支持AutoLISP，但不支持许多Visual LISP functions 或 Microsoft ActiveX Automation interface&lt;/li&gt;
&lt;li&gt;没有一个集成开发环境&lt;/li&gt;
&lt;li&gt;Application Programming Interface (API)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;使用AutoLISP语言&quot;&gt;&lt;a href=&quot;#使用AutoLISP语言&quot; class=&quot;headerlink&quot; title=&quot;使用AutoLISP语言&quot;&gt;&lt;/a&gt;使用AutoLISP语言&lt;/h2&gt;&lt;h3 id=&quot;AutoLISP基础&quot;&gt;&lt;a href=&quot;#AutoLISP基础&quot; class=&quot;headerlink&quot; title=&quot;AutoLISP基础&quot;&gt;&lt;/a&gt;AutoLISP基础&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;能够使用 number, string and list-handing functions 来自定义AutoCAD&lt;/li&gt;
&lt;li&gt;AutoLISP不需要编译，能够在命令行直接输入代码，并立即看到结果&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;AutoLISP表达式&quot;&gt;&lt;a href=&quot;#AutoLISP表达式&quot; class=&quot;headerlink&quot; title=&quot;AutoLISP表达式&quot;&gt;&lt;/a&gt;AutoLISP表达式&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;表达式的格式：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight lisp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;(&lt;span class=&quot;name&quot;&gt;function&lt;/span&gt;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;arguments&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="autolisp" scheme="https://yumuzi.github.io/tags/autolisp/"/>
    
      <category term="autocad" scheme="https://yumuzi.github.io/tags/autocad/"/>
    
  </entry>
  
</feed>
