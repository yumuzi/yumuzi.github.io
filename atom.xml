<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>海闊天空</title>
  
  <subtitle>「獨立之精神，自由之思想」</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://yumuzi.github.io/"/>
  <updated>2018-05-27T05:47:54.642Z</updated>
  <id>https://yumuzi.github.io/</id>
  
  <author>
    <name>李彥傑</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>文摘雜彙（戊戌年三月廿九）</title>
    <link href="https://yumuzi.github.io/wenzhaizahui-001.html"/>
    <id>https://yumuzi.github.io/wenzhaizahui-001.html</id>
    <published>2018-05-14T10:44:06.000Z</published>
    <updated>2018-05-27T05:47:54.642Z</updated>
    
    <content type="html"><![CDATA[<ul><li>獨自閒行獨自吟。</li><li>弭謗莫如自修。</li><li>見仁見智，既然莫衷一是；為軒為輊，亦復各有千秋。</li><li>如有你有正確的態度，有趣的事情自然會找到你。</li><li>淵然而思，憬然而悟，揪然而悲，奮然而起。</li><li>天下為公，選賢與能。</li><li>惟知之深，故愛之切。</li><li>同一笑，到頭萬事皆空。</li><li>木秀於林，風必摧之。行高於人，眾必毀之。</li><li>凡所有相皆是虛妄，若見諸相非相，則見如來。——金剛經</li><li>倩紗窗下我本無緣，黃土壟中卿何薄命。——悼晴雯</li><li>有則改之，無則加勉。</li><li>王顧左右而言他。</li><li>心不可有一事。人心不得有所繫。</li><li>克己是泯其小我，明理是復歸大我。</li></ul><a id="more"></a><ul><li>克己可以治怒，明理可以治懼。</li><li>棄掉小我的成見，認識大我的真理。</li><li>萬物一體，變化氣質。</li><li>首先他們忽略你，然後他們嘲笑你，隨後他們批鬥你，再後來你就獲得了勝利。——甘地</li><li>孔子登東山而小魯，登泰山而小天下。——孟子·盡心上</li><li>東風夜放花千樹，更吹落，星如雨。</li><li>烈火烹油之勢，錦繡繁華之鄉。</li><li>聞弦歌而知雅樂。</li><li>今世之仁人，藁目而憂世之患。</li><li>天予不取，反受其咎。</li><li>不以官，不以山川，不以隱疾，不以畜牲，不以器幣。周人以諱事神，名，終將諱之。</li><li>立功者患信義不著，不患名位不高。——資治通鑒·晉紀</li><li>好勝人，恥聞過，騁辯給，眩聰明，厲威嚴，恣強愎，此六者，君上之弊也。——資治通鑒·唐紀</li><li>夫孝始於事親，中於事君，終於立身。——史記·太史公自序</li><li>能行之者未必能言，能言之者未必能行。</li><li>龍游麗水云和月，虎嘯泰山日照洋。</li><li>大哉乾元，萬物資始。至哉坤元，萬物資生。</li><li>九折臂而成醫兮，吾至今而知其信然。</li><li>就有道而正焉。</li><li>天意從來高難問。</li><li>留有餘不盡之巧以還造化，留有餘不盡之祿以還國家，留有餘不盡之財以還百姓，留有餘不盡之福以還子孫。</li><li>北斗七星高，哥舒夜帶刀。唐有虎狼將，宋有楊延昭。</li><li>青天有月來幾時，我今停杯一問之。</li><li>曲終人不見，江上數峰青。</li><li>走過枝繁葉茂的五月，青春就不再是個謎。</li><li>時來天地皆同力，運去英雄不自由。</li><li>東坡之詞曠，稼軒之詞豪。</li><li>三代以下之詩人，無過莊子、淵明、子美、子瞻者。此四子者，若無文學之天才，其人格亦自足千古。故無高尚偉大之人格，而有高尚偉大之文章者，殆未之有也。</li><li>天下之士，奔走於是非之場，浮沉於榮辱之海，囂然盡力而忘反，亦莫自知也。而達者哀之，非以其超然不累於物耶？老子曰：「雖有榮觀，燕處超然。」——蘇轍</li><li>翟公曰：「一死一生，乃知交情。一貧一富，乃知交態。一貴一賤，交情乃見。」——漢書·鄭當時傳</li><li>誰家今夜扁舟子，何處相思明月樓。——張若虛</li><li>此心方寸地，容得許多愁。</li><li>試問閑愁知幾許？一川煙草，滿城風絮，梅子黃時雨。</li><li>莫問收穫，但問耕耘。</li><li>能與人規矩，不能使人敲。</li><li>知足不辱，知止不殆。</li><li>用志不紛，乃凝於神。</li><li>居之無倦，行之以忠。</li><li>知之非艱，行之惟艱。</li><li>飯疏食飲水，曲肱而枕之，樂亦在其中矣。</li><li>此樹婆娑，生意盡矣。</li><li>和而不流，強哉矯；中立而不倚，強哉矯；國有道，不變塞焉，強哉矯；國無道，至死不變，強哉矯。</li><li>浩然之氣，至大至剛。行有不謙之心，則餒矣。</li><li>既已為人，己俞有；既以與人，己愈多。</li><li>生而不有，生而不恃。</li><li>君子以自強不息。</li><li>知者不惑，仁者不憂，勇者不懼。</li><li>無事以當貴，早寢以當富，安步以當車，晚食以當肉。</li><li>出輿入輦，蹶痿之機。洞房清宮，寒熱之媒。皓齒蛾眉，伐性之斧。甘脆肥濃，腐腸之藥。</li><li>人皆養子望聰明，我被聰明誤一生。惟願我兒余且魯，無災無難到公卿。</li><li>龍丘居士亦可憐，談說空有夜不眠。忽聞河東獅子吼，拄杖落地心茫然。</li><li>處貧賤易，處富貴難。安勞苦易，安閒散難。忍痛易，忍癢難。人能安閒散，耐富貴，忍癢，真有道之士也——蘇軾</li><li>既然无处可逃，不如喜悦；既然没有净土，不如静心；既然没有如愿，不如释然。—— 丰子恺《豁然开朗》</li><li>吾上可陪玉皇大帝，下可陪卑田院乞兒。眼前見天下無一個不好人。</li><li>楊柳絲絲弄輕柔，煙縷織成愁。海棠未雨，梨花先雪，一半春休。  而今往事難重省，歸夢繞秦樓。相思只在，丁香枝上，豆蔻梢頭。</li><li>人離鄉賤，物離鄉貴。</li><li>十年人事幾番新。</li><li>莫道萍蹤隨逝水，永存俠影在心田，此中心事倩誰傳？</li><li>能攻心则反侧自消，从古知兵非好战。不审势即宽严皆误，后来治蜀要深思。——清人赵藩成都武侯祠楹联</li><li>自古英雄多磨难，多少纨绔少伟男</li><li>以貌取人，失之子羽。</li><li>浮萍尚有相逢日，人岂全无见面时。</li><li>人生若只如初见，何事秋风悲画扇。等闲变却故人心，却道故人心易变。</li><li>可知君子安贫，达人知命，原有乐处。</li><li>兔死狐悲，物伤其类。</li><li>万两黄金容易得，知心一个也难求。</li><li>天地不仁，以万物为刍狗。</li><li>敌军围困万千，我自岿然不动。</li><li>在山泉水清，出山泉水浊。</li><li>达则兼济天下，穷则独善其身。</li><li>爱是恒久忍耐，又有恩慈；爱是不嫉妒，爱是不自夸，不张狂，不作害羞的事，不求自己的益处，不轻易发怒，不计算人的恶，不喜欢不义，只喜欢真理；凡事包容，凡事相信，凡事盼望，凡事忍耐；爱是永不止息。</li><li>今年所作，明年必悔。</li><li>名心既尽，其心多懒。</li><li>鲁人有事于泰山，必先有事于配林。</li><li>藏之名山，传之后人。</li><li>上有好者，下必尤甚。</li><li>示民以杂，民则难信；示民以明，民则难治。</li><li>淡极始知花更艳，愁多焉得玉无痕。</li><li>人有百折不回之真心，方能成旷世稀有之事业。</li><li>爱众不常，多情不寿；风月情怀，醉人如酒。</li><li>千里搭长棚，没有个不散的筵席。</li><li>天不拘兮地不羁，心头无喜亦无悲；却因锻炼通灵后，便向人间觅是非。</li><li>有缘的，推不开；知心的，死不改。</li><li>山木自寇，源泉自盗。</li><li>巧者劳而智者忧，无能者无所求，饱食而遨游，泛若不系之舟。</li><li>人若改长，非病即亡。</li><li>两弯似蹙非蹙笼烟眉，一双似喜非喜含露目。态生两靥之愁，娇袭一身之病。泪光点点，娇喘微微。闲静时如娇花照水，行动处似弱柳扶风。比较比干多一窍，病如西子胜三分。</li><li>无故寻愁觅恨，有时似傻如狂。纵然生的好皮囊，腹内原来草莽。潦倒不通世务，愚顽怕读文章。行为偏僻性乖张，那管世人诽谤！  富贵不知乐业，贫穷难耐凄凉。可怜辜负好韶光，于国于家无望。天下无能第一，古今不肖无双。寄言纨绔与膏粱：莫效此儿形状！</li><li>天然一段风骚，全在眉梢，平生万种情丝，悉堆眼角。</li><li>世上不平事，道路口如碑。</li><li>身後有餘忘縮手，眼前無路想回頭。</li><li>舊事悽涼不可聞。</li><li>陋室空堂，当年笏满床，衰草枯杨，曾为歌舞场。蛛丝儿结满雕梁，绿纱今又糊在蓬窗上。说什么脂正浓，粉正香，如何两鬓又成霜？昨日陇头送白骨，今宵红灯帐底卧鸳鸯。金满箱，银满箱，展眼乞丐人皆谤。正叹他人命不长，哪知自己归来丧！训有方，保不定日后作强梁。择膏粱，谁承望流落在烟花巷！因嫌纱帽小，致使锁枷扛，昨怜破袄寒，今嫌紫蟒长。乱哄哄，你方唱罢我登场，反认他乡是故乡。甚荒唐，到头来都是为他人作嫁衣裳。</li><li>时逢三五便团圆，满把晴光护玉栏。天上一轮才捧出，人间万姓仰头看。</li><li>未卜三生愿，频添一段愁。闷来时敛额，行去几回头。自顾风影前，谁堪月下俦？蟾光如有意，先上玉人楼。</li><li>惯养娇生笑你痴，菱花空对雪澌澌。好防佳节元宵后，便是烟消火灭时。</li><li>一花一石如有意，不语不笑能留人。</li><li>到头一梦，万境归空。</li><li>美中不足，好事多魔。</li><li>知屋漏者在宇下，知政失者在草野。——王充</li><li>世上假形骸，任人捏塑，本来真面目，由我主张。——徐渭</li><li>容我读书才是福，见人多事始知闲。</li><li>人无千日好，花无百日红。</li><li>通常称之为生活的都在不言中。</li><li>逢人一笑三分喜，凡事无心祸自消。</li><li>歇坐须知勿论他人短处，起步登程尽赏龙溪秀水； 别行莫忘耳闻萍水良言，回眸远瞩胜览凤里灵山。</li><li>成人不自在，自在不成人。</li><li>人的每一种身份都是一种自我绑架，<br>唯有失去是通向自由之途。</li><li>明朝生活家张岱曾言：“人无癖不可与交，以其无深情也；人无疵不可与交，以其无真气也。”</li><li>世界最有强力的人就是那最孤立的人。</li><li>常无欲以观其妙，常有欲以观其微。</li><li>直觉不过是熟能生巧的结果。</li><li>读书先要会疑，学者须以无疑中寻找疑处，方为有得。</li><li>黄梨洲：实事求是，莫做调人。</li><li>博是为参考，博是为做人。</li><li>宋人张载：学贵心悟，守旧无功。</li><li>读书，求智识，为做人。</li><li>孟子：资之深，则取之左右逢其源。</li><li>天之道，损有余而补不足也；人之道则不然，损不足以奉有余。</li><li>满目山河空念远，不如怜取眼前人。</li><li>杨绛先生说：“我们曾如此期盼外界的认可，到最后才知道：世界是自己的，与他人毫无关系。”</li><li>正如苏轼所说：“匹夫见辱，拔剑而起，挺身而斗，此不足为勇也。天下有大勇者，卒然临之而不惊，无故加之而不怒，此其所挟持者甚大，而其志甚远也。”</li><li>大胆的假设，小心的求证。</li><li>勤，即不偷懒，不走捷径；谨，即谨慎，不粗心，不苟且；和，即不发脾气，不要武断，不存成见；缓，即不轻易下结论。</li><li>功不唐捐，即努力不会白费。</li><li>孔子说，修己以敬，修己以安人，修己以安百姓。</li><li>生活中所有欢乐与苦闷都应藏在心中，有些事儿注定无人知晓，自己也无从说起。</li><li>人的一生中，真正属于自己的财富只有两个：自己的“才华”和自己的“时间”。通常是才华越来越多而时间越来越少。人生就是用时间换取才华。</li><li>国史大纲——当信任何一国之国民，尤其是自称知识在水平线以上之国民，对其本国以往历史，应该略有所知。所谓对其本国以往历史略有所知者，尤必附随一种对其本国以往历史之温情与敬意。所谓对其本国以往历史有一种温情与敬意者，至少不会感到现在我们是站在以往历史最高之顶点。</li><li>静坐常思己过，闲谈莫论人非。</li><li>昨夜西风凋碧树，独上高楼，望尽天涯路。晏殊《蝶恋花》</li><li>衣带渐宽终不悔，为伊消得人憔悴。柳永《凤栖梧》</li><li>众里寻他千百度，蓦然回首，那人却在灯火阑珊处。辛弃疾《青玉案》</li><li>俭以养德，静以修身，至今方才懂得。</li><li>人生若只如初见，何事秋风悲画扇。等闲变却故人心，却道故人心易变。”——纳兰性德</li><li>为善若欲人知，便非真善。</li><li>有心皆苦，无心即乐。</li><li>天生才士定多痴。</li><li>君子不以言举人，不以人废言。</li><li>公门之中好修行。</li><li>清风虽细难吹我，明月何尝不照人。</li><li>我不怕千万人阻挡，只怕自己投降！</li><li>周公恐惧流言日，王莽谦恭未篡时。向使当时身便死，一生真伪复谁知。</li><li>试玉还须三日满，辨材须待七年期。</li><li>水至清则无鱼，人至差则无徒，峣峣者易折，佼佼者易污。</li><li>兴亡谁人定，胜败岂无凭？</li><li>谁言书生无用，笔下亦显英雄。</li><li>简单的占有是小聪明，暂时的放弃才是大智慧。</li><li>月黑雁飞高，单于夜遁逃。欲将轻骑逐，大雪满弓刀。</li><li>天道好还，中国有必伸之理，人心效顺，匹夫无不报之仇。</li><li>孔曰成仁，孟曰取义，惟其义尽，所以仁至。读圣贤书，所学何事？而今而后，庶几无愧。</li><li>时穷节乃现，一一垂丹青。</li><li>《咏菊》待得秋来九月八，我花开时百花杀。冲天香阵透长安，满城尽带黄金甲。</li><li>智勇纯真，文质彬彬。</li><li>萤萤白兔，东走西顾，衣不如新，人不如故。——“古艳歌”，汉乐府</li><li>眼看他起朱楼，眼看他认宾客，眼看他楼塌了。这青苔碧瓦堆。俺曾睡风流觉，将五十年兴旺看饱。——《桃花扇》续四十出《余韵》，清代孔尚任</li><li>天以百凶成就一词人。——王国维</li><li>不义而富且贵，于我如浮云。</li><li>与其翘首以盼，不如不期而遇。</li><li>《春江花月夜》刘若虚“江畔何人初见月，江月何年初照人。”</li><li>茫然慨既往，默坐慎将来。</li><li>古书上说：“宽裕温柔，足以有容也；发强刚毅，足以有执；齐庄中正，足以有敬也。”</li><li>想起钱穆在一九四九年为新亚书院所写的校歌：山岩岩，海深深，地博厚，天高明，人之尊，心之灵，广大出胸襟，悠久见生成。  手空空，无一物，路遥遥，无止境。乱离中，流浪里，饿我体肤劳我精。艰险我奋进，困乏我多情。千斤担子两肩挑，趁青春，结队向前行。</li><li>云山苍苍，江水泱泱。先生之风，山高水长。江流有声，断岸千尺；山高月小，水落石出。曾日月之几何，而江山不可复识矣！</li><li>龚定庵所谓‘著书都为稻粱谋’。</li><li>安其所习，毁所不见，终以自蔽。此学者之大患也。——班固</li><li>天才是1%的灵感加99%的汗水，但那1%的灵感是最重要的，甚至比99%的汗水都重要。</li><li>子曰：“父母在，不远游，游必有方。”——《论语·里仁》</li><li>“吾生也有涯，而知也无涯，以有涯随无涯，殆已。”——《庄子·养生主》</li><li>“季文子三思而后行。子闻之曰：再，斯可矣。”——《论语·公冶长》</li><li>“酒肉穿肠过，佛祖心中留；世人若学我，如同进魔道。”——道济禅师</li><li>“老来多健忘，唯不忘相思。”——白居易《偶作寄朗之》</li><li>“古语所谓‘闭门造车，出门合辙’，盖言其法之同。”——朱熹《「四书」或问》卷五</li><li>“泉涸，鱼相与处于陆，相呴以湿，相濡以沫，不如相忘于江湖。”——《庄子·大宗师》</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;獨自閒行獨自吟。&lt;/li&gt;
&lt;li&gt;弭謗莫如自修。&lt;/li&gt;
&lt;li&gt;見仁見智，既然莫衷一是；為軒為輊，亦復各有千秋。&lt;/li&gt;
&lt;li&gt;如有你有正確的態度，有趣的事情自然會找到你。&lt;/li&gt;
&lt;li&gt;淵然而思，憬然而悟，揪然而悲，奮然而起。&lt;/li&gt;
&lt;li&gt;天下為公，選賢與能。&lt;/li&gt;
&lt;li&gt;惟知之深，故愛之切。&lt;/li&gt;
&lt;li&gt;同一笑，到頭萬事皆空。&lt;/li&gt;
&lt;li&gt;木秀於林，風必摧之。行高於人，眾必毀之。&lt;/li&gt;
&lt;li&gt;凡所有相皆是虛妄，若見諸相非相，則見如來。——金剛經&lt;/li&gt;
&lt;li&gt;倩紗窗下我本無緣，黃土壟中卿何薄命。——悼晴雯&lt;/li&gt;
&lt;li&gt;有則改之，無則加勉。&lt;/li&gt;
&lt;li&gt;王顧左右而言他。&lt;/li&gt;
&lt;li&gt;心不可有一事。人心不得有所繫。&lt;/li&gt;
&lt;li&gt;克己是泯其小我，明理是復歸大我。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="文學" scheme="https://yumuzi.github.io/categories/%E6%96%87%E5%AD%B8/"/>
    
    
      <category term="文摘" scheme="https://yumuzi.github.io/tags/%E6%96%87%E6%91%98/"/>
    
  </entry>
  
  <entry>
    <title>中國歷史中越讀越有味道的九九句話</title>
    <link href="https://yumuzi.github.io/history-sentenses.html"/>
    <id>https://yumuzi.github.io/history-sentenses.html</id>
    <published>2018-02-25T07:53:33.000Z</published>
    <updated>2018-02-25T08:33:16.664Z</updated>
    
    <content type="html"><![CDATA[<p>引自<a href="http://chuansong.me/n/2200234749017" target="_blank" rel="external">中国历史中越读越有味道的100句话</a></p><h2 id="《左傳》"><a href="#《左傳》" class="headerlink" title="《左傳》"></a>《左傳》</h2><ol><li>多行不义必自毙。《左传·隐公元年》</li><li>人谁无过？过而能改，善莫大焉。《左传·宣公二年》</li><li>民生在勤，勤则不匮。《左传·宣公十二年》</li><li>《书》曰：“居安思危。”思则有备，有备无患。《左传·襄公十一年》</li><li>太上有立德，其次有立功，其次有立言。虽久不废，此之谓不朽。《左传·襄公二十四年》</li><li>我闻忠善以损怨，不闻作威以防怨。《左传·襄公三十一年》</li><li>临患不忘国，忠也。《左传·昭公元年》</li><li>末大必折，尾大不掉。《左传·昭公十一年》</li><li>为政者不赏私劳，不罚私怨。《左传·阳公五年》</li><li>无德而禄，殃也。《左传·闵公二年》</li><li>我无尔诈，尔无我虞。《左传·宣公十五年》</li><li>宴安鸩毒，不可怀也。《左传·闵公元年》</li><li>弈者举棋不定，不胜其耦(ǒu）。《左传·襄公二十五年》</li><li>众怒难犯，专欲难成。《左传·襄公十年》</li><li>川泽纳污，山薮（sǒu）藏疾，瑾瑜匿瑕。《左传·宣公十八年》</li><li>过而不悛(quān)，亡之本也。《左传·襄公七年》</li><li>华而不实，怨之所聚也。《左传·文公五年》</li><li>骄奢淫逸，所自邪也。《左传·隐公三年》</li><li>善不可失，恶不可长。《左传·隐公六年》</li><li>俭，德之共也；侈，恶之大也。《左传·庄公二十四年》</li><li>兄弟虽有小忿，不废雠亲。《左传·僖公二十四年》</li><li>祸福无门，唯人所召。《左传·襄公二十三年》</li><li>量力而动，其过鲜矣。《左传·僖公二十年》</li><li>辅车相依，唇亡齿寒。《左传·僖公五年》</li><li>言之无文，行而不远。《左传·襄公二十五年》</li><li>树德莫如滋，击疾莫如尽。《左传·哀公元年》</li><li>不以一眚(shěng)掩大德。 《左传·僖公三十三年》</li><li>从善如流。《左传·成公八年》</li><li>国之兴也，视民如伤，是其福也；其亡也，以民为土芥，是其祸也。《左传·哀公元年》</li></ol><a id="more"></a><h2 id="《史記》"><a href="#《史記》" class="headerlink" title="《史記》"></a>《史記》</h2><ol><li>项庄舞剑，意在沛公。《史记·项羽本纪》</li><li>人为刀俎，我为鱼肉。《史记·项羽本纪》</li><li>大行不顾细谨，大礼不辞小让。《史记·项羽本纪》</li><li>积羽沉舟，群轻折轴，众口铄金，积毁销骨。《史记·张仪列传》</li><li>桃李不言，下自成蹊。《史记·李将军列传》</li><li>失之毫厘，谬以千里。《史记·太史公自序》</li><li>匈奴未灭，无以家为。《史记·卫将军骠骑列传》</li><li>王侯将相宁有种乎。《史记·陈涉世家》</li><li>燕雀安知鸿鹄之志哉。《史记·陈涉世家》</li><li>运筹帷幄之中，决胜千里之外。《史记·高祖本纪》</li><li>忠言逆耳利于行，良药苦口利于病。《史记·留侯世家》</li><li>人固有一死，或重于泰山，或轻于鸿毛。《史记·报任少卿书》</li><li>不鸣则已，一鸣惊人；不飞则已，一飞冲天。《史记·滑稽列传》</li><li>智者千虑，必有一失；愚者千虑，必有一得。《史记·淮阴侯列传》</li><li>强弩之末，不能穿鲁缟。《史记·韩安国传》</li><li>天下熙熙，皆为利来；天下攘攘，皆为利往。《史记·货殖列传》</li><li>举世皆浊而我独清，众人皆醉而我独醒。《史记·屈原列传》</li><li>家贫则思良妻，国乱则思良相。《史记·魏世家》</li><li>得黄金百斤，不如得季布一诺。《史记·季布栾布列传》</li><li>能行之者未必能言，能言之者未必能行。《史记·孙子吴起列传》</li><li>太山不让土壤，故能成其大；河海不择细流，故能就其深；王者不却众庶，故能明其德。《史记·李斯列传》</li><li>千金之裘，非一狐之腋；台榭之榱，非一木之枝也；三代之际，非一士之智也。《史记·刘敬叔孙通列传》</li><li>女无美恶，入宫见妒；士无贤不肖，入朝见疑。《史记·扁鹊仓公列传》</li><li>礼生于有，而废于无，故君子富，好行其德；小人富，以适其利。渊深而鱼生之，山深而兽往之，人富而仁义附焉。《史记·货殖列传》</li><li>夫孝始于事亲，中于事君，终于立身。《史记·太史公自序》</li><li>夫礼禁未然之前，法施已然之后；法之所为用者易见，而礼之所为禁者难知。《史记·太史公自序》</li><li>日中则移，月满则亏。《史记·范雎蔡泽列传》</li><li>飞鸟尽，良弓藏；狡兔死，走狗烹。《史记·越世家》</li><li>物有必至，事有固然。《史记·孟尝君列传》</li><li>当断不断，反受其乱。《史记·齐悼惠王世家》</li></ol><h2 id="《三國志》"><a href="#《三國志》" class="headerlink" title="《三國志》"></a>《三國志》</h2><ol><li>非成业难，得贤难；非得贤难，用之难；非用之难，任之难。《三国志•吴书•钟离牧传》</li><li>苟不能以善始，未有能令终者也。《三国志·魏书·后妃传》</li><li>志行万里者，不中道而辍足；图四海者，匪怀细以害大。《三国志•吴书•陆逊传》</li><li>海以合流为大，君子以博识为弘。《三国志•蜀书•秦宓传》</li><li>夫济大事，必以人为本。《三国志·蜀书·先主传》</li><li>集众思，广忠益。《三国志•蜀书•董和传》</li><li>动则三思，虑而后行。《三国志·魏书·杨阜传》</li><li>救寒莫如重裘，止谤莫如自修。《三国志•魏书•卫昶传》</li><li>读书百遍其义自见。《三国志·魏书·王肃传》</li><li>言过其实，不可大用。《三国志·蜀书·马良传》</li><li>士别三日，即更刮目相待。《三国志·吴志·吕蒙传》</li><li>冀以尘雾之微补益山海，荧烛末光增辉日月。《三国志•魏书•陈思王植传》</li><li>计校府库，量入为出。《三国志•魏书•卫觊传》</li><li>苟得其人，虽仇必举；苟非其人，虽亲不授。《三国志•蜀书•许靖传》</li><li>用人无疑，唯才所宜。《三国志•魏书•郭嘉传》</li><li>要言不烦也。《三国志•魏书•管辂传》</li><li>识时务者，在乎俊杰。《三国志•蜀书•诸葛亮传》</li><li>恶不可积，过不可长。《三国志•吴书•陆凯传》</li><li>及溺呼船，悔之无及。《三国志•魏书•董卓传》</li><li>岁月不居，时节如流。《三国志•吴书•孙韶传》</li></ol><h2 id="《資治通鑒》"><a href="#《資治通鑒》" class="headerlink" title="《資治通鑒》"></a>《資治通鑒》</h2><ol><li>木心不直，则脉理皆邪，弓虽劲而发矢不直。《资治通鉴•唐纪》</li><li>能择善者而从之，美自归己。《资治通鉴•宋纪》</li><li>德胜才，谓之君子；才胜德，谓之小人。《资治通鉴•唐纪》</li><li>不诚于前而曰诫于后，众必疑而不信矣。《资治通鉴•唐纪》</li><li>好胜人，耻闻过，骋辩给，眩聪明，厉威严，恣强愎，此六者，君上之弊也。《资治通鉴•唐纪》</li><li>千钧之弩，不为鼷鼠发机；万石之钟，不以莛撞起音。《资治通鉴•汉纪》</li><li>聪明流通者戒于太察，寡闻少见者戒于壅蔽。《资治通鉴•汉纪》</li><li>得财失行，吾所不取。《资治通鉴•陈纪》</li><li>去就以道，可谓君子矣。《资治通鉴•晋纪》</li><li>夫登进以懋庸，黜退以惩过，二者迭用，理如循环。《资治通鉴•唐纪》</li><li>丈夫一言许人，千金不易。《资治通鉴·唐纪》</li><li>凡人之情，穷则思变。《资治通鉴•唐纪》</li><li>夫表曲者景必邪，源清者流必洁。《资治通鉴•汉纪》</li><li>老禾不早杀，余种秽良田。《资治通鉴•陈纪》</li><li>立功者患信义不著，不患名位不高。《资治通鉴•晋纪》</li><li>君子陷人危，必同其难，岂可以独生乎？《资治通鉴•汉纪》</li><li>口说不如身逢，耳闻不如目睹。《资治通鉴•唐纪》</li><li>明主用人也，使能者不敢遗其力，而不能者不得处其任。《资治通鉴•魏纪》</li><li>没齿而无怨言，圣人以为难。《资治通鉴•魏纪》</li><li>怒者常情，笑者不可测也。《资治通鉴•唐纪》</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;引自&lt;a href=&quot;http://chuansong.me/n/2200234749017&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;中国历史中越读越有味道的100句话&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;《左傳》&quot;&gt;&lt;a href=&quot;#《左傳》&quot; class=&quot;headerlink&quot; title=&quot;《左傳》&quot;&gt;&lt;/a&gt;《左傳》&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;多行不义必自毙。《左传·隐公元年》&lt;/li&gt;
&lt;li&gt;人谁无过？过而能改，善莫大焉。《左传·宣公二年》&lt;/li&gt;
&lt;li&gt;民生在勤，勤则不匮。《左传·宣公十二年》&lt;/li&gt;
&lt;li&gt;《书》曰：“居安思危。”思则有备，有备无患。《左传·襄公十一年》&lt;/li&gt;
&lt;li&gt;太上有立德，其次有立功，其次有立言。虽久不废，此之谓不朽。《左传·襄公二十四年》&lt;/li&gt;
&lt;li&gt;我闻忠善以损怨，不闻作威以防怨。《左传·襄公三十一年》&lt;/li&gt;
&lt;li&gt;临患不忘国，忠也。《左传·昭公元年》&lt;/li&gt;
&lt;li&gt;末大必折，尾大不掉。《左传·昭公十一年》&lt;/li&gt;
&lt;li&gt;为政者不赏私劳，不罚私怨。《左传·阳公五年》&lt;/li&gt;
&lt;li&gt;无德而禄，殃也。《左传·闵公二年》&lt;/li&gt;
&lt;li&gt;我无尔诈，尔无我虞。《左传·宣公十五年》&lt;/li&gt;
&lt;li&gt;宴安鸩毒，不可怀也。《左传·闵公元年》&lt;/li&gt;
&lt;li&gt;弈者举棋不定，不胜其耦(ǒu）。《左传·襄公二十五年》&lt;/li&gt;
&lt;li&gt;众怒难犯，专欲难成。《左传·襄公十年》&lt;/li&gt;
&lt;li&gt;川泽纳污，山薮（sǒu）藏疾，瑾瑜匿瑕。《左传·宣公十八年》&lt;/li&gt;
&lt;li&gt;过而不悛(quān)，亡之本也。《左传·襄公七年》&lt;/li&gt;
&lt;li&gt;华而不实，怨之所聚也。《左传·文公五年》&lt;/li&gt;
&lt;li&gt;骄奢淫逸，所自邪也。《左传·隐公三年》&lt;/li&gt;
&lt;li&gt;善不可失，恶不可长。《左传·隐公六年》&lt;/li&gt;
&lt;li&gt;俭，德之共也；侈，恶之大也。《左传·庄公二十四年》&lt;/li&gt;
&lt;li&gt;兄弟虽有小忿，不废雠亲。《左传·僖公二十四年》&lt;/li&gt;
&lt;li&gt;祸福无门，唯人所召。《左传·襄公二十三年》&lt;/li&gt;
&lt;li&gt;量力而动，其过鲜矣。《左传·僖公二十年》&lt;/li&gt;
&lt;li&gt;辅车相依，唇亡齿寒。《左传·僖公五年》&lt;/li&gt;
&lt;li&gt;言之无文，行而不远。《左传·襄公二十五年》&lt;/li&gt;
&lt;li&gt;树德莫如滋，击疾莫如尽。《左传·哀公元年》&lt;/li&gt;
&lt;li&gt;不以一眚(shěng)掩大德。 《左传·僖公三十三年》&lt;/li&gt;
&lt;li&gt;从善如流。《左传·成公八年》&lt;/li&gt;
&lt;li&gt;国之兴也，视民如伤，是其福也；其亡也，以民为土芥，是其祸也。《左传·哀公元年》&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="文學" scheme="https://yumuzi.github.io/categories/%E6%96%87%E5%AD%B8/"/>
    
    
      <category term="左傳" scheme="https://yumuzi.github.io/tags/%E5%B7%A6%E5%82%B3/"/>
    
      <category term="史記" scheme="https://yumuzi.github.io/tags/%E5%8F%B2%E8%A8%98/"/>
    
      <category term="三國志" scheme="https://yumuzi.github.io/tags/%E4%B8%89%E5%9C%8B%E5%BF%97/"/>
    
      <category term="資治通鑒" scheme="https://yumuzi.github.io/tags/%E8%B3%87%E6%B2%BB%E9%80%9A%E9%91%92/"/>
    
  </entry>
  
  <entry>
    <title>金庸武俠小說的版本學——舊版、新版、新修版</title>
    <link href="https://yumuzi.github.io/jinyongwuxia.html"/>
    <id>https://yumuzi.github.io/jinyongwuxia.html</id>
    <published>2017-11-30T12:21:44.000Z</published>
    <updated>2017-11-30T13:17:45.295Z</updated>
    
    <content type="html"><![CDATA[<p></p><p><img src="https://github.com/yumuzi/images/raw/master/20171130_jinyong_01.png" alt="大陆三联版，94年5月第一版，99年第二版" style="width:100%"></p><br>大陆三联版，94年5月第一版，99年第二版<p></p><h2 id="有趣的文学实验"><a href="#有趣的文学实验" class="headerlink" title="有趣的文学实验"></a>有趣的文学实验</h2><p>历经七年的改版工程，新修版金庸小说终于在二○○六年七月全部面世。改版过程中毁誉互参，其间因部分读者抗议声浪极大，金庸还曾打趣地说：“只要有六万人上街反对，我马上就不改了。”但改版工作毕竟已经完成。</p><a id="more"></a><p>熟读金庸的读者都明白，金庸小说并非第一次改版，目前流通的版本其实都是改版后的作品。自一九五五年于香港《新晚报》连载《书剑恩仇录》开始，至一九七二年于《明报》刊载完《鹿鼎记》为止，不论是报上的连载，或是结集成册的初版本金庸小说，在读者群中统称为“旧版”，这才是最原始的版本。其后，金庸以十年的时间，细细修订旧版小说，后来在远景与远流出版公司的版本，都是修订后的“新版”（即包括金庸读者口中的“远景白皮版”、“远流黄皮版”、“远流花皮版”），有些读者在提到金庸旧版小说时，都以为是远景的版本，事实上，远景的版本与远流的版本是同一版，只是封面及装祯有所不同而已。</p><p>有趣的是，在金庸将“新版”修订为“新修版”时，读者发出的反对意见几乎都是批评金庸“改变了共同回忆”；回想当年，在“旧版”修订为“新版”时，倪匡等旧版读者也对金庸提出过类似意见。然而，在金庸坚持将作品“经典化”的原则下，两次修订都顺利完成，有心的读者在现时可以读到三种版本的金庸武侠小说。</p><p>对于金庸的两次大改版，难免有读者怀疑是否为作者与出版社共谋商业利益的结果，以一再改版让老读者再一次掏出银子买同样的书。但细读过三种版本的读者不难发现，改版的目的其实是金庸努力要让作品“经典化”、“圆融化”、“连贯化”、“新潮化”，因而两度投入漫长的时间与庞大的精力在旧作的改写。</p><p>笔者始终认为，这“三版并陈”的有趣现象，实在是一种有意思的文学实验。一再将作品改版的作家不惟金庸一人，但修改幅度如此巨大的或许只有金庸。又因为金庸是畅销作家，出版社愿意投入资本再一次出版及营销，读者才有机会享受到这么有趣的阅读经验。</p><p>笔者现在读金庸小说时，有时会将各种版本并列同读，并比较其间的差异，细细推测金庸为何会如此改写，更是另一种读金庸小说的乐趣。</p><p>哪个版本最好？</p><p>历年学测国文得高分的考生，常有人自称是因为读金庸小说而增进国语文能力，因此常有学子或家长询问笔者，既然金庸小说版本众多，读哪一种最好？</p><p>笔者以为，若要在阅读中增进国文能力，读新版或新修版都比旧版好，因为新版毕竟经过金庸逐字逐句修订，文字使用更为精练，而新修版更将原本情节中有所疏漏之处，尽量增添、修改得更圆满，读来更流畅，因此读新版或新修版都很好。当然，读者若看过新版或新修版，想一探金庸的原创意，寻觅旧版小说来读也是可以，但毕竟旧版已市面无售，若非向早期藏书家借阅，恐也无缘得见。但若能借得旧版，探寻金庸的原创意，倒也是一种阅读趣味。</p><p></p><p><img src="https://github.com/yumuzi/images/raw/master/20171130_jinyong_01.png" alt="金庸武侠全集评点本（全八卷）" style="width:100%"></p><br>金庸武侠全集评点本（全八卷）<br>金庸 / 文化艺术出版社 / 1998<p></p><h2 id="金庸修订版本的一些技巧"><a href="#金庸修订版本的一些技巧" class="headerlink" title="金庸修订版本的一些技巧"></a>金庸修订版本的一些技巧</h2><p>笔者在阅读三种版本的金庸小说时，曾经想作笔记，将版本间的差异逐条比较，但后来发现金庸改版当真到了巨细靡遗的程度（细微到在《天龙八部》的珍珑棋局中，旧版中虚竹下的是黑子，金庸在考虑围棋的黑白子有高下尊卑之别后，在新版中改让虚竹下白子），尤其是旧版改成新版的时候，遣词用字几乎逐句校正，若真要细细比较，实是记不胜记。新版改成新修版时，以情节改变为主，字句更动较少，但仍以完美为目标，几近苛求地追求字句意境的美好。</p><p>然笔者从版本比较中，归纳出金庸改版的一些原则，可以与金庸小说读者们分享。笔者相信，若能探索金庸改版的原则，对一般读者而言固然有趣，而对有志于小说创作者而言，更是大有助益。</p><p>总而言之，金庸小说从“旧版”到“新版”，改版的原则是“删”与“改”；从“新版”到“新修版”，原则则是“增”与“修”。金庸曾说，他的小说改版像“胖女人减肥成功”，笔者认为以这句话来形容“新修版”其实不妥。“胖女人减肥成功”比较类似“旧版”到“新版”的删改，而“新版”到“新修版”更贴切的说法是：“帮瘦身成功的美女上妆”。这就是金庸改版的最基本原则。</p><h3 id="旧版到新版的删改技巧——“删”"><a href="#旧版到新版的删改技巧——“删”" class="headerlink" title="旧版到新版的删改技巧——“删”"></a>旧版到新版的删改技巧——“删”</h3><p>金庸在小说的总序言中提到，他创作小说时有一个愿望：“不要重复已经写过的人物、情节、感情，甚至是细节。”这段话是旧版到新版的删改指标。</p><p>我们先讨论第一个“删”字：删去重复的情节。</p><p>一、特别的武功，只留给特别的人物</p><p>1、旧版《射鵰英雄传》中，丘处机与江南七怪于醉仙楼比斗，连尽二十八碗不醉，原来丘道长以内功将酒自脚逼了出来。</p><p>此段在新版中删去。类似的故事保留在《天龙八部》中段誉与乔峰斗酒时，段公子将酒水自小指尖逼出。</p><p>2、旧版《倚天屠龙记》中，张三丰携同张无忌上少林寺求医，张真人写下“太极十三式”与“武当九阳功”秘籍送与少林。当时身为少林派圆真弟子的陈友谅，看一次就背了下来，并说那是少林武功。此段在新版中删去。</p><p>可以想见，这与黄药师之妻阿衡背诵《九阴真经》的情节太相近，因而不复存在。</p><p>二、大幅删除相似的动物情节</p><p>（1）蛇的情节。旧版金庸小说中，蛇的情节着实过多，金庸于新版中删去了不少。</p><p>3、旧版《射鵰英雄传》中，秦南琴的段落被大幅删除。这一大篇幅的情节大致是：郭靖决意娶华筝为妻，黄蓉伤心离开，随后郭靖认识了捕蛇女子秦南琴，仗义打退欺侮秦家的公差，并帮忙捉住食蛇的血鸟。秦南琴因而对郭靖芳心暗许，之后黄蓉回来，并因此对秦南琴存有戒心。郭黄离去后，秦南琴被铁掌帮抓至山上协助捕蛇，结果受辱于杨康。其后因性格刚烈，当杨康之面撕毁她误认的《武穆遗书》，想藉此折磨杨康。最后因怀孕而诞下杨过。</p><p>另一大段铁掌帮养蛇的情节也被删除，包括“蛙蛤大战”的段落。此段主要叙述铁掌帮养蛇，并从中揣摩击败欧阳锋的方法，以求下次“华山论剑”裘千仞之必胜。</p><p>笔者猜测，由于蛇的情节太多，金庸尽量将每部书中与蛇相关之处，保留给少数身分符合的人物，如《射鵰》中保留给欧阳锋父子。但这一删除，影响实在很大。其一，以黄蓉的心高气傲，得知郭靖决意迎娶华筝，居然愿意委屈留下；其二，将穆念慈与秦南琴结合，使穆念慈在杨康死后自尽的节烈形象大打折扣；其三，杨过幼时的性格，原本遗传自秦南琴的反社会人格。他的母亲改为穆念慈后，杨过小时候的“天生反骨”较无法以原生家庭的影响为佐证。</p><p>金庸曾经解释，小说中人物类似者宜尽量合并以简化，并举穆念慈与秦南琴合而为一之例。但笔者推测，穆念慈与秦南琴并不相似，之所以删除秦南琴，主要还是为了将过多的“蛇情节”删去。</p><p>旧版《神鵰侠侣》中，因误伤义士而被独孤求败丢弃的紫薇软剑，居然为毒蟒吞服，藏在蛇腹中。杨过杀蛇后得到利器紫薇软剑，其后郭芙也是以紫薇软剑斩断杨过手臂。或许因为“蛇味”太重，此段因而被删。</p><p>旧版《天龙八部》中，锺灵养着“禹穴四灵”的金灵子与青灵子两种蛇，金灵子来去如电，青灵子还可当腰带，神农帮帮众即是中了金灵子之毒。新版修订时，金庸将锺灵的宠物改为闪电貂。</p><p>旧版《天龙八部》中，游坦之是捕蛇高手。契丹人打草谷时捉到游坦之，于是他丢出黑色毒蛇，图谋暗杀萧峰。新版中改成丢生石灰包，《天龙》中养蛇捉蛇的情节，仅保留给锺灵及其家人。</p><p>4、除了秦南琴之外，金庸最大篇幅删除的，是《天龙八部》中波罗星于少林寺盗取秘籍的情节。波罗星的师兄哲罗星也是御蛇高手，他的座骑是两条毒蛇，以踩雪橇的方式骑蛇，并曾与游坦之对打。这一段也因“涉蛇”太深，整个儿被删掉了。（不晓得此段是否就是倪匡代写的部分？待考据。）</p><p>有趣的是，金庸删去许多情节，却未必完全忘情于蛇。旧版《神鵰侠侣》中，杨过受伤后服食神鵰所给补物“朱果”，新版《神鵰》却改成了蛇胆。</p><p>（2）玉面火猴的情节。除了蛇之外，猿猴的情节也多次出现，因重复而删除。</p><p>旧版《倚天屠龙记》中，冰火岛上的玉面火猴可生裂熊脑为食，在张翠山夫妇刚到冰火岛时，玉面火猴帮他们杀熊、娶火种，后来成为张无忌的玩伴。张翠山一行回归中土时，玉面火猴也一道同行，但因水土不服又自己回冰火岛陪伴谢逊，最后被金花婆婆所杀。此段之所以被删除，笔者推测原因为日后在崑仑山翠谷时，张无忌为白猿动手术，取出猿腹中经书。同属猿猴类情节，为避免重复，玉面火猴就自新版中消失了。</p><p>（3）血蛙的情节。</p><p>旧版《倚天屠龙记》中，张无忌在崑仑山翠谷中服食血蛙，血蛙生性至热，正好可解“玄冥神掌”的寒毒。</p><p>新版中血蛙不再复见，原因应是服食血蛙的情节，与段誉吞下“莽牯朱蛤”太过类似所致。</p><p>三、删除过度血腥的情节</p><p>然新版小说讲求“典雅化”，过度血腥的描写可能因“儿童不宜”而删除。</p><p>5、旧版《射鵰英雄传》中，丘处机杀了王道干，居然将他的人心、人肝剁碎，配酒生吃。此段在新版中删掉了。</p><p>6、旧版《天龙八部》中，南海鳄神杀楚天阔是直接取其人心拿下人心后生食咀嚼。这恶心画面在新版中也已不见。</p><p>7、旧版《天龙八部》中，叶二娘说小孩是“心肝宝贝”，心肝最好吃，因此会将小孩开膛破肚，挖出心肝来吃，还每天吸一个婴儿的鲜血。新版中删改了这残忍的描述，只说叶二娘抓人婴儿来玩，到傍晚再将婴儿杀死。（新修版中，金庸再一次减低叶二娘的恶行，抱来的婴儿并不弄死，改为胡乱送人。）</p><p>8、旧版《书剑恩仇录》中，周仲英之子周英杰泄漏了文泰来的藏身之处，导致文泰来遭补，为全武林之义，周仲英掌击周英杰天灵盖而毙之。也许这段“父杀子”情节太不人道，新版改作周仲英盛怒下丢掷铁胆泄愤，阴错阳差击死周英杰，周仲英亦悔愕不已。</p><p>四、删除人物间相似的个性与言行，尽量求角色性格特别化</p><p>9、旧版《倚天屠龙记》中，灭绝师太不仅谈过恋爱，还有两次爱情经验。这位武林中出名的美女，与“金瓜锤”方评是情侣，后来女方出家，男方自断一臂。出家后的灭绝师太又与师兄孤鸿尊者谈起恋爱，后来孤鸿尊者去世，灭绝才正式削发为尼。</p><p>方评那段与《书剑恩仇录》的无尘道人相似，固然可删，而灭绝因失爱成为暴戾之人，恐怕太似李莫愁，因此新版中将灭绝谈恋爱的情节全部删去。残迹是，灭绝对杨逍气死孤鸿子始终念兹在兹，但读者却摸不着头脑：何以在全峨嵋派中，灭绝如此在乎孤鸿子之仇？</p><p>10、旧版《倚天屠龙记》中，周芷若对张无忌提出的心愿是：在她削发为尼，长伴青灯古佛之后，要张无忌接任峨嵋派掌门。这个桥段太老套，且已有《碧血剑》中阿九出家的情节，不好重复；而要张无忌接管峨嵋派，又与令狐冲接掌恒山派太过神似。新版将周芷若的心愿改为：“这时候我还想不到，那一日你要和赵家妹子拜堂成亲，只怕我便想到了。”改得极为活泼。（新修版中再一改，周芷若的心愿变成“不准张无忌与赵敏成亲”，因为只消没有婚约，就算张无忌与赵敏生下娃娃，过个十年八年，以张无忌的个性，又会开始想念周芷若。新修版完全表现出周芷若一贯“以退为进”的手法，改得好极了。）</p><p>五、删除未用上的伏笔</p><p>金庸创作小说时，脑中对情节盘根错节的想象，远超乎最后落在纸上的定本。许多桥段或许原本要当伏笔，因为后来没用上，新版中当然必须删除。这类例子颇多，略举几例：</p><p>11、旧版《天龙八部》中，段誉为段延庆所囚，段正明担心段誉与木婉清“做出事来”，当下宣布段誉与高升泰之女高湄婚配，以绝天下悠悠之口。这个伏笔并没用到，因而删去。</p><p>12、旧版《天龙八部》中，叶二娘每回见到丁春秋，都会嗲声地叫“春秋哥哥”，二人似乎颇有暧昧情愫。后来叶二娘写成虚竹生母，因此这段在新版中也蒸发了。</p><p>13、旧版《天龙八部》中，阿碧是函谷八友中康广陵的女弟子，因此能以软鞭当乐器，后来与康广陵重逢，并随康广陵而去。新版删掉这段师徒关系，阿碧最后陪在慕容复身边。</p><p>14、旧版《笑傲江湖》中，令狐冲问风清扬，为何魔教十长老死在思过崖石洞中？风清扬答：“是我杀的。”但因此事后来没有合理的缘由交代，新版将风清扬的承认删掉了。</p><p>15、旧版《书剑恩仇录》中，于万亭本名沈有榖，是少林派弟子，与邻家姑娘徐惠禄是青梅竹马的情人，徐惠禄后来为豪势所迫，嫁给陈世倌为妻。因为乾隆的掉包事件，雍正暴死后，刺客执行雍正遗命，要杀陈世倌夫妇，于万亭潜入陈家救人，在徐惠禄房里连守半月，竟与徐惠禄私通，生下陈家洛。新版《书剑》删改了这段情节，陈家洛的母亲改名徐潮生。于万亭与徐潮生虽仍是旧情人，但他图救徐潮生时只化身为仆，潜伏于陈家五年。旧版中于万亭的真实身分是陈家洛的生父，也为于万亭传红花会总舵主之位于陈家洛找到合理解释。新版中于万亭是义父，陈家洛则是陈世倌的亲生儿子。改写后，陈家洛出身的复杂性降低了，“私生子”形象也成了“堂堂出身”。</p><p>16、旧版《碧血剑》中，提到阿九拜木桑道人为师，成为清初女侠，日后甘凤池、白泰官、吕四娘等均出自她门下。《鹿鼎记》中也有韦小宝祝福九难得到“八个威震天下的好徒儿”之语，明显暗示着民间传说的“江南八大侠”。但金庸小说中毕竟从未出现过甘凤池等人物，新版便将《碧血剑》中的相关描述删去。</p><p>17、旧版《倚天屠龙记》中，周芷若欺骗张无忌，说宋青书曾非礼她，她怀了身孕，因此不配与张无忌成婚。这本是周芷若以退为进、让张无忌由怜生爱的一招险棋，但此事后来不了了之，没有下文，新版中便予删除。</p><p>六、合并及删除无关重要情节的人物</p><p>金庸于《射鵰英雄传》后记中提过，他修改作品的一个方向是：“删去一些与故事或人物并无必要联系的情节。”可见合并或删除人物的标准也是如此。</p><p>18、旧版《笑傲江湖》中，平一指有位师兄“白发童子”任无疆，治疗桃实仙时，开刀由平一指负责，任无疆则打通了桃实仙的百会穴。这个无关情节的任无疆，在新版中与平一指合而为一，手术、打穴由一人完成即可。</p><p>19、旧版《笑傲江湖》中，嵩山派掌门左冷禅生有二子，长子左飞英武功卓绝，但这个角色并没有特别的故事，因此新版中将之删除。此外，有一位暗恋蓝凤凰的江飞虹，因为听见别人说蓝凤凰叫令狐冲“大哥”，令狐冲唤蓝凤凰“妹子”，江飞虹醋劲大发而自尽。这角色无足轻重，新版中也不见踪影。</p><p>20、旧版《笑傲江湖》中，费彬欲对身受重伤的曲洋、刘正风二人行凶，幸而莫大先生现身杀死费彬，曲洋的孙女曲非烟葬了曲刘二人后，从此也没了故事。新版中金庸让费彬杀了曲非烟，就此了结这个人物。</p><p>21、有趣的是，有被删除的“冗员”，竟也有起死回生的人物。旧版《笑傲江湖》中，莫大先生与五岳派群雄一起死在思过崖石洞中。但金庸或许认为他还有用，新版中让他死而复生，在令狐冲与任盈盈新婚之夜，于窗外拉奏一曲〈凤求凰〉以表祝贺。</p><h3 id="旧版到新版的删改技巧——“改”"><a href="#旧版到新版的删改技巧——“改”" class="headerlink" title="旧版到新版的删改技巧——“改”"></a>旧版到新版的删改技巧——“改”</h3><p>接着，再说说旧版到新版的“改”字。将不合理的情节改成合理，不论是旧版到新版，或是新版到新修版，金庸都持续努力地进行。若将不合理的情节改得更好（如旧版《神鵰侠侣》中，李莫愁曾被欧阳锋掳走，欧阳锋还传授她五毒神掌。受到欧阳锋的熏陶，李莫愁从此一身邪毒之气。诸如此类不合理的情节，新版中已剔除），就不需要再将旧骨头拿出来讨论。</p><p>以下，笔者主要归纳在整部小说、甚至整套小说中，经修改而变得前后逻辑性更强、更加“一以贯之”之处。这个技巧非常有意思。</p><p>一、将人物个性前后一贯化，以避免人物性格大幅转变：</p><p>1、旧版《射鵰英雄传》中，金庸给童年郭靖的评语是“筋骨强壮，聪明伶俐”。故事继续往下进展，郭靖虽被改得较为直鲁，但旧版《射鵰》中的郭靖还是比新版中聪明。在旧版中，洪七公传授郭靖十五招“降龙十八掌”，郭靖以之与欧阳克对打时，居然福至心灵又自创了三掌，将十八掌补足。其后再见洪七公时，洪七公另再授与威力更强大的原创三掌。这一段在新版中改掉了，以新版郭靖的资质，自然无法创制出与旧版郭靖所创相同威力的三掌。此外，郭靖与黄蓉向一灯大师求治时，旧版郭靖于观看中就学会了“一阳指”，这样好的天资与主角个性不符，新版中也已删掉。</p><p>2、旧版《倚天屠龙记》中，张无忌的个性在童年时与长大后简直判若两人。小时候的张无忌受谢逊与殷素素影响极大，金庸一再强调他“工于心计”、“聪明伶俐之极”。谢逊说道以七伤拳自杀、逼空见来救、再击伤空见以逼出成崑之时，张无忌大叫“妙计”；这段在新版中移到了殷素素身上。此外，旧版的童年张无忌性格非常刚强火烈，当听闻成崑杀害谢逊一家之事，愤而要替谢逊报仇：“也将他全家杀死，杀得一个不留。”还因言语过度残忍遭张翠山斥责。再者，在殷素素自尽后，张无忌手持匕首，将三百多名各派人物的面貌长相记在心中，满腔怨毒，图谋长大后一一寻之报仇。由于违反了新版中张无忌的仁善性格，这些描写已全部删改。</p><p>3、旧版《天龙八部》中，阿紫眼盲后，游坦之化名为“极乐派掌门人王星天”，并愿意照顾阿紫。在阿紫的想象中，这位王星天是个武功高强、面貌英俊的公子，心下确实芳心可可，也曾有委身相嫁之意。这些情节在新版中均已删改，阿紫只是利用游坦之，自始至终钟情于萧峰。</p><p>4、旧版《天龙八部》中，慕容复解珍珑棋局而入魔时，段誉以六脉神剑去其手中长剑，救了他一命，慕容复因而对段誉非常感激。旧版的慕容复心胸较宽大，对段誉也极为友善，刻意结纳为友，且对段誉的“六脉神剑”、“朱蛤神功”亦钦佩之极。新版中，为了表现慕容复只图恢复大燕、薄情小器的个性，旧版中大度容人的描写全数删改了。</p><p>5、旧版《鹿鼎记》中，韦小宝是个勤于学武的少年，自海大富处学会了“大擒拿手”、“大慈大悲千叶手”及崆峒派内功，其后还将陈近南与海大富的武功融合在一起，成为“武学中从所未有之奇”。在新版中，为了维持韦小宝一贯武功低下、嘻闹无赖的形象，将这些学武段落都修改了。</p><p>6、旧版《神鵰侠侣》中，公孙止气度沉穆、识见渊博兼之文武全才，小龙女对他的感情是“微感倾心，暗想陪着他过一辈子，也就是了。”新版中将这些“不专情”的描述删除，小龙女心中始终只有杨过一人。</p><p>二、以武功或教派串联全套小说：</p><p>7、旧版《射鵰英雄传》中，《九阴真经》本来是达摩所创，新版则改由黄裳所作。黄裳的创作动机，是为了报明教高手灭其全家之仇，这就以“明教”将《射鵰》与《倚天》串接起来。此外，旧版《笑傲江湖》中的魔教本作“朝阳神教”，新版改为“日月神教”，由教中编制的左右光明使与护法使者来看，可以推测“日月神教”当有隐喻“明教”之意，这又将《倚天》与《笑傲》串接起来了。</p><p>8、“降龙十八掌”应该是金庸在改版中，花最多时间以之串连各部小说的武功。旧版《射鵰英雄传》中，降龙十八掌是“洪七公生平绝学，是他从易经中参悟出来，虽然招数有限，但每一招均具绝大威力。”从旧版时代起，金庸就有意以降龙十八掌来串接“射鵰三部曲”。旧版《倚天屠龙记》中，张无忌自谢逊处学到了“亢龙有悔”、“神龙摆尾”及“潜龙勿用”三招，金庸应该有意让张无忌成为洪七公及郭靖的武学传人。幼年张无忌并曾以“降龙十八掌”击败巫山帮贺老三，其后又在西域击伤卫璧。但因张无忌日后习得“乾坤大挪移”，成为属于张无忌的独特武功，学降龙十八掌的桥段遂退居为金庸小说中的冗情节，新版中于焉删除。</p><p>旧版《射鵰》中说“降龙十八掌”是洪七公所创，同属旧版的《天龙八部》，乔峰的成名绝技也是“降龙十八掌”。在新版中，这些矛盾大抵改写而周延了。新版《天龙》中，乔峰的绝艺是“降龙十八掌”，但自北宋到南宋，招式理应略有出入，所以新版《射鵰》洪七公的“降龙十八掌”，是“一半得自师授，一半自行参悟出来”。依然串起了《天龙》与《射鵰》。</p><p>9、金庸可能很喜欢“降龙十八掌”这套掌法的名字，在旧版小说中，第一个学会“降龙十八掌”的主角其实是陈家洛。旧版《书剑恩仇录》中，“降龙十八掌”是少林派武术，陈家洛上少林寺探问于万亭旧事，少林寺天镜禅师当年原本就准备将“降龙十八掌”传给于万亭，却因机缘而未果，于是乘此传给了于万亭之子陈家洛。当然，“降龙十八掌”在新版中已改写为乔峰、洪七公、郭靖等人一脉相传的绝艺，陈家洛习得“降龙十八掌”的情节，在新版中自然消失无踪。</p><p>10、旧版《射鵰英雄传》中，周伯通要丘处机将彭连虎等四人幽禁于清虚观十年，新版改为关于重阳宫二十年，因为在《神鵰侠侣》中，重阳宫才是全真教重镇。这细节一改，让《射鵰》与《神鵰》相系更密切。</p><p>11、旧版《射鵰英雄传》中，“一阳指”是王重阳的武功，“先天功”是一灯大师的武功，二人曾互相传功。但为了扣住时代背景更早的《天龙八部》，新版《射鵰》将王重阳的武功改为“先天功”，一灯大师的绝艺则是“一阳指”。如此一来，“一阳指”就能贯通各书，成为大理段氏的家传绝学。</p><p>三、将合适的桥段“乾坤大挪移”至更适当的小说：</p><p>旧版《倚天屠龙记》中，谢逊于王盘山岛上比拚功夫时，露了一手瑶琴绝艺，所奏曲目为〈广陵散〉。谢逊自称不服稽康临刑时所说“广陵散从此绝矣”这句话，因而连掘西汉、东汉二十九座皇帝、大臣之墓，终于在蔡邕墓中，找到〈广陵散〉曲谱。</p><p>在新版中，这段情节完全移植到《笑傲江湖》的曲洋身上：曲洋盗墓得〈广陵散〉，并将之改编入〈笑傲江湖曲〉之中。</p><p>四、修改人物设定细节，以维持全书的统一性：</p><p>12、旧版《倚天屠龙记》中，周芷若的出身本是明教周子旺之女，但以灭绝师太仇恨明教的态度，大概无法容忍周子旺的后人存于峨嵋派中，于是新版将周芷若改为船家贫女。</p><p>13、金庸开始写作连载《天龙八部》之后，可能与原来预想的大纲有所出入。旧版《天龙》的楔子道：“这部小说将包括八个故事，每个故事为一部。但八个故事互相有联系，组成一个大故事。”由于与原先的腹稿有出入，在旧版改新版时，金庸将《天龙》大动手术，以求全书内容圆融贯通。</p><p>14、旧版《天龙八部》中，甫出场的木婉清是个极厉害泼辣的角色，外号“香药叉”，连锺夫人都希望藉她的名号营救锺灵。又因为无端杀人，云南一干高手如“三掌绝命”秦元尊、青松道人、金大鹏等都是她的仇人。新版中，为了当作段正淳众多情人争风吃醋情节的伏笔，追杀木婉清的人，改成瑞婆婆、平婆婆等王夫人的手下，她的“香药叉”外号移植给甘宝宝，成为“俏药叉”。木婉清在新版中被矮化了。</p><p>15、旧版《天龙八部》中，王夫人是慕容复的“姑妈”，也就是慕容博的姊妹。王夫人是女中须眉，想要在武林中建立“慕容宗”，但因慕容博父子的目标是“规复燕国”，因而双方有所冲突。新版中，为了解释王夫人、王语嫣二人为何与石洞玉像如此相似，将王夫人改为李秋水的女儿，与慕容家的关系则变成慕容复的“舅妈”。这一改，将神仙姊姊这一段诠释清楚了，而慕容家与王家的恩怨冲突，则是因王夫人胡乱杀人，多次开罪官府与武林，因此与慕容家结下梁子。</p><p>16、旧版《天龙八部》中，段誉吸人内力的功夫叫“朱蛤神功”，是因为段誉服食了锺灵的“莽牯朱蛤”而来。新版中改为“北冥神功”，乃段誉修习逍遥派秘籍而得，将全书人物的门派关系扣得更紧。</p><p>17、在旧版《天龙八部》开始连载时，金庸或许尚未构思天山童姥的部分，因此旧版《天龙》起始处的无量剑派段落中，并未出现灵鹫宫使者。改版后，为求全书的逻辑性，灵鹫宫使者于新版第一册就出现在无量山上，神农帮帮主司空玄还因拿不到“生死符”解药而投江自尽。</p><p>18、旧版《天龙八部》中，段誉身负“朱蛤神功”后，吸入黄眉僧座下弟子破贪、破爱二僧的内力，其后再吸入黄眉僧、石清子道人的内力。新版《天龙》中删去石清子，段誉练就“北冥神功”后，吸得叶二娘、南海鳄神、锺万仇、云中鹤、锺灵等人的内力。这几人在书中的地位更重要，这一改，让人物之间的关系更加紧密。</p><p>19、同在《天龙八部》中，某些情节的删除，则刻意留给读者想象空间。在新版《天龙》中，萧远山、慕容博甫出场时，提到“咱们三场较量”，那么，两人到底何时较量过呢？新版没有，旧版却有一场，就是段誉与游坦之以至阳的“朱蛤神功”斗至阴的“冰蚕异功”，二人旗鼓相当，眼看势必斗至力竭双亡，慕容复本欲舍身相救，此时萧远山、慕容博赶在前头，以两人的深厚功力硬将段、游二人分开。这场比试在新版中删去了。（到了新修版，金庸增写慕容博盗取少林寺武功秘籍时，在其中添加一场萧远山与慕容博的比武较量。）</p><p>20、旧版《碧血剑》中，卷首出场的是明末公子侯朝宗，新版中改为渤泥国儒生张朝唐。改由原籍海外的张朝唐当作全书的引子，可以成为最后劝进袁承志到海外开创一番事业的伏笔。</p><p>21、旧版《倚天屠龙记》中，赵明一行人攻打少林寺，将达摩院的达摩祖师石像颜面削平，在达摩祖师没有五官的脸上，刻上“先诛少林，再灭武当，唯我明教，武林称王”等十六字。新版中，改成刻在罗汉堂十六尊金身罗汉的背后，一个罗汉刻一字。这一改，赵敏的奸邪之气降低，蒙古王室欲降服武林的气势却更大了。</p><p></p><p><img src="https://github.com/yumuzi/images/blob/master/20171130_jinyong_03.png" alt="香港明河社版" style="width:100%"></p><br>香港明河社版<p></p><h3 id="旧版到新版的删改技巧——“增”"><a href="#旧版到新版的删改技巧——“增”" class="headerlink" title="旧版到新版的删改技巧——“增”"></a>旧版到新版的删改技巧——“增”</h3><p>旧版修订为新版时，亦有“增写”的部分。这部分在“胖女人减肥”的旧版修订中所占比例较少，却加强了故事的完整性。</p><p>一、将“侠”的行事更往“为国为民”靠拢：</p><p>郭靖于《神鵰侠侣》中提到“为国为民，侠之大者”，影响所及，连金庸旧作中的主角亦一并被改写。旧版《碧血剑》中，袁承志于泰山被推举为七省武林盟主，该段故事便告结束。在新版中，为了表现袁承志“为国为民”的情操，盟主接着率领众兄弟，于锦阳关伏击阿巴泰所率领的清军。（在新修版中，袁承志的手下进一步成为军队编制，设立“金蛇王营”。）</p><p>二、用词典雅化：</p><p>“典雅化”当然是金庸改版的目标，在旧版改新版的过程中，“典雅化”的例子极多。</p><p>好比旧版《天龙八部》中，阿朱金锁片上的字为“阿诗满十岁，越来越顽皮”，阿紫金锁片上的字完全相同。阿朱小时候还以为“阿诗”就是自己的名字，却原来是阮星竹的小名。在新版中，金锁片上的字改写为：阿朱的是“天上星，亮晶晶，永灿烂，长安宁。”阿紫的则是“湖边竹，绿盈盈，报平安，多喜乐。”</p><p>三、增写新的题材：</p><p>改版过程中会删除重复的题材，自然也会加入新题材。</p><p>1、旧版《神鵰侠侣》中，陆展元与何沅君是陆立鼎的父母，武三通则是何沅君青梅竹马的邻居，何沅君嫁与陆展元，武三通一怒而至大理为官。在新版中，陆展元改为陆立鼎的兄长，这一下拉，将李莫愁降了一辈，何沅君则成为武三通的义女，“父恋女”的故事带来了新题材。</p><p>2、《碧血剑》自旧版修订为新版的过程中，金庸自言增加了五分之一的篇幅。好比袁承志上盛京行刺皇太极、其后多尔衮暗杀皇太极这个段落，旧版没有，完全是新版补写的。此段内容增写了皇太极的识见与用人之道，连袁承志都不禁叹服，想来金庸改写时已无满汉狭见，“扬汉抑满”的早期情结已然淡化。</p><p>旧版《白马啸西风》中，李文秀等人于高昌迷宫中所见确是珍宝，包括镶宝石眼睛的玉雕佛像等不计其数的宝物。新版则改为侯君集当年已将宝物尽数带回长安，李文秀等人见到的，则是书本、七弦琴等唐太宗为宏扬中华文化，赏赐给高昌国的汉人器物。这段改写避免了与《连城诀》雷同，且将唐太宗的气度描绘得更加恢弘。</p><p>新版成为定稿，在金庸小说读者间阅读、流传有年，或许金庸发现小说中的部分情节不够周延，也或许金庸体悟到青壮年时期未曾经历的人生体验，又或许金庸的头脑中有新的创意想加入书里；除此之外，拜网络之赐，远流出版公司的【金庸茶馆】网站成立多年，金迷们纷纷对小说中的矛盾难解处提出质疑，于是版主开设【骨头大家挑】版面，供金迷们提出心中疑惑，其后汇集出百多个问题，由茶馆店小二呈交金庸。这么一来，更加速金庸改版的决心，“新修版”遂在七年的辛苦修订后面世。</p><p>新修版的改版无疑是成功的，金庸宝刀未老，修改旧作可不是拿着旧内容补丁，而是经过细腻的创作，将小说中的漏洞与矛盾，透过文学性、艺术性的手法修订，不仅缺陷不见了，小说也更加完美。读过新版的人若再读新修版，必定大呼过瘾。</p><p>在笔者的阅读经验里，笔者本已熟读新版，待新修版一出，总是迫不及待地自网络订书。又因改版过程中，出版社通常会将部分有趣的修改桥段透露给报社，经过媒体批露，难免引起毁誉两极的争议，因此笔者收到书后，通常都先翻阅具争议性的修订桥段。一开始，笔者以为每部书的修改段落，应该都已尽量于媒体上公布以吸引读者，但是仔细阅读后才发现，原来金庸的修改极其细微而繁多，经过认真比对，就会发现新版修改成新修版的幅度，其实与旧版修改成新版等量齐观，尤其是《倚天屠龙记》、《天龙八部》与《碧血剑》几部，修改幅度之大，几乎让已经熟知新版内容的我，处处发现赞叹惊喜。</p><h3 id="从新版到新修版的增修技巧"><a href="#从新版到新修版的增修技巧" class="headerlink" title="从新版到新修版的增修技巧"></a>从新版到新修版的增修技巧</h3><p>一、加强人物的心理描写：</p><p>将人物的内在情绪说明得更加清楚，是新修版的大原则之一。</p><p>1、新修版《笑傲江湖》中，书末多了一段文字描述令狐冲的心情，他认为：“如和盈盈合奏，便须依照谱子奏曲，不能任意放纵，她高我也高，她低我也低，这才说得上和谐合拍……”这段增述，对令狐冲的一贯态度产生“画龙点睛”之效，将令狐冲一向甘于委屈自己、配合情人的心态完全表达出来。</p><p>2、新修版《倚天屠龙记》中，小昭即将返回波斯担任明教教主时，大幅增长张无忌与小昭的互动情节。张无忌对小昭说：“我前晚做梦，娶了我可爱的小妹子做妻子，以后这个梦还会不断做下去。”又说：“在这世界上，我只不舍得义父和小妹子两个。”这段增写，将张无忌多情而近乎滥情的性格，表现得更加显著。</p><p>3、新修版《飞狐外传》中，袁紫衣的心理描绘多了不少，好比她拿着胡斐的衣衫，幻想胡斐扑过来拥抱自己，自己则无力地被点倒，接着还幻想边哭泣边打胡斐。乖乖女的“性幻想”情节难得出现于金庸小说中，这个段落增添得相当有趣。</p><p>4、新修版《飞狐外传》中，另有一段胡斐的“性幻想”情节。原来小胡斐偷窥马春花，见到她雪白的粉颈、起伏的胸脯及肚兜下的肚皮，当下小鹿乱撞，很想亲亲马春花的脸颊，甚至变成小狗伏在她身边。这段幻想描述十分具有现代感。</p><p>5、新版郭襄虽然心仪杨过，却没有深入的刻划，新修版将这份感情写细了。在新修版《神鵰侠侣》中，郭襄内心深处渴望变成“大龙女”，更早认识杨过，收留被全真教欺负的小杨过，如此一来，他们就能成为真正的爱侣。即使日后杨过再遇到小龙女，也只如同遇见小郭襄一般，顶多给她三枚金针罢了。</p><p>6、新修版《鹿鼎记》中，原本一直默默奉献、不计名位的双儿，金庸亦增写了她的内心世界。双儿自信“天下所有的女子，丈夫最心爱自己，即令阿珂也及不上。”让她为韦小宝的努力付出，有了坚定的信念做为后盾。</p><p>7、对于陈家洛不敢爱霍青桐，新版描述成陈家洛误以为霍青桐与李沅芷有私情。新修版挥笔一改，将陈家洛的心情写实了。原来陈家洛早疑心李沅芷是女扮男装，但他认为男装的李沅芷比自己俊美，被“比下去”的不悦心情无法释怀，而霍青桐的英风飒爽更让他萌生退意，因此始终对霍青桐心存芥蒂。</p><p>8、新修版《书剑恩仇录》书末，增写〈情归何处〉一回，大意是香香公主现身于云端，告诉陈家洛：“我们维吾尔人、你们汉人、他们满洲人，大家都是一样的，不过说的话不同而已。”笔者曾就这段增写去信请教金庸，究竟在创意上属“幻觉”还是“显灵”？金庸认为是幻觉。一般而言，幻觉通常代表本人的内在信念，若这是陈家洛的幻觉，就能证明有意进入大清官场的陈家洛，根本没有满汉种族的仇视心态。这段增补，正好说明陈家洛“覆满兴汉”一再失败的原因，是因为陈家洛的内心深处，根本没有满、汉非得那个种族才能当皇帝的观念。</p><p>二、以史实强化小说的真实感：</p><p>金庸在小说作家的身分之外，还是史学爱好者，至英国剑桥大学修读历史博士学位，于唐朝史上下工夫。小说中的史识，在新修版中亦持续加强。</p><p>9、在新版《射鵰英雄传》书末，郭靖为吕文德守襄阳城，吕文德属无能之将，郭靖、黄蓉只得用计吓退蒙古兵。在考据过史料后，金庸发现当年蒙古军并未攻打襄阳，于是靖蓉二人在新修版中改为北上，襄助史实上蒙古军确实攻打过的、李全与杨妙真夫妇守城的山东青州。李全的“忠义军”本收有山东义民，郭靖以江湖侠客之姿助守青州城，更加顺理成章。</p><p>10、旧版及新版《碧血剑》中，图谋崇祯帝位的是诚王，新修版则改为惠王。金庸在注释中说明惠王朱常润于天下大乱时潜归北京之史料，将人物修改得更贴近史实，以增加小说的真实感。</p><p>11、新修版《碧血剑》中，为更清楚说明李自成兔死狗烹、自毁长城的“杀功臣”事迹，加入一段李自成与“左革五营”内斗，避免功臣觊觎帝位的史料。此段增写李自成杀起义弟兄中的罗汝才、乱世王、革里眼，逼走老回回，天下未定而先内乱。大顺之败，因由不在吴三桂与多尔衮，而是败在大顺的君臣相疑。</p><p>12、旧版及新版《神鵰侠侣》中，玷辱小龙女的全真教道士为尹志平，新修版则改为甄志丙。易名之举，也许因为承受来自尹氏后人或道教人士的抗议，但如此一改，历史的归历史，小说的归小说，倒也各安其位。</p><p>13、新修版《天龙八部》中，将段誉的史料描写得更详细，述及段誉在大理国历史上的身分为宪宗宣仁帝，登基后年号“日新”，后改文治等五个年号，其后避位为僧，共做了四十年皇帝。将段誉的小说角色扣回至历史之中。</p><p>三、加入新潮而流行的创意：</p><p>14、旧版及新版《天龙八部》中，游坦之的内功原习于《易筋经》，到了新修版，金庸将游坦之见到的内功图形，改为隐藏在梵文《易筋经》中、以隐形药水写成的《欲三摩地断行成就神足经》，也就是瑜珈秘术。金庸或许见到现代人喜以瑜珈养生，故改写此段，以增添阅读趣味。</p><p>15、新修版《天龙八部》中，加入王语嫣追求“青春永驻”的情节。发现自己多了一丝白发、一道皱纹的王语嫣，先是到“不老长春谷”寻求长春之道神书，求书未果，又到无量山石洞寻访秘籍。因怀疑秘籍藏在神仙姊姊玉像之中，王语嫣摧毁玉像，但仍没找到秘籍。关于现代人积极追求青春美丽，金庸藉段誉之口告诉王语嫣，同时也告诉读者：“色身无常，人人都免不了。”</p><p>16、新修版《天龙八部》中，段誉离开听香水榭，由阿碧划船相送，段誉认为阿碧很能激发他的疼惜爱怜，但又不属于男女间的爱情，因而认阿碧为妹子。金庸将现代人“干哥”、“干妹”的两性友谊关系，写入以北宋为时代背景的小说中。</p><p>四、继续加强各部小说间的串联：</p><p>17、新修版《笑傲江湖》中，令狐冲于梅庄地牢里意外习得“吸星大法”后，任我行向他介绍“吸星大法”的源流，说道北宋逍遥派分有“北冥神功”与“化功大法”二法门，而“吸星大法”乃源于“北冥神功”正宗。这段说明将《笑傲》与《天龙》串接了起来。</p><p>18、新修版中，金庸继续改写“降龙十八掌”的演变，用以串接各部小说。在新修版《天龙八部》中，为了修补萧峰骤然去世、“降龙十八掌”理应不存的情节漏洞，金庸遂将“降龙十八掌”更名为“降龙廿八掌”，萧峰以“降龙廿八掌”名震于当世，后由萧峰与虚竹共同参研，将廿八掌精简为十八掌，透过义弟虚竹，复将“降龙十八掌”授与丐帮新任帮主，解决了“降龙十八掌”的传承问题。这段内容，洪七公传授郭靖“降龙十八掌”时又说了一次，将《天龙》与《射鵰》扣得更为紧密。</p><p>19、新修版《连城诀》中，增写了天宁寺宝藏的源流：这批梁元帝时代的宝藏，为康熙年间某高僧所发现，他将此秘密以剑诀的方式注入《唐诗选辑》中，并打算送交天地会的吴六奇，但当时吴六奇已然遇害，遂由梅念笙所得。这段增写，将《连城诀》与《鹿鼎记》扣接起来。</p><p>五、调整人物性格，增添新意：</p><p>新修版最引起新版读者非议之处，就是改动部分人物的性格，扭转了读者的既定印象，一些以书中人物为偶像的读者，更为此而感到愤愤不平。有趣的是，新修版对人物性格的改写，几乎全是“由专情改为多情”，金庸甚至解释道：“天下的男人都是不专情的，信不信由你了。”</p><p>1、旧版及新版《射鵰英雄传》中，黄药师对妻子冯氏的专情，着实令人印象深刻。在新修版中，金庸大笔一改，黄药师爱上了女弟子梅超风，平时会写些“恁时相见早留心，何况到如今”之类的词句，也常感叹自己韶华易老。日后梅超风情定陈玄风，令黄药师情绪失控，震断曲灵风的双腿。接着为了杜绝“师生恋”的传言，黄药师离开桃花岛，娶回与梅超风同龄的冯氏，想来冯氏是黄药师情感转移的“替代者”。这段改写在当年发布新闻稿之后，引起诸多金迷的口诛笔伐，正是由于黄药师的专情形象完全逆转之故。</p><p>2、旧版及新版《碧血剑》中，袁承志均钟情于青青一人，新修版则改为袁承志亦狂恋阿九。新版中，袁承志潜入皇宫，因情况危急而躲入阿九被中，与她合衾共枕，袁承志将金蛇剑置于两人之间，并声明自己绝非轻薄无礼之人。在新修版中，袁承志拿开金蛇剑，二人紧紧拥抱，激情热吻，袁承志心中几乎已生“邪念”。</p><p>3、旧版及新版《天龙八部》中，段誉是单恋王语嫣的痴人，最后精诚所至，金石为开，王语嫣离开慕容复，段誉终能抱得美人归。在新修版中，段誉追求到王语嫣之后，开始“清算旧帐”，计较起从听香水榭到少林寺外，王语嫣一件又一件对不起自己的事，还为自己找到合理的解释──原来他之所以苦恋王语嫣，全因“心魔作祟”的缘故。其后段誉迎娶木婉清、锺灵及银川公主的侍女晓蕾等姑娘为妻。</p><p>4、旧版及新版《天龙八部》中，李秋水直至年老，都仍为无崖子的爱情与天山童姥争斗。在新修版中，李秋水一度“由爱生恨”，与丁春秋产生私情，此事为天山童姥告密揭发。事发之后，李丁二人合力将无崖子打落悬崖。</p><p>5、新修版《神鵰侠侣》中的小龙女，在情感表达上更大胆了些。在大胜关英雄大会中，新版写小龙女久别后见到杨过，只说了句：“过儿，你果然在此，我终于找到你了。”新修版则让小龙女告诉杨过，一天要想她五百次，还要杨过喊她“媳妇儿”，不准变心。小龙女摆脱了冰山美人的形象，勇于说出感情，表达爱的能力丰沛了许多。</p><p>6、旧版及新版《神鵰侠侣》中，金轮法王虽然喜欢郭襄，毕竟仍不脱为求名利、不择手段的形象。在新修版中，金轮法王改称金轮国师，襄阳大战时为救郭襄一命，金轮国师竟舍身相代，尽全身之力挥走火柱，力竭而亡。改写后的金轮国师，心地慈悲得多了。</p><p>7、新版《天龙八部》中，徐长老是个秉公为国的丐帮长老，但是在新修版中，却将他改成了老色头。马夫人登门求助，徐长老藉机揩油，更对马夫人伸出禄山之爪，正义形象荡然无存。</p><p>六、将人物的含蓄情感表达得更为深刻：</p><p>细心的读者当不难发现，新版中性格较木讷、情感较含蓄的人物，如《射鵰英雄传》中的郭靖、《侠客行》中的石破天等人，在新修版中，他们谈情说爱的词句都加了些料，使其可以更自然地吐露内在的感情。这正是新修改版的重点之一。</p><p>8、《天龙八部》中的萧峰，在新版中是个极为豪迈的角色。萧峰击伤阿朱后，新版描述萧峰“泪水直洒了下来”，新修版则改得更为柔情：“他（萧峰）低头去亲吻阿朱的嘴唇……两人的泪水混在一起，都流到了唇边。”这么一改，让铁汉的温柔更显凄迷。</p><p>9、《神鵰侠侣》中的杨过，本就是较能表达情感之人，新修版让他发挥得更加淋漓尽致。杨过、小龙女习练《玉女心经》中的一招“亭亭如盖”时，杨过罩在小龙女身上，二人情欲陡生。此外，杨过表露爱意更显露骨，他告诉小龙女，思念小龙女时会想到心不在焉，甚至将面条吃进鼻孔去。</p><p>10、新修版《碧血剑》中，苗女何惕守的言语更加无所忌惮。她见袁承志心系阿九，居然鼓励袁承志三妻四妾，一娶青青，二娶阿九，三娶焦宛儿，还告诉师父袁承志，倘使世上无阿九这人，她自己也挺想嫁给他的。</p><p>11、新版《鹿鼎记》中，康熙鲜少过问韦小宝的多妻婚姻，在新修版中，康熙则要求韦小宝以建宁公主为正妻，不得让她做小妾。这一改写，增添了康熙的温情。康熙与建宁虽非亲兄妹，他仍能念及自幼御兄妹相伴之情。</p><p>七、将书中情节周延化，使故事更加圆融：</p><p>12、新版《射鵰英雄传》中，陈玄风盗走《九阴真经》下卷，将真经经文刺于胸口，再将原经烧毁。这段故事虽然颇为奇妙，但是读者怀疑，数千字的经文如何刺于胸口肌肤？在新修版中，金庸将人皮抄本一节删改，陈玄风、梅超风手拥纸抄本，最后梅超风将抄本归还给师父黄药师，受允重入师门。</p><p>13、新版《射鵰英雄传》中，江南五怪于桃花岛遇害一节，描述得不甚周延，如朱聪写下：“事情不妙，大家防备（西字起首笔划）。”以及南希仁所书：“杀……我……者……乃……十……”读者不免质疑，身处危急之中，那有时间这般留下线索？这一大段情节，在新修版中完全改写，删除朱聪纸上示警之举，改为韩小莹于墓室玉棺上留下“十”字，南希仁则留下“西”字起首笔划。另补充杨康自欧阳克处取得桃花岛总图，因而知晓墓门开启之法，使整个布局更为缜密。</p><p>14、新版《倚天屠龙记》中，倚天剑、屠龙刀中所藏《武穆遗书》与《九阴真经》，写于极薄的绢片之上，但是读者不解，何以绢质秘籍耐得住高温而不烧毁？于是金庸做了大幅改写，将两部秘籍藏于桃花岛，而倚天剑、屠龙刀中所藏的却是两块玄铁片，玄铁片上刻有秘籍所在地图及入岛方法。为了取得兵法及武学秘奥，周芷若将峨嵋总门迁往定海，终于顺利取得两部秘籍。</p><p>15、新版《倚天屠龙记》中，谢逊被监禁于少林寺后山时，在地洞壁上刻下周芷若的罪行，这对目盲的谢逊来说，未免过度为难。在新修版中，此揭秘任务交给了黄衫女子，她并将内有周芷若相关罪行证据的小包交给张无忌。张无忌拆开后，见到了十香软筋散，以及倚天剑、屠龙刀中的玄铁片，终于明白自己误会了赵敏。</p><p>16、新版《倚天屠龙记》中，武当六侠欲以“真武七截阵”迎战少林诸僧，需要殷素素入阵以全七侠之位，殷素素求教于俞岱巖，让俞岱巖认出了声音，殷素素不得不承认自己托龙门镖局护送俞岱巖之事，导致张翠山自刎身亡。新修版做了大幅改写，武当六侠不再拘泥于“真武七截阵”，而殷素素则因少林和尚圆业咄咄逼人，责问张翠山有关龙门镖局灭门之事，愤而挺身护夫，自承托镖护送俞岱巖，并杀害龙门镖局满门。接着她进入内室，向俞岱巖坦承偷施蚊须针，张翠山闻之愤而自刎。这段改写，让殷素素从不敢面对现实的邪女，转为敢于面对错误、为夫承担的勇敢女子。</p><p>17、新版《倚天屠龙记》中，朱元璋使鬼蜮伎俩逼退张无忌，让张无忌误以为徐达、常遇春二人对自己不满，在失望之余离开明教。由于这段阴谋太过戏剧化，在新修版中，改为朱元璋光明正大地率兵逼宫，要张无忌在明教与赵敏之间二择一。爱美人胜于江山的张无忌，最后自然选择赵敏，离开明教。</p><p>18、新版《倚天屠龙记》中，面对叛派弒叔的宋青书，张三丰掌击其胸而毙其命。新修版改为宋青书想向太师父及父亲拜倒，用力过度，伤口迸裂而亡，修改了张三丰手刃徒孙的不圆满画面。</p><p>19、为什么玄慈等一干武林人物，对于误击萧远山一家，事后罪恶感如此之大？新版《天龙八部》并未交代清楚，新修版补足了缘由。原来萧远山于辽国担任属珊大帐的亲军总教头，平日颇得辽国帝后赏识，常藉机劝阻辽帝对宋用兵，是维持宋辽和平的重要人物。萧远山有大恩于武备较为落后的大宋，玄慈等人误击其全家，遂觉满身罪愆。</p><p>20、小说改版时，少见金庸创造新人物，但是在新修版《天龙八部》中，却创造了传功长老吕章。吕章在萧峰离去、徐长老和白世镜身败名裂之后，成为丐帮实际上的领导人，然而他给丐帮的指示和方向，却是隐瞒帮中长老的恶行，全力抹黑萧峰。吕章的领导方式，让萧峰更加认清江湖上重利轻义的现实面，因而加深他北上赴辽的决心。</p><p>21、慕容博诈死后，人到那里去了？新版《天龙八部》中，只知他到少林寺盗取秘籍。在新修版中，慕容博“死后”仍为复国大业而努力，化名为燕龙渊，于两淮一带出没，发出慕容氏的黑色令旗，广纳江湖豪杰，以为复国之助力。</p><p>22、不仅慕容博于暗中收帮纳派，四大家臣亦有相同的努力。新版《天龙八部》中，秦家寨与青城派众人上听香水榭生事，由于技不如人，给包不同羞辱一顿后赶了出去。在新修版中，包不同收敛起暴躁脾气，着意结纳，秦家寨与青城派均接下姑苏慕容氏的“黑色燕字旗”，从此接受慕容家的号令。</p><p>23、以玄慈方丈的身分与武林地位，当江湖上传闻纷纭，说乔峰将武林挑得腥风血雨之时，他这“带头大哥”为何从未出面？新版《天龙八部》中无解。在新修版中，玄慈等五位少林高僧化身为迟姓、杜姓等老者，于乔峰前往五台山会见智光大师的路上，对乔峰做过一番人品鉴评。在乔峰宁可自伤而不愿伤害迟姓老者的当下，明白了他仁义本怀的光风霁月人格。</p><p>24、旧版、新版《天龙八部》中，萧峰被冤枉杀害副帮主马大元，在追查带头大哥的过程中，亦几乎处于挨打的地位。新修版中，金庸帮萧峰稍吐一口胸中怨气，在马夫人家中假扮马大元鬼魂之人，由萧远山改为萧峰，让萧峰以己之力，洗清被误会的冤屈。</p><p>前文曾经提及，在旧版改新版时，神山上人问难于少林寺，新版主要针对波罗星于少林寺盗窃秘籍之事。到了新修版《天龙八部》，则将哲罗星、波罗星等“冗情节”全数删除，神山上人身为徐长老的师弟，以徐长老之死，藉机向少林寺挑衅，使全书各个环节更为连贯。</p><p>八、将武学的源流与内容阐述得更加明白：</p><p>在金庸小说里，金庸以自己的臆想发明了一些武功，而这些武功的源流有时交代得不够周延，于是在新修版中，金庸便尽量将之修补得更完美。</p><p>25、新版《神鵰侠侣》中，觉远提到《九阳真经》乃达摩祖师亲手书写，但金庸或许经过考量：“九阳”一词为道家所用的易术之词，因此在新修版中，将《九阳真经》改为由另一位不知名的高手书写在《楞伽经》的行间中。</p><p>26、金庸花费许多精神打造“降龙十八掌”，除了前段提及的源流，在新修版《射鵰英雄传》中，金庸还增添两页篇幅，详细说明这套武功的要义，并提及“亢龙有悔”乃“降龙十八掌”的根本，招式中最难之处在于强力击出时，仍能留有余力，当刚则刚，应柔则柔，打破“降龙十八掌”一味刚猛的旧观点。</p><p>27、鸠摩智为何身负“小无相功”？对新版《天龙八部》的读者来说，这始终是个谜团，而这谜团在新修版中有了解答。段誉在朱碧双姝相助下于“锦瑟居”逃脱，其后鸠摩智因缘际会潜入王夫人家的书库，暗中盗取丁春秋藏于王家的“小无相功”秘籍。这段增写，不仅交代鸠摩智习得“小无相功”的过程，甚至写出神功内容供读者品阅：“古之善为道者，微妙玄通，深不可识……孰能浊水静之徐清，孰能安以动之徐生……”由于鸠摩智偷书时漏取第七册，导致强练内功而积下戾气，无法化解。</p><p>28、新修版《神鵰侠侣》中，将金轮国师的武功源流说明得更清楚。金轮国师出身金刚宗，随身携带莲华生大士唐卡，而他传授郭襄的武功，最基础的就是金刚萨埵的瑜伽密乘。</p><p>29、新修版《神鵰侠侣》既增写古墓派“玉女心经”的招式内容，亦适当地让杨过、小龙女在武术实战中有所发挥。绝情谷中的杨龙与公孙止之战，新版中为杨龙二人落败，但是在新修版中，一来删去公孙绿萼使渔网阵时假意摔倒的情节，变成杨过使“天罗地网势”脱离渔网阵；二来杨过以“玉女拳功”攻击公孙止；三来小龙女与杨过相认的情节有所改写，小龙女忆起从前为练功而击打小杨过屁股的往事；四来加写杨过以“玉蜂针”打中公孙止的穴道，公孙绿萼为父亲讨玉蜂浆解痒。最后，杨龙使出“玉女心经”中的“亭亭如盖”，击败公孙止，却在宽恕公孙止后意外遭其偷袭。</p><p>30、除了武术之外，新修版《笑傲江湖》中亦增写〈笑傲江湖曲〉的内容。原来曲洋自蔡邕墓中所盗得的〈广陵散〉琴谱，述说着“聂政刺韩王”的故事，刘正风再加上一段箫谱，奏的是聂政之姊收葬弟尸之事，曲刘二人合奏而成〈笑傲江湖之曲〉。</p><p>九、束缚江湖人物，勿使改变历史：</p><p>或许在心理上，金庸一直不希望武林人物拥有扭转历史的力量，甚至连扭转的空间都必须遏止。在新修版中，金庸对于“江湖”与“政治”的界线订得更为严格。</p><p>31、新修版《倚天屠龙记》中，增补一段“阳教主遗训”，也就是明教圣火令上所刻的“三大令、五小令”，而“圣火令三大令”的第一令即为“不得为官为君”。这一改写，将张无忌的开国皇帝希望完全堵死，绝对不致产生影响历史的效力。</p><p>32、新修版《碧血剑》中，新增一段十六字诀来绑住袁承志，便是：“不降鞑子，不投朝廷，不跟闯王，不害良民。”如此一来，中土既已无容身之处，袁承志只得远渡海外，再也无法影响中原政局。</p><p>十、删除“非必要”的情节：</p><p>新修版不仅有增修，“胖女人”亦确实做了“局部减肥”。也许金庸认为部分新版情节是多余的，因此将之删去。</p><p>33、旧版与新版《碧血剑》中，均有何铁手对女扮男装的青青心生情意，甚且开口示爱的情节。或许金庸觉得这事无关整篇小说，又或许觉得女子爱上女扮男装者太过陈腔滥调，于是删改了此段情节。</p><p>34、新版《碧血剑》中，袁承志追查五毒教，先见到黑白蓝黄红五道围墙的无门大宅，其后又见“锦衣毒丐”齐云璈于雪中斗蛇。或因这段情节太过玄异，金庸大笔一改，变成惠王爷以“招贤馆”名义引见，袁承志因而得见五毒教诸人。</p><p>35、新版中部分情节属于既无关全局、又篇幅较长的武术对战描写，金庸于新修版中将之删减：</p><p>a.新版《射鵰英雄传》中，郭靖曾与黄河四鬼对打，这段纯武 术过招的描述可能过于冗长，在新修版中被大幅删节。</p><p>b.新版《天龙八部》中，木婉清与王夫人手下追捕者的对打，亦有大幅删裁。</p><p>c.新版《天龙八部》中，摘星子与阿紫以绿火相斗的过程，包括摘星子的思绪转折，以及星宿派门人的谄媚谀词，在新修版中多所删削。</p><p>d.新版《天龙八部》中，慕容复与黎夫人、桑土公的交战，在新修版中已全面删除。</p><p>e.新版《碧血剑》中，崔秋山与围堵圣峰嶂的官兵们恶斗的段落，亦被删削。</p><p>f.新版《神鵰侠侣》中，丐帮追索陆无双而被杨过击退的情节，一在客店，一在花轿，两段都被删掉了。</p><p>g.新修版《神鵰侠侣》中，删去忽必烈的谋士和尚子聪斟毒酒给周伯通，周伯通反愈喝愈多，甚至喷出毒酒一节。</p><p>36、倘若无关故事主轴的进展，被金庸以“冗情节”视之，删削亦属自然。如新版《天龙八部》中，薛慕华回溯游坦之携慧净和尚前来求诊的段落，在新修版中大幅删修。此外，“函谷八友”的个人表现也做了局部削减。</p><p>十一、注释增多：</p><p>37、新修版有个特色，就是“注释”明显比新版来得多。旧版时的注释，往往只以括号写一两句金庸注，新版多了些解说史事的注解，而新修版则不仅回末注释变多，其中更有金庸为自己提供平台，让作者向读者说说话。</p><p>试举二例：</p><p>a.针对叶洪生曾经提出“三花聚顶、五气朝元”乃内功入门功夫，梅超风必知的说法，金庸特别在新修版《射鵰英雄传》第十回末的注释中提出说明。文中引用《锺吕传道记》吕洞宾求问锺离权“三花聚顶、五气朝元”一事，大法精微奥妙，且易与求仙之术混同，证明梅超风有此一问，并不奇怪。</p><p>b.关于小龙女、杨过的师生恋引发某些读者质疑，金庸在新修版《神鵰侠侣》第十四回末的注释中，洋洋洒洒写下一大篇幅，告诉读者古今中外某些婚姻制度的不合理，又举钱穆、梁实秋等今人师生恋遭社会非议之事，供读者做小说与现实的参差对照，读来实在颇为有趣。</p><p>38、金庸不仅于注释中向读者说明清楚，偶尔还会神来一笔，在小说中穿插一段情节，借着虚构人物之口，为自己提出辩驳。</p><p>早在旧版时代，化名佟硕之的梁羽生曾经写过一篇〈金庸、梁羽生合论〉，文中质疑金庸在《射鵰英雄传》中让黄蓉唱〈山坡羊〉，是“宋代才女唱元曲”，在历史背景上乱了套儿。在新修版《射鵰》中，金庸则借云南杨老者之口告诉读者，他的先人自唐朝天宝年间移居南诏，〈山坡羊〉的曲子由祖先所传下。可知〈山坡羊〉在唐代即已广传民间，宋代的黄蓉吟唱此曲，并不悖理。</p><h3 id="不同的版本怎么读？"><a href="#不同的版本怎么读？" class="headerlink" title="不同的版本怎么读？"></a>不同的版本怎么读？</h3><p>笔者认为，目前多数读者应该都先读过新版，对于新修版的增修内容，难免有部分习惯于新版的读者拒绝接受。在笔者的经验中，如果从旧版、新版到新修版一路读来，心中那份感觉，就彷彿乔峰看着乔三槐雕刻小老虎时，“眼看小老虎的耳朵出来了，鼻子出来了，心里真高兴。”在数十年的时光里，金庸两度改版，细细雕琢他的“小老虎”，书中人物终于在一次又一次更深入的描绘下成型。欣赏金庸改写的过程，确实有趣。当然，角色与情节的最后定板，倘若不符合读者读前一版时的臆想，难免会因失落感而心理上难以接受。但无论如何，金庸按照自己的想法，将作品完整地修润出来了。</p><p>反过来说，若先读新修版，再往前追溯读新版甚至旧版，大概会觉得前面的版本只能算是“蓝本”，好似在人物、情节上尚未完全开展，倒象是未完成的初稿、二稿了。</p><p>总之，要探究金庸的创作过程，享受金庸小说的各种阅读乐趣，接触不同的版本，的确最能探寻金庸在创作上的思维、笔法及心路历程。</p><h3 id="版本比较乐趣无穷"><a href="#版本比较乐趣无穷" class="headerlink" title="版本比较乐趣无穷"></a>版本比较乐趣无穷</h3><p>金庸对其武侠小说进行两次大改版，正因如此，阅读金庸小说，较之阅读其他小说多了份版本比较的乐趣，尤其是揣摩作者在原创意与新创意更动之间的心思，更是学习文学创作的另一种法门。</p><p>然而，即使有三种差异甚多的版本，金庸小说的版本研究却尚未划定疆界。在新修版《神鵰侠侣》后记中，金庸提到第三版（即新修版）修改达七次之多，其中还有一大段突发奇想的文字，用以叙述《九阳真经》的来历，后因陈墨觉得“蛇足”，接受陈墨的建议删去了。此外，新修版《天龙八部》后记中，金庸亦提到第三版的改写“前后共历三年，改动了六次”。</p><p>要知道金庸修改时，一律都是手写稿而非计算机作业，也就是说，在新修版成为“定本”之前，那些六次、七次的改稿都还存在，可能在出版社或金庸自己手上。如果将来有一天能开放金庸手稿，供读者或学者阅读研究，那么金书的版本远不止三种，至少还要再加上五、六种以上。</p><p>倘若真有那么一日，金庸小说的版本研究，将更加多变而饶富趣味。</p><p></p><p><img src="https://github.com/yumuzi/images/blob/master/20171130_jinyong_04.png" alt="金庸先生" style="width:100%"></p><br>金庸先生<p></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://github.com/yumuzi/images/raw/master/20171130_jinyong_01.png&quot; alt=&quot;大陆三联版，94年5月第一版，99年第二版&quot; style=&quot;width:100%&quot;&gt;&lt;/p&gt;&lt;br&gt;大陆三联版，94年5月第一版，99年第二版&lt;p&gt;&lt;/p&gt;
&lt;h2 id=&quot;有趣的文学实验&quot;&gt;&lt;a href=&quot;#有趣的文学实验&quot; class=&quot;headerlink&quot; title=&quot;有趣的文学实验&quot;&gt;&lt;/a&gt;有趣的文学实验&lt;/h2&gt;&lt;p&gt;历经七年的改版工程，新修版金庸小说终于在二○○六年七月全部面世。改版过程中毁誉互参，其间因部分读者抗议声浪极大，金庸还曾打趣地说：“只要有六万人上街反对，我马上就不改了。”但改版工作毕竟已经完成。&lt;/p&gt;
    
    </summary>
    
      <category term="文學" scheme="https://yumuzi.github.io/categories/%E6%96%87%E5%AD%B8/"/>
    
    
      <category term="金庸" scheme="https://yumuzi.github.io/tags/%E9%87%91%E5%BA%B8/"/>
    
      <category term="武俠" scheme="https://yumuzi.github.io/tags/%E6%AD%A6%E4%BF%A0/"/>
    
  </entry>
  
  <entry>
    <title>卡辛斯基的警告</title>
    <link href="https://yumuzi.github.io/Kaczynski-warning.html"/>
    <id>https://yumuzi.github.io/Kaczynski-warning.html</id>
    <published>2017-11-30T11:14:31.000Z</published>
    <updated>2017-11-30T13:15:22.592Z</updated>
    
    <content type="html"><![CDATA[<p>轉載自<a href="http://www.ruanyifeng.com/blog/2017/09/unabomber.html" target="_blank" rel="external">卡辛斯基的警告</a></p><p><strong>作者：阮一峰</strong></p><h2 id="《論工業社會及其未來》原文摘錄"><a href="#《論工業社會及其未來》原文摘錄" class="headerlink" title="《論工業社會及其未來》原文摘錄"></a>《論工業社會及其未來》原文摘錄</h2><p>工业革命极大增加了城市规模和城市人口比例，而人群聚集会增加压力与攻击性。</p><p>技术变革导致现代社会的变化十分迅速，因此整个社会不存在稳定的框架和价值观。</p><p>有些人急于拯救自由却不愿牺牲技术带来的所谓好处，他们会提出天真的新式社会构想来调和自由与技术。</p><p>所有人都理所当然地认为，每一个人都必需向技术的需要低头，而且理由十分充分：如果人的需求被摆在了优先于技术需要的地位，就会出现经济问题、失业、短缺甚至更糟。在我们的社会当中，”精神健康”的概念主要被定义为在多大程度一个人能够根据体系的需要行事并且不会流露出承受精神压力的迹象。</p><a id="more"></a><p>经济体系所能容纳的企业数是有限的，我们大多数人只有成为别人的雇员才可以生存。</p><p>工业-技术体系可能幸存也可能崩溃。假如该体系幸存下来，可能最终将会降低生理与心理的痛苦水平，但在此之前必须经历一段漫长而痛苦的调整期，而且人类与众多其他生命体也将付出惨重代价，永远沦为社会机器上的齿轮。更有甚者，假如这个体系幸存下来，将会导致不可避免的后果：没有任何方法能够改革或改进这一体系，使之不至于剥夺人的尊严与自主。</p><p>假如这一体系崩溃，结果依旧会十分痛苦。但是体系规模越大，崩溃造成的结果就越可怕。因此假如真要崩溃的话最好赶早不赶迟。</p><p>所以我们主张发动针对工业体系的革命。这场革命可能使用或不使用暴力，可能突然完成也可能在几十年时间里相对循序渐进地进行。我们无法预测这一点。但是我们的确为那些憎恨工业体系的人们勾勒了一套十分宽泛的方法，从而为反对这一特定社会形式的革命铺平道路。这不是一场政治革命。革命目标并非推翻政府，而是颠覆现存社会的经济与技术基础。</p><p>一般来说科学家都是这样。可能其中也有少数例外，但总体而言他们的动机既不是好奇也不是造福人类，而是完成权力过程的需要。其他动机对于许多科学家来说也有作用，例如金钱与地位。</p><p>科学技术也构成了群体权力运动，许多科学家都通过认同这一运动来满足自己的权力需求。</p><p>因此科学盲目地前进，不考虑人类种族的真正福祉或任何其他标准，仅仅服从科学家以及提供研究资金的政府官员与企业高管的心理需求。</p><p>体系需要科学家、数学家与工程师，否则就无法正常运作。</p><p>遗传工程的伦理规范事实上将成为管制人类遗传构造的手段。一部分人（多半是上层阶级）将决定如此这般的遗传工程合乎”道德”，如此这般的做法则不道德，因而他们将在实际上将自己的价值观强加于整个人口的遗传构造。即使伦理规范是以完全民主的方式选择出来的，多数族裔也会将他们自己的价值观强加于那些很可能对于如何 “道德地”运用遗传工程另有看法的少数族裔。真正能够保护自由的伦理规范只能是一条，那就是禁止任何人类遗传工程。而我们可以十分有把握地说，这一点恰恰不可能在技术社会中得到实现。任何将遗传工程贬低成配角的规范都不可能维持下去，因为生物技术的巨大力量所产生的诱惑是无法抗拒的。特别是在大多数人看来，大量生物技术的应用显然且肯定是有益的（可以根除身体与精神疾病，赋予人们当今世界所需要的能力）。基因技术必将不可避免地得到大规模应用，但应用方式只能与工业-技术体系的需求相一致。</p><p>技术之所以是如此强有力的社会力量的另一个理由是，在给定社会的条件下技术进步只会不可逆地朝一个方向前进。只要某项技术发明被引进，人们就往往会对其产生依赖，除非它被某种更先进的发明所取代。人们不仅仅作为个人依赖这项新技术。甚至体系作为一个整体都会依赖它。（例如请想像一下，如果没有了计算机，今天的体系会怎么样）因此，体系只能朝向更加技术化的方向移动。在不至于颠覆整个技术体系的前提下，技术将会不断地逼迫自由后退。</p><p>技术的进步十分迅速并在许多方面威胁自由（拥挤、规章制度、个人对于大型组织越发严重的依赖、宣传与其他心理学技术、遗传工程、通过监视设备和计算机侵犯隐私，等等），阻挡任何一项对于自由的威胁都需要一场单独的社会斗争。那些想要保卫自由的人会被无数的新攻势及其发展速度所压倒，他们会变得微不足道并停止抵抗。分别反击这些威胁是无效的。只有把技术体系作为一个整体来反击才有成功的希望，但这就是革命而不是改革了。</p><p>人们倾向于想当然地认为，由于革命带来的变化比改革大，所以革命也就比改革更难发动。实际上，在某些条件下革命比改革容易得多。这是因为一场革命运动能够激发出人们极大的献身热情，而一场改革运动却不能。一场革命运动许诺一下子解决所有问题并创造整个新世界；它提供人民为之甘冒风险、甘作牺牲的理想。由于这些理由，推翻整个技术体系要比对技术的某一部分—-如遗传工程的应用发展—-进行有效、持久的限制容易得多。在适当的条件下，许许多多的人会热情地献身于推翻工业技术体系的革命。正如我们提到的那样，寻求限制技术的某些方面的改革者是为了避免不良后果而工作。然而，革命者是为了获得强力的报偿—-实现其革命理想—-而工作，因此他们比改革者更努力且更执著。</p><p>现代社会不是去改变那些使人们抑郁的条件，而是给人们抗抑郁药。</p><p>但另一方面，请假设今后几十年的压力超出了体系的承受能力。如果体系崩溃，可能会有一个混乱时期，”动乱年代”，就像在过去各个时代历史所记载的那样。不可能预见动乱年代最后会产生什么结果。但无论如何人类会被赋予一个新机会。最大的危险是工业化社会很可能在崩溃后不几年就开始重组其自身，肯定会有许多人（特别是权力饥渴型的人们）急于重新开动工厂。</p><p>工业体系将人类贬低到了被奴役的状态，而憎恨这种被奴役状态的人则面临两个任务。第一，我们必须增强体系内的社会紧张态势，以加快其崩溃或把它弱化到足够程度，使得反对体系的革命成为可能。第二，当体系充分弱化时，我们必须发展并宣传一种反对技术和工业社会的意识形态。当工业社会崩溃时，这种意识形态将有助于保证其残余被粉碎到无法修复的地步，这样体系就无法重组。工厂将被捣毁，技术书籍将被烧掉，等等。</p><p>工业体系的崩溃不会纯粹是革命行动的结果，它不会那么难以抵御革命的攻击，除非它自身内部的发展问题导致了极为严重的困难。因此如果体系崩溃，那么它或是自发崩溃，或是部分自发、部分由革命者促发的崩溃。如果崩溃是突如其来的，许多人都会死去，因为世界人口已如此过分膨胀，离开了先进技术就无法养活自己。甚至即使崩溃足够缓慢，人口的减少可以主要通过出生率的降低而不是死亡率的提高而实现，非工业化的过程也多半是极度混乱和极度痛苦的。幻想通过平稳控制的有序方式逐步废除技术是天真的，特别是要考虑到技术爱好者们的负隅顽抗。那么，致力于体系的崩溃是否因此就十分残酷呢？也许是，也许不是。首先，除非体系本来就已经陷入了深重的困难，无论如何都很可能最终自行崩溃，否者单靠革命者是不可能强行使其崩溃的。而且体系发展得规模越大，崩溃的后果就越严重。因此加速体系崩溃的革命者或许反倒控制了灾难的规模。</p><p>其次，我们必须权衡斗争与死亡和丧失自由与尊严这两方面的得失。对于我们之中的许多人来说，自由与尊严比长寿和避免肉体痛苦更重要。再者，我们早晚会死，死于为生存或为某一事业而战，强于活得空虚而无目的。</p><p>第三，体系的存续所带来的痛苦并不一定就比体系崩溃所带来的痛苦更少。在全世界范围内，体系已经招致、并且正在招致的巨大痛苦曾使人类千百年与他人以及环境和睦相处的古代文化被与其解接触的工业社会所摧毁。其结果就是全方位的经济、环境、社会和心理问题。工业社会的侵扰所产生的影响之一，就是传统的人口控制在全球范围内一下子失去了平衡，因而产生了人口爆炸及其所有连带后果。接着就是心理疾病席卷了整个所谓”幸运”的西方社会。没有人知道臭氧层耗尽、温室效应及其他现在还不能预测的环境问题最终会为这个世界带来怎样的后果。而且就像核扩散已经显示的那样，我们无法防止新技术落入独裁者和不负责任的第三世界国家手中。愿意猜猜伊位克或北朝鲜将用遗传工程来干什么吗?</p><p>“嗨！”技术爱好者们会说，”科学能解决所有这些问题！我们将征服饥荒、消灭心理病痛，让每一个人都健康而快乐！”是的，是的。他们200年前就是这么说的。人们曾指望工业社会能够消灭贫穷，使每一个人都快乐，等等。实际结果却不是那么回事。技术爱好者对社会问题的理解简直是无可救药地天真（或自欺欺人）。他们没有意识到（或故意视而不见）这样一个事实：当巨大的变化，即使是看上去有利的变化，被引入一个社会时，将会引发一长串其他变化，这些变化之中的大都分是不可预见的其结果则是社会的混乱。因此，技术爱好者们在试图消灭贫穷和疾病，设计制造驯顺、快乐的人格等等时，很可能会创造出比现在还糟糕的社会体系。例如，科学家们吹嘘说他们能够创造出新的、经遗传工程改造的粮食植物以消灭饥荒。然而，这将会允许人口无限膨胀下去，而众所周知，拥挤会导致紧张和攻击性的增强。这仅仅是技术会导致的可预见问题中的一个例子。我们强调指出，历史经验告诉我们，技术进步给社会带来新问题的速度远比它解决旧问题的速度要快。因此技术爱好者们要经过一个漫长的试错时期才能够为他们的美丽新世界排除掉所有的故障（假设他们最终能做到的话）。而与此同时所产生的痛苦将会如此巨大，以至于体系生存下去所带来的痛苦不见得就比体系崩溃更少。技术己将人类带入了一条无法轻易逃脱的死胡同。</p><p>更好的办法是把这个腐朽的体系整个扔进垃圾堆，并勇敢地承受其后果。</p><p>现在的两个主要任务是在工业社会中促进社会紧张与不稳定，以及宣传一种反对技术和工业体系的意识形态。当体系变得足够紧张和不稳定时，一场反对技术的革命就有机会发动了。这一模式将十分类似于法国和俄国革命。在两国各自革命之前的几十年里，法国和俄国社会都显示出了越来越多的紧张与脆弱迹象。同时，提供一个与旧世界完全不同的新世界愿景的意识形态发展了起来。以俄国的情况为例，革命者积极从事于破坏旧秩序的工作。然后当旧体系面临着足够的额外紧张时（法国是财政危机，俄国是军事失败），它就会被革命一扫而光。我们预想的就是这样的道路。</p><p>大多数革命都有两个目标，一个目标是摧毁一个旧社会，另一个目标是建立革命者想像的新社会。法国和俄国的革命者没有能够成功地建立他们所梦想的新社会（这是十分幸运的事），但她们非常成功地摧毁了既存社会。</p><p>然而，一种意识形态如想争取到热情支持，除了负面理想外必须还有正面理想，决不能只破不立。我们的正面理想是自然，即野生自然，按照其本来面目运行的地球，不依赖于人类管理、摆脱人类干涉和控制的地球生灵。我们的野生自然也包括人类本性，即不受有组织社会管制、自主运行的个人，成为偶然性或自由意志或上帝（由你的宗教或哲学观念）的产物。</p><p>一个社会的经济与技术结构在决定一般人的生活方式方面远比政治结构更加重要。</p><p>我们不应主张无力或消极，我们应主张打破工业体系的权力，而这将大大增加个人和小群体的权力和自由。</p><p>（据称）贯穿整个历史，技术都是进步的，从未退步过，因此技术退步是不可能的。但这并非事实。对于”进步”的热情是现代社会形态的特殊现象，在大约十七世纪之前并不存在。</p><h2 id="評析"><a href="#評析" class="headerlink" title="評析"></a>評析</h2><p>1、</p><p>1978年5月25日，美国西北大学的工程教授巴克利·克利斯（Buckley Crist），收到了邮政局退回的一个包裹。</p><p>这个包裹寄往芝加哥大学，但是收件人”查无此人”。克利斯教授不记得寄过它，可是发件人却写着自己的名字。他叫来了学校的保安。保安打开了包裹，里面是一颗炸弹，立刻爆炸了。保安身受重伤。</p><p>此后的18年，这样的案件一再发生。凶手一共寄出了16枚邮件炸弹，共炸死3人，炸伤23人。袭击对象主要是大学的理工科教授，所以凶手被称为”大学炸弹客”（Unabomber）。</p><p>FBI 想尽办法要抓住凶手。十几年的调查中，动用了500名特工，误抓了200多名嫌疑犯，查访上万民众，接了2万多通检举电话，花费500万美元，但是一无所获。凶手非常小心，没有留下任何线索。这个案件成了 FBI 历史上最昂贵的调查之一。</p><p>2、</p><p>1995年4月，凶手又一次作案，一次性寄出了四样东西：两个邮件炸弹，炸死了加州林业协会的总裁吉卜特·莫里，炸断了耶鲁大学计算机科学教授大卫·加勒特的几根手指；一封警告信，警告1993年诺贝尔奖获得者遗传学家理查·罗伯特和菲利普·夏普，要求他们立刻停止基因研究；一篇发给《纽约时报》的长达3.5万字的文章，承诺如果美国主流媒体一字不改地全文刊登，他就将永久停止炸弹袭击。</p><p>FBI 局长和美国司法部长最终同意刊登这篇文章。1995年9月19日，它发表在当天的《纽约时报》和《华盛顿邮报》上，题目叫做《论工业社会及其未来》（Industrial Society and Its Future）。</p><p><img src="https://github.com/yumuzi/images/raw/master/20171130_kaczynski_01.jpg" alt=""></p><p>读者惊讶地发现，这居然是一篇充满思辨的哲学论文，作者明显受过学术训练。论文声称，工业革命带来的是人类的灾难，技术使人类丧失自由，最终将导致社会的动荡甚至毁灭，人们应该摧毁现代工业体系。这就是凶手为什么袭击大学教授的原因，因为他们推动了技术的发展。</p><p>更让人吃惊的是，这篇论文很有说服力。许多人开始认真思考作者的观点，主流的知识分子杂志（比如《大西洋》、《纽约人》）专文讨论它。那位被炸断手指的耶鲁大学教授大卫·加勒特承认，文章的推断不无道理，工业文明时代，人类的未来，也许真的险恶重重。Java 语言的发明人计算机学家 Bill Joy 则说，他对文章预言的未来深感困扰。艺术家更是深受影响， 后来的许多小说和电影（比如《黑客帝国》），都能看到这篇论文的影子。</p><p>3、</p><p>论文发表以后，FBI 收到一条线索：有人举报，该文的写作风格和论点，很像出自他的弟弟泰德·卡辛斯基（Ted Kaczynski）之手。</p><p>1996年4月3日，卡辛斯基在蒙大拿州被逮捕，他住在远离人群的荒野之中，自己搭建了一个小木屋，里面堆满了炸弹原料。至此，邮包炸弹案宣告破案。</p><p><img src="https://github.com/yumuzi/images/raw/master/20171130_kaczynski_02.jpg" alt=""></p><p>卡辛斯基的人生很不寻常。他生于1942年，从小就具有超人的数学天才， 16岁被哈佛大学数学系录取。</p><p><img src="https://github.com/yumuzi/images/raw/master/20171130_kaczynski_03.jpg" alt=""></p><p>1962年进入密歇根大学攻读数学博士，只用了几个月就拿到了博士学位。指导教授说他的博士论文十分深奥，全美只有十几个人能看懂。25岁时，他被加州大学柏克莱分校聘为助理教授，是该校史上最年轻的教授。</p><p><img src="https://github.com/yumuzi/images/raw/master/20171130_kaczynski_04.jpg" alt=""></p><p>卡辛斯基在柏克莱只待了不到2年，就辞职了，没有任何理由。他从此脱离学术界，过上了离群索居的生活，1971年，在父母的资助下，他在蒙大拿州一个偏僻的山区盖了一间小木屋，搬到那里去住了。屋子里没有电灯、电话、自来水。平日里他吃自己种的菜、猎捕的食物，晚上点蜡烛看书，砍柴做饭取暖。1978年，他在那里寄出了第一个邮件炸弹，攻击目标是在图书馆里面随机选择的。</p><p><img src="https://github.com/yumuzi/images/raw/master/20171130_kaczynski_05.jpg" alt=""></p><p>被捕后，卡辛斯基拒绝了律师为其辩护。1998年，被判处终身监禁，不得保释。</p><p><img src="https://github.com/yumuzi/images/raw/master/20171130_kaczynski_06.jpg" alt=""></p><p>4、</p><p>《论工业社会及其未来》这篇论文值得细细阅读，它对人类现状和未来的分析描述，是非常震撼的。</p><p><img src="https://github.com/yumuzi/images/raw/master/20171130_kaczynski_07.jpg" alt=""></p><p>关于人类的现状，作者的第一句话就是：”工业文明带给人类的是极大的灾难。”</p><p><blockquote>“工业文明极大地增加了发达国家的人口预期寿命，但也破坏了社会的稳定性，令生活空虚无谓，剥夺了人类的尊严，导致了心理疾病的扩散，还严重地破坏了自然界。”</blockquote></p><p>新技术的最大问题，就是剥夺人类的自由。”自由与技术进步不相容，技术越进步，自由越后退。”</p><p><blockquote>“新技术改变社会，最后人们会发现，自己将被强制去使用它。比如，自从有了汽车，城市的布局发生了很大改变，大多数人的住宅已经不在工作场所、购物区和娱乐区的步行距离之内，他们不得不依赖汽车。人们不再拥有不使用新技术的自由了。”</blockquote></p><p>一项新技术诞生后，不太可能被拒绝使用，因为”每一项新技术单独考虑都是可取的”，然后人类就会依赖它。</p><p><blockquote>“电力、下水道、无线电话……一个人怎么能反对这些东西呢？怎么能反对数不清的技术进步呢？所有的新技术汇总到一起，就创造出了这样一个世界。在这个世界中，普通人的命运不再掌握在他自己手中，而是掌握在政客、公司主管、技术人员和官僚手中。以遗传工程为例。很少人会反对消灭某种遗传病的基因技术，但是大量的基因修改，会使人变成一种人工设计制造的产品，而不是自然的创造物。”</blockquote></p><p>设想一下，如果基因技术变得成熟和普及，那么政府将不得不管制这种技术，因为万一被滥用，后果不堪设想。这样的话，个人就没有选择，只能接受政府管制，其程度将是前所未有，因为政府将可以管到你的基因结构。</p><p>工业社会要想正常运作，必须遵循一整套严格的规则，这导致”现代人都被一张规则之网所笼罩，在所有重要方面，个人的行为都必须服从这些规则。”这导致所有人在本质上都高度类似。</p><p><blockquote>“今天，在技术发达地区，人们的生活方式十分相像。芝加哥的一个基督教银行职员，东京的一个佛教银行职员，莫斯科的一个共产党银行职员，他们彼此之间的日常生活十分相像，而他们的生活与1000年以前人们的生活却非常不同。这就是技术进步的结果……”</blockquote></p><p>最终，”技术完全控制地球上的一切，人类自由基本上将不复存在，因为个人无法对抗用超级技术武装起来的大型组织。只有极少数人握有真正的权力，但甚至就连他们的自由也是十分有限的，因为他们的行为也是受到管制的。”</p><p>5、</p><p>关于人类的未来，卡辛斯基假设 “计算机科学家成功地开发出了智能机器，这些机器无论做什么事都比人类强。在这种情况下，大概所有工作都会由巨大的、高度组织化的机器系统去做，而不再需要任何人类的努力。”</p><p>这时可能会有两种情况发生。”一种是允许机器在没有人类监督的情况下，自已做出所有的决策，另一种是人类保留对于机器的控制。”</p><p><blockquote>“如果我们允许机器自己做出所有的决策，人类的命运那时就全凭机器发落了。人们也许会反驳，人类决不会愚蠢到把全部权力都交给机器。但我们既不是说人类会有意将权力交给机器，也不是说机器会存心夺权。我们实际上说的是，人类可能会轻易地让自己沦落到一个完全依赖机器的位置，沦落到不能做出任何实际选择，只能接受机器的所有决策的地步。随着社会及其面临的问题变得越来越复杂，而机器变得越来越聪明，人们会让机器替他们做更多的决策。仅仅是因为机器做出的决策会比人的决策带来更好的结果。最后，维持体系运行所必需的决策已变得如此之复杂。以至于人类已无能力明智地进行决策。在这一阶段，机器实质上已处于控制地位。人们已不能把机器关上，因为我们已如此地依赖于机器，关上它们就等于是自杀。”</blockquote></p><p>就算人们想尽办法，保留对机器的控制权，结果也会很糟。</p><p><blockquote>“另一方面，也可能人类还能保持对机器的控制。在这种情况下，一般人也许可以控制自己的私人机器，如他的汽车或计算机，但对于大型机器系统的控制权将落入一小群精英之手—-就像今天一样。由于技术的改进，精英对于大众的控制能力将会极大提高，因为人不再必需工作，大众就成为了多余的人，成为了体系的无用负担。如果精英集团失去了怜悯心，他们完全可以决定灭绝人类大众。如果他们有些人情味，他们也可以使用宣传或其他心理学或生物学技术降低出生率，直至人类大众自行消亡，让这个世界由精英们独占。”<br><br>“或者，如果精英集团是由软心肠的自由派人士组成的，他们将注意保证每个人的生理需求都得到满足，每一个孩子都在心理十分健康的条件下被抚养成人，每一个人都有一项有益于健康的癖好来打发日子，每一个可能会变得不满的人都会接受治疗以治愈其’疾病’。当然，生活是如此没有目的，以致于人们都不得不经过生物学的或心理学的改造，以去除他们的权力欲，或使他们的权力欲’升华’为无害的癖好。这些经过改造的人们也许能在这样一个社会中生活得平和愉快，但他们决不会自由。他们将被贬低到家畜的地位。”</blockquote></p><p>6、</p><p>退一步说，如果前面的假设不成立，人工智能没有取得成功，人的工作还是必要的，但是”即使这种情况，机器也将承担越来越多的简单工作，而低能力的工人将越来越过剩（正如我们所见，这种事已经发生了。许多人很难或根本找不到工作，因为他们由于智力或心理原因，而不能达到体系所需要的训练水平）。”</p><p><blockquote>“对于那些找到工作的人，就业的要求会越来越高。他们将需要越来越多的训练，越来越强的能力，他们将不得不越来越可靠、越来越规矩、越来越驯服，因为他们将越来越像巨型有机体的细胞。他们的任务将越来越专门化，因而他们的工作在某种意义上也将越来越脱离真实世界，仅集中于现实的一块小碎片。体系将使用一切可以使用的心理学或生物学手段来设计制造人类，使之驯顺，使之具有体系要求的能力。”</blockquote></p><p>机器接管了大部分具有真正重要性的工作以后，留给人类的（或者说普通人有能力从事的）都是一些相对不那么重要的工作。</p><p><blockquote>“例如有人建议，大力发展服务业可以给人类提供工作机会。这样人们就可以把时间花在互相擦皮鞋上面，可以用出租车带着彼此到处瞎转，互相为对方做手工艺品，互相给对方端盘子等等。人类如果最终以这样的方式结局，那对于我们来说也实在是太可怜了，而且我们怀疑有多少人会觉得这样的无意义的忙碌等同于充实的生活。他们会去寻找危险的其他渲泄途径（毒品、犯罪、邪教、仇恨群体等），除非他们经过生物学或心理学的设计改造后适应了这种生活方式。”</blockquote></p><p>7、</p><p>卡辛斯基的结论就是，未来要么人类无法幸存下来，要么个人空前地依赖大型组织，空前地”社会化”，人类的生理和心理是设计和改造的结果，而不是自然的产物。</p><p>唯一的解决方法就是放弃科学技术，”把这个腐朽的体系整个扔进垃圾堆，并勇敢地承受其后果。”</p><p><blockquote>“我们希望已经说服了读者，体系无法通过改革来调和自由与技术。唯一的出路是摒弃整个工业-技术休系。这意味着革命，不一定是武装起义，但肯定是激烈而根本的社会性质变化。”</blockquote></p><p>卡辛斯基认为，这个体系是由技术人员为了自己的利益和声望在推动前进。”体系需要科学家、数学家与工程师，否则就无法正常运作。”因此他选择这些人作为袭击目标。这样做当然是邪恶的，但是他对于人类命运的警告却理应受到重视。</p><p>卡辛斯基反复提及，引入新技术一定要慎而又慎。</p><p><blockquote>“一项新技术被引入社会时，将会引发一长串其他变化，这些变化之中的大部分是不可预见的。历史经验告诉我们，技术进步给社会带来新问题的速度，远比它解决旧问题的速度要快。技术已将人类带入了一条无法轻易逃脱的死胡同。”</blockquote></p><p>技术会有我们难以预测的长期后果。比如，抗生素的目的是消灭细菌，但是大量使用后却产生了难以杀死的超级细菌，人们不得不限制抗生素的使用；再比如，医疗技术提高了人类的寿命，但也因此导致了地球的人口激增、社会老龄化、生育率下降等重大的社会变化，这些恐怕都不是技术的发明者能想到的。如果新技术（比如机器人技术、基因工程、纳米技术）被恐怖主义组织掌握，后果就更可怕。如果不是真人，而是机器人在街头发动恐怖袭击，那会是怎样的情景？</p><p>距离《论工业社会及其未来》的发表，已经过去了20多年，互联网和人工智能都变成了现实，基因技术开始萌芽。人类对于新技术的入迷简直到了无以复加的地步，恨不得越多越好，一项新技术还在实验室中，人们就开始计划如何尽快形成生产力，占领尽可能多的市场。卡辛斯基的预言似乎一步步正在变成现实，人类正毫不在意地亲手加速自己的毁灭。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;轉載自&lt;a href=&quot;http://www.ruanyifeng.com/blog/2017/09/unabomber.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;卡辛斯基的警告&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;作者：阮一峰&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;《論工業社會及其未來》原文摘錄&quot;&gt;&lt;a href=&quot;#《論工業社會及其未來》原文摘錄&quot; class=&quot;headerlink&quot; title=&quot;《論工業社會及其未來》原文摘錄&quot;&gt;&lt;/a&gt;《論工業社會及其未來》原文摘錄&lt;/h2&gt;&lt;p&gt;工业革命极大增加了城市规模和城市人口比例，而人群聚集会增加压力与攻击性。&lt;/p&gt;
&lt;p&gt;技术变革导致现代社会的变化十分迅速，因此整个社会不存在稳定的框架和价值观。&lt;/p&gt;
&lt;p&gt;有些人急于拯救自由却不愿牺牲技术带来的所谓好处，他们会提出天真的新式社会构想来调和自由与技术。&lt;/p&gt;
&lt;p&gt;所有人都理所当然地认为，每一个人都必需向技术的需要低头，而且理由十分充分：如果人的需求被摆在了优先于技术需要的地位，就会出现经济问题、失业、短缺甚至更糟。在我们的社会当中，”精神健康”的概念主要被定义为在多大程度一个人能够根据体系的需要行事并且不会流露出承受精神压力的迹象。&lt;/p&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="kaczynski" scheme="https://yumuzi.github.io/tags/kaczynski/"/>
    
  </entry>
  
  <entry>
    <title>毀譽參半</title>
    <link href="https://yumuzi.github.io/chaocuolun.html"/>
    <id>https://yumuzi.github.io/chaocuolun.html</id>
    <published>2017-11-30T10:22:48.000Z</published>
    <updated>2017-11-30T10:24:44.302Z</updated>
    
    <content type="html"><![CDATA[<h2 id="原文"><a href="#原文" class="headerlink" title="原文"></a>原文</h2><p><strong>《晁错论》·北宋·苏轼</strong></p><p>天下之患，最不可为者，名为治平无事，而其实有不测之忧。坐观其变，而不为之所，则恐至於不可救；起而强为之，则天下狃於治平之安而不吾信。惟仁人君子豪杰之士，为能出身为天下犯大难，以求成大功；此固非勉强期月之间，而苟以求名之所能也。</p><p>天下治平，无故而发大难之端；吾发之，吾能收之，然后有辞於天下。事至而循循焉欲去之，使他人任其责，则天下之祸，必集於我。</p><p>昔者晁错尽忠为汉，谋弱山东之诸侯，山东诸侯并起，以诛错为名；而天子不以察，以错为之说。天下悲错之以忠而受祸，不知错有以取之也。</p><a id="more"></a><p>古之立大事者，不惟有超世之才，亦必有坚忍不拔之志。昔禹之治水，凿龙门，决大河而放之海。方其功之未成也，盖亦有溃冒冲突可畏之患；惟能前知其当然，事至不惧，而徐为之图，是以得至於成功。</p><p>夫以七国之强，而骤削之，其为变，岂足怪哉？错不於此时捐其身，为天下当大难之冲，而制吴楚之命，乃为自全之计，欲使天子自将而己居守。且夫发七国之难者，谁乎？己欲求其名，安所逃其患。以自将之至危，与居守至安；己为难首，择其至安，而遣天子以其至危，此忠臣义士所以愤怨而不平者也。</p><p>当此之时，虽无袁盎，错亦未免於祸。何者？己欲居守，而使人主自将。以情而言，天子固已难之矣，而重违其议。是以袁盎之说，得行於其间。使吴楚反，错已身任其危，日夜淬砺，东向而待之，使不至於累其君，则天子将恃之以为无恐，虽有百盎，可得而间哉？</p><p>嗟夫！世之君子，欲求非常之功，则无务为自全之计。使错自将而讨吴楚，未必无功，惟其欲自固其身，而天子不悦。奸臣得以乘其隙，错之所以自全者，乃其所以自祸欤！</p><h2 id="评论"><a href="#评论" class="headerlink" title="评论"></a>评论</h2><p>引自_<a href="http://blog.sina.com.cn/s/blog_5d245fe70102v8dx.html" target="_blank" rel="external">毁誉参半——《晁错论》浅析</a>_</p><p>《晁错论》是北宋著名文学家苏轼创作的一篇人物评论文，评论对象为西汉景帝时期政治改革家晁错。</p><p>晁错（公元前200年～前154年），西汉政治家、政论家。颍川（今河南禹县）人。文帝时为太子（景帝）家令，景帝即位后为御史大夫。晁错坚持“重本抑末”政策，主张削夺诸侯权力和封地，以巩固中央政权，得到景帝采纳。吴楚等七国诸侯以诛晁错为名发动叛乱，景帝惊慌失措，听信袁盎谗言，处死晁错“以谢天下”。本文是对晁错被杀一事所作的评论。晁错之死，人多叹息，苏轼却翻空出奇，以独特的视角，一家之言，阐述了晁错受祸的原因，提出了仁人君子、豪杰之士应“出身为天下犯大难，以求成功”的主张。</p><p>本文共分为五段。</p><p>第一段，文章开篇为泛泛概说：“天下之患，最不可为者，名为治平无事，而其实有不测之忧。”起句看似虚写，实则却在暗说汉景帝时国泰民安中隐含着的地方诸侯王的实力逐渐坐大的心腹之患。接着苏轼围绕着“患”字，从“坐”、“起”两方面进行分论。“坐观其变”而不对祸患采取措施，那么祸患便会蔓延得无可救药；“起而强为之”而不等待时机，则同样不能保持眼下治平安定的局面。作者所说的“起而强为之”，暗指晁错的“削藩”。文章又结止上两句的意思，引出“仁人君子豪杰之士”的作为，他们是有所担当的，所以能够成就大的功业。以此暗与晁错相比较，“此固非勉强期月之间，而苟以求名之所能也”。概写出历史上的失败者，又具体落在晁错身上，暗含着对晁错失败原因的评论。这两句是整篇文章的关键之处，是作者议论的中心，在此处，它还起承上启下的作用。苟以求名者，上承“起而强为之”，下启“事至而循循欲取之，使他人任其职”。这二句，又虚写七国起兵后晁错的态度。因此，首段是借仁人君子豪杰之士做正面发挥，用“苟以求名者”行为作反面衬托，暗评晁错失败的原因，抽象中有具体，虚写里含实写，虚实相生。未言晁错，句句晁错。</p><p>第二段，文章在前面的基础上轻而易举地由抽象到具体，由隐而显，由历史的抽象概述，过渡到具体的史事论述。西汉社会诸侯王的割据势力严重威胁着封建的中央集权，晁错是继贾谊之后，屡次建议汉景帝削藩的大臣，汉景帝采纳了晁错的主张，也引起地方诸侯的强烈不满，吴楚等七国诸侯借口“诛晁错以清君侧”，举兵叛乱，于是出现了历史上有名的“七国之乱”，景帝害怕七国连兵，将晁错处死。后代之人多悲叹晁错的尽忠而蒙害。但苏轼在这里却一反传统老调，认为晁错获罪是“有以取之也”，从而使文章独辟蹊径，不同凡响。</p><p>第三段，作者一方面紧扣史事，另一方面却把笔触拉开，先指出“古之立大事者，不惟有超世之才，亦必有坚韧不拔之志”。然后便旁征博引，用大禹治水的凿龙门，决黄河入海，在未成功之前，也经历过大水冲破堤坝，奔腾泛滥的事件来论证，提出“事至而不惧，而徐为之图”，才能使大事成。从而暗中指责晁错的临危而退。</p><p>第四段，是全文的主体。这一段议论变得丰富，行文也变得曲折，作者的观点由隐而显，由暗而明。通过有力论说，阐述了晁错取祸的原因。“夫以七国之强，而骤削之，其为变岂足怪哉”？冰冻三尺，非一日之寒。作者认为削藩应该逐步进行，徐为之图，骤削则必然导致七国之乱。这便是“无故而发大难之端”。仁人君子豪杰之士应于此时挺身而出，担当大任，所以能成就大业。但晁错不在此时捐身，力挡大难，击溃七国，反而临危而逃，“使他人任其职”，那么，天下之祸，便必然集中在晁错身上了。即使没有袁盎等人的谗言，晁错要幸免于祸也是不可能的。文章至此，所议之事，所表达的论点，与前文相近，但观点与史事却由隐而显，由暗而明，文章气势也慢慢由弱而强，由平易而汹涌，紧接着作者又连用两个反问句：“且夫发七国之难者谁乎？己欲求其名，安所逃其患？”这和下文的“己欲居守，而使人主自将”。直接把晁错推到不忠不仁不义的境地，把文章挑起的高潮推向深远广阔，为下文的袁盎谗言得逞埋下伏笔。作者认为如果不是晁错的临危逃脱，而是迎危而上，自己亲临前线，担当大任，那么即使有一百个袁盎，也不能离间晁错与景帝的君臣关系。</p><p>第五段，感叹历史，再次指出临危而逃，自固其身，是晁错杀身之祸的原因。在作者看来，“欲求非常之功，则无务为自全之计”。既然不利事情已经发生，就要临危不惧，有所担当。而晁错采取了自固其身的错误对策，引起了景帝的不悦，“自固其身”实质是自遭其祸。</p><p>纵观全文，作者认为，晁错之所以被杀，是因为他没有考虑到事件发生急剧变化对应采取的应急措施，在危急时刻他只想到保全自己，不敢冒风险，让皇帝出征，自己却留守后方，这就給政敌进谗言以可乘之机，因而遭到杀害。苏轼这一论点的前一部分有一定的道理，后半部分就未免片面。</p><p>晁错之死，自有其原因。此人“峻直”，得理不饶人，所以与袁盎这样的君子也有矛盾。对此，《史记.袁盎晁错列传》多有记载。晁错的失误，在于和袁盎结怨，而欲借吴之反以诛杀袁盎，他这种自发杀机，为他遭来杀身之祸，这与他所学申商刑名之学有关。至于作者在文中所说：“晁错自将，未必无功。”这种说法也是书生事后之见。晁错虽数次谈到军事行动，但是从未实践过行兵布阵。七国之乱，关东尽为敌国，当时完全之策在于选择懂得军事的人，在平息叛乱。当时朝廷上有一持重善兵的周亚夫，晁错作为皇帝的智囊不去推荐，这也不能不说是晁错的失误。</p><p>另外对于晁错“自固其身”的说法，见于《汉书》：晁错欲令帝亲征，而身居守。《史记》不载，古人就对此怀疑或是传致之辞。苏轼把此作为主要论点，是否靠得住，尚且存疑，却采用攻其一点，不及其余的手法，不能令人信服。</p><p>我认为晁错被杀的主要原因，固然有其性格上的弱点，但汉景帝显然难逃罪责。作为封建社会的最高统治者，在叛军面前，张皇失措，他为了一己之私利，采用“丢卒保车”的策略，于是，晁错成为牺牲品，乃是必然。</p><p>在中国，事关帝王，为尊者讳似乎成为一种惯例。所谓“皇上圣明，臣罪该万死”，就是这种思维的产物。苏轼能够写《贾谊论》、《晁错论》，但不能写客观的《景帝论》。即使是在汉景帝一千多年后的苏轼，面对帝王也要有一定的忌讳。考虑到苏轼这些策论是应试之作，也是可以理解的。</p><p>事实上汉景帝是个刻薄寡恩的人。在平定吴楚七国之乱中立下盖世之功的大将周亚夫就死于汉景帝的冤狱中，就是明证。功劳归于自己，错误诿过他人，在封建社会中，“伴君如伴虎”这是社会的常识。</p><p>我们应该看到，长期浸濡中国社会的儒家思想，为了得到历代帝王的重视，与封建统治者达成了某种默契，这不能不说是那一代学人的悲哀。</p><p>当然，《晁错论》是苏轼青年时代的应试之作，不知经过“乌台诗案”后的苏轼，是否对他原有的观点有所改变。</p><p>金圣叹《天下才子必读书》卷十四：“此是先生破身尽见，独存义勇，而乃抒为妙文。后贤且只学其刀刀见血。”</p><p>诚哉斯言。从积极方面来看，此时的苏轼是个热血青年，本文表达出自己愿意为国效力的肺腑之言。但如“只学其刀刀见血”，再与封建专制统治相结合，那是一种糟透了的学风。文革时大批判、大字报、无限上纲上线，那是一种致人于死地的恶劣文风，后世学者必须慎之又慎。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;原文&quot;&gt;&lt;a href=&quot;#原文&quot; class=&quot;headerlink&quot; title=&quot;原文&quot;&gt;&lt;/a&gt;原文&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;《晁错论》·北宋·苏轼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;天下之患，最不可为者，名为治平无事，而其实有不测之忧。坐观其变，而不为之所，则恐至於不可救；起而强为之，则天下狃於治平之安而不吾信。惟仁人君子豪杰之士，为能出身为天下犯大难，以求成大功；此固非勉强期月之间，而苟以求名之所能也。&lt;/p&gt;
&lt;p&gt;天下治平，无故而发大难之端；吾发之，吾能收之，然后有辞於天下。事至而循循焉欲去之，使他人任其责，则天下之祸，必集於我。&lt;/p&gt;
&lt;p&gt;昔者晁错尽忠为汉，谋弱山东之诸侯，山东诸侯并起，以诛错为名；而天子不以察，以错为之说。天下悲错之以忠而受祸，不知错有以取之也。&lt;/p&gt;
    
    </summary>
    
      <category term="文學" scheme="https://yumuzi.github.io/categories/%E6%96%87%E5%AD%B8/"/>
    
    
      <category term="晁錯" scheme="https://yumuzi.github.io/tags/%E6%99%81%E9%8C%AF/"/>
    
  </entry>
  
  <entry>
    <title>對懷才不遇者的忠告</title>
    <link href="https://yumuzi.github.io/jiayilun.html"/>
    <id>https://yumuzi.github.io/jiayilun.html</id>
    <published>2017-11-30T10:21:01.000Z</published>
    <updated>2017-11-30T11:05:47.827Z</updated>
    
    <content type="html"><![CDATA[<h2 id="原文"><a href="#原文" class="headerlink" title="原文"></a>原文</h2><p><strong>《贾谊论》·北宋·苏轼</strong></p><p>非才之难，所以自用者实难。惜乎！贾生，王者之佐，而不能自用其才也。</p><p>夫君子之所取者远，则必有所待；所就者大，则必有所忍。古之贤人，皆负可致之才，而卒不能行其万一者，未必皆其时君之罪，或者其自取也。</p><p>愚观贾生之论，如其所言，虽三代何以远过？得君如汉文，犹且以不用死。然则是天下无尧、舜，终不可有所为耶？仲尼圣人，历试于天下，苟非大无道之国，皆欲勉强扶持，庶几一日得行其道。将之荆，先之以冉有，申之以子夏。君子之欲得其君，如此其勤也。孟子去齐，三宿而后出昼，犹曰：“王其庶几召我。”君子之不忍弃其君，如此其厚也。公孙丑问曰：“夫子何为不豫？”孟子曰：“方今天下，舍我其谁哉？而吾何为不豫？”君子之爱其身，如此其至也。夫如此而不用，然后知天下果不足与有为，而可以无憾矣。若贾生者，非汉文之不能用生，生之不能用汉文也。</p><a id="more"></a><p>夫绛侯亲握天子玺而授之文帝，灌婴连兵数十万，以决刘、吕之雌雄，又皆高帝之旧将，此其君臣相得之分，岂特父子骨肉手足哉？贾生，洛阳之少年。欲使其一朝之间，尽弃其旧而谋其新，亦已难矣。为贾生者，上得其君，下得其大臣，如绛、灌之属，优游浸渍而深交之，使天子不疑，大臣不忌，然后举天下而唯吾之所欲为，不过十年，可以得志。安有立谈之间，而遽为人“痛哭”哉！观其过湘为赋以吊屈原，纡郁愤闷，趯然有远举之志。其后以自伤哭泣，至于夭绝。是亦不善处穷者也。夫谋之一不见用，则安知终不复用也？不知默默以待其变，而自残至此。呜呼！贾生志大而量小，才有余而识不足也。</p><p>古之人，有高世之才，必有遗俗之累。是故非聪明睿智不惑之主，则不能全其用。古今称苻坚得王猛于草茅之中，一朝尽斥去其旧臣，而与之谋。彼其匹夫略有天下之半，其以此哉！愚深悲生之志，故备论之。亦使人君得如贾生之臣，则知其有狷介之操，一不见用，则忧伤病沮，不能复振。而为贾生者，亦谨其所发哉！</p><h2 id="评论"><a href="#评论" class="headerlink" title="评论"></a>评论</h2><p>引自_<a href="http://blog.sina.com.cn/s/blog_5d245fe70102v7w0.html" target="_blank" rel="external">对怀才不遇者的忠告——《贾谊论》赏析</a>_，有删改。</p><p>《贾谊论》是苏轼对著名政治家贾谊的一篇评论。贾谊（公元前200年～前168年），西汉政治家，文学家。洛阳（今河南洛阳）人，汉文帝时任太中大夫，后为大臣周勃、灌婴所排挤，贬为长沙王太傅、梁怀王太傅。他曾多次上疏汉文帝，提出一系列政治改革、加强中央集权的主张，但都不能实行，三十二岁时抑郁而死。有今人辑《贾谊集》行世。历代文人对贾谊的怀才不遇，最后英年早逝都给予了深切的同情，苏轼对此却提出了不同意见。他认为贾谊有卓越的才能，又适逢一个最贤明的君主，他所以不能施展自己的才华竟一生失意，其根本是他不能自用其才，一切都操之过急。</p><p>《贾谊论》共分五段。</p><p>第一段，开门见山说明自己的观点：一个人要有才能并不难，怎么使自己的才能获得发挥，却是很难的事。贾谊正是具有辅助帝王的才能，却不能够让自己的才能获得充分发挥。文章用一个“惜乎”的深沉感叹句，以贾谊其人其事，紧紧印证所提观点，而且紧扣文题。</p><p>第二段，提出“有所待”、“有所忍”是古代君子和贤人施展抱负必须经历的艰苦进程，而古代贤人郁郁不得志，不一定是当时君主不识贤才，或许是他们自己造成的。言外之意，你贾谊就因为这方面没有做好，所以才招致失败。</p><p>第三段，写贾谊自身才华出众，又有幸获得明君汉文帝的赏识，按常理，他完全应该有所作为，能够成就一番伟业，事实却是“以不用死”，导致如此巨大反差的结果，原因的确引人深思。接下来，作者又放下这个刚刚打开的话题，而是举例说明贤人与帝王之间的关系是希望获得理解，不忍相离的。乍一看，这似乎与论述贾谊无关，实则是明确针对他而来。文中提及了孔子、孟子这些圣贤对自己才能的爱惜与自信。同样的，孔子与孟子都希望得到君主的赏识，得以施展抱负。他们对君主的不舍和期许，也是对自己才能的肯定。像孔孟这样尽力而为，还不能够为君王所用，这是君王的疏忽，只要自己不轻易放弃，那也无所感憾了。最后一句，“若贾生者，非汉文之不能用生，生之不能用汉文也”。明确地说出，贾谊的失意，和孔子、孟子的失意不同，并不是汉文帝不能重用他，而是他自己不懂得如何才能效力于汉文帝。</p><p>第四段，以当时历史背景出发，说明当时为何汉文帝不用贾谊的客观原因。刘邦死后，吕后掌权，大力培植吕氏势力，分封诸吕为王侯。吕后一死，诸吕企图叛乱，为周勃等老臣平息，立刘恒为帝，是为汉文帝。周勃在刘恒回京途中向他献上了天子玉玺。灌婴连合齐兵，与周勃共谋平定诸吕，拥立汉文帝。这是两位与汉文帝情同骨肉的开国功臣。而此时的贾谊只是个初出茅庐的洛阳少年，两者的政治能量不在同一个数量级上。权衡利弊，汉文帝作出不重用贾谊的决定在当时形势下看来并没有错。而贾谊在政治上失意之后，自伤自怜，郁郁寡欢，不能够趁此机会修养其身，注意和周勃、灌婴这些旧臣们搞好关系，事情还是有转圜的余地。暂时不用，不等于终身不复用。作为此时贾谊来说，还正年轻，还有充分的时间静待其变，怎么能采用这种近乎自残的方式对待自己呢?这也是苏轼对他“志大而量小，才有余而识不足”的批评。</p><p>第五段，结尾。苏轼在此讨论君主与贤人之间的关系，千里马必须遇到伯乐才有施展抱负的机会，同样的贤人也要有名主，才能大展怀抱。自古以来，凡是有卓越才能的人，都自然要受到世俗遗风的伤害。而人君获得像贾谊这样的臣子，要爱惜人才，要了解，他们的个性若不被见用则会自伤不振，对此要作出适切的考虑，保护他的积极性，否则便是折损一名人才。然而站在贾谊方面来说，自己也应该谨慎地对待自己的立身处世。对自己，对这个世界始终有信心，凭着自己的努力，一定能够对现状有所改变。不能“谋之一不见用”，就牢骚满腹，自怨自怜，最后落得个忧伤病沮的结局。这也不能不说是贾谊自身的性格缺陷所致啊！</p><p>贾谊为我国历史上有名的怀才不遇、郁郁而终的青年才俊，对此，前人大多惜贾谊之才，而斥文帝误才之庸。在本文中，苏轼却自出心裁，语出惊人，一反历来人们对贾谊的同情态度，反驳了传统认为贾谊不得志，主要是汉文帝不善用人才的成见。苏轼认为，能够开创历史上“文景之治”的汉文帝，在历史上应该算是一个明君。贾谊的不得志，从贾谊自身的角度来说，他的性格缺陷有其悲剧产生的必然性，并对贾谊的个性进行深刻的解剖，认为主要原因在于贾谊不能自用其才，不善处穷，志大而量小。从客观上来分析，这点挫折根本算不了什么，改革遭到权贵们的排挤，这是必然的，但不能说明事不可为，只要自己不轻言放弃，还是有机会的。</p><p>本文与其说是论述贾谊，倒不如说是论述为人处世之道，论述成才之道。贾谊其人只是作为一个例证和一个话题的由头，在作者看来，一个人具备足够的才华之后，重要的是学会做人，学会处理好与上司、同事等方方面面错综复杂的人际关系，学会忍耐，学会大度，努力为自己营造一个适宜成长的环境，然后才有可能施展自己的才华和抱负，才有可能成就一番事业。在这方面，古代的圣贤，如孔子与孟子为我们树立了光辉的榜样。否则，便难免称为不能自用其才。古往今来，自命不凡，怀才不遇者不计其数，这些人中，固然因为没有遇上伯乐，没有获得施展才华的机会，但更多的恐怕还是人才自身不懂得为人处世之道，不懂得审时度势之理，不懂得韬光养晦之策。或者急功近利，耐不住寂寞，坐不了冷板凳。</p><p>在古代社会那种环境下，等级森严，对人才的脱颖而出，更为不利。苏轼能够如此清醒地认识并指出贾谊的问题，为后世有如此类似者提出借鉴，确实显示他独到的眼光。文章最忌人云亦云，此文见解新颖，无论在理论上和实践上都有现实的意义，至今没有过时。现代知识分子个人操守高洁自不必说，同时也要搞好人事关系——不要不合群，太狷介，有才还要有度量，有气魄，先要做到自用其才，才能做到人用其才。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;原文&quot;&gt;&lt;a href=&quot;#原文&quot; class=&quot;headerlink&quot; title=&quot;原文&quot;&gt;&lt;/a&gt;原文&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;《贾谊论》·北宋·苏轼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;非才之难，所以自用者实难。惜乎！贾生，王者之佐，而不能自用其才也。&lt;/p&gt;
&lt;p&gt;夫君子之所取者远，则必有所待；所就者大，则必有所忍。古之贤人，皆负可致之才，而卒不能行其万一者，未必皆其时君之罪，或者其自取也。&lt;/p&gt;
&lt;p&gt;愚观贾生之论，如其所言，虽三代何以远过？得君如汉文，犹且以不用死。然则是天下无尧、舜，终不可有所为耶？仲尼圣人，历试于天下，苟非大无道之国，皆欲勉强扶持，庶几一日得行其道。将之荆，先之以冉有，申之以子夏。君子之欲得其君，如此其勤也。孟子去齐，三宿而后出昼，犹曰：“王其庶几召我。”君子之不忍弃其君，如此其厚也。公孙丑问曰：“夫子何为不豫？”孟子曰：“方今天下，舍我其谁哉？而吾何为不豫？”君子之爱其身，如此其至也。夫如此而不用，然后知天下果不足与有为，而可以无憾矣。若贾生者，非汉文之不能用生，生之不能用汉文也。&lt;/p&gt;
    
    </summary>
    
      <category term="文學" scheme="https://yumuzi.github.io/categories/%E6%96%87%E5%AD%B8/"/>
    
    
      <category term="賈誼" scheme="https://yumuzi.github.io/tags/%E8%B3%88%E8%AA%BC/"/>
    
  </entry>
  
  <entry>
    <title>了解之同情——馮友蘭《中國哲學史》審查報告評論</title>
    <link href="https://yumuzi.github.io/zhexuepinglun.html"/>
    <id>https://yumuzi.github.io/zhexuepinglun.html</id>
    <published>2017-11-30T10:13:32.000Z</published>
    <updated>2017-11-30T10:18:25.980Z</updated>
    
    <content type="html"><![CDATA[<h2 id="原文"><a href="#原文" class="headerlink" title="原文"></a>原文</h2><h3 id="《中国哲学史》上册审查报告·陈寅恪"><a href="#《中国哲学史》上册审查报告·陈寅恪" class="headerlink" title="《中国哲学史》上册审查报告·陈寅恪"></a><strong>《中国哲学史》上册审查报告·陈寅恪</strong></h3><p>窃查此书，取材谨严，持论精确，允宜列入清华丛书，以贡献于学界。</p><p>兹将其优点概括言之：凡着中国古代哲学史者，其对于古人之学说，应具了解之同情，方可下笔。盖古人著书立说，皆有所为而发；故其所处之环境，所受之背景，非完全明了，则其学说不易评论。而古代哲学家去今数千年，其时代之真相，极难推知。吾人今日可依据之材料，仅当时所遗存最小之一部；欲藉此残余断片，以窥测其全部结构，必须备艺术家欣赏古代绘画雕刻之眼光及精神，然后古人立说之用意与对象，始可以真了解。所谓真了解者，必神游冥想，与立说之古人，处于同一境界，而对于其持论所以不得不如是之苦心孤诣，表一种之同情，始能批评其学说之是非得失，而无隔阂肤廓之论。否则数千年前之陈言旧说，与今日之情势迥殊，何一不可以可笑可怪目之乎？但此种同情之态度，最易流于穿凿傅会之恶习；因今日所得见之古代材料，或散佚而仅存，或晦涩而难解，非经过解释及排比之程序，绝无哲学史之可言。然若加以联贯综合之搜集，及统系条理之整理，则著者有意无意之间，往往依其自身所遭际之时代，所居处之环境，所熏染之学说，以推测解释古人之意志。</p><a id="more"></a><p>由此之故，今日之谈中国古代哲学者，大抵即谈其今日自身之哲学者也；所著之中国哲学史者，即其今日自身之哲学史者也。其言论愈有条理统系，则去古人学说之真相愈远；此弊至今日之谈墨学而极矣。今日之墨学者，任何古书古字，绝无依据，亦可随其一时偶然兴会，而为之改移，几若善博者能呼卢成卢，喝雉成雉之比；此近日中国号称整理国故之普通状况，诚可为长叹息者也。今欲求一中国古代哲学史，能矫傅会之恶习，而具了解之同情者，则冯君此作庶几近之；所以宜加以表扬，为之流布者，其理由实在于是。</p><p>至于冯君之书，其取用材料，亦具通识，请略言之：以中国今日之考据学，已足辨别古书之真伪；然真伪者，不过相对问题，而最要在能审定伪材料之时代及作者而利用之。盖伪材料亦有时与真材料同一可贵.如某种伪材料，若径认为其所依托之时代及作者之真产物，固不可也；但能考出其作伪时代及作者，即据以说明此时代及作者之思想，则变为一真材料矣。中国古代史之材料，如儒家及诸子等经典，皆非一时代一作者之产物。昔人笼统认为一人一时之作，其误固不俟论。今人能知其非一人一时之所作，而不知以纵贯之眼光，视为一种学术之丛书，或一宗传灯之语录，而龂龂致辩于其横切方面，此亦缺乏史学之通识所致。而冯君之书，独能于此别具特识，利用材料，此亦应为表彰者也。</p><p>若推此意而及于中国之史学，则史论者，治史者皆认为无关史学而且有害者也；然史论之作者，或有意或无意，其发为言论之时，即已印入作者及其时代之环境背景，实无异于今日新闻纸之社论时评，若善用之，皆有助于考史。故苏子瞻之史论，北宋之政论也；胡致堂之史论，南宋之政论也；王船山之史论，明末之政论也。今日取诸人论史之文，与旧史互证，当日政治社会情势，益可藉此增加了解，此所谓废物利用，盖不仅能供习文者之摹拟练习而已也。若更推论及于文艺批评，如纪晓岚之批评古人诗集，辄加涂抹，诋为不通，初怪其何以狂妄至是。后读清高宗御制诗集，颇疑其有所为而发；此事固难证明，或亦间接与时代性有关，斯又利用材料之别一例也。</p><p>寅恪承命审查冯君之书，谨具报告书，并附着推论之余义于后，以求教正焉。</p><p>六月十一日</p><h3 id="《中国哲学史》下册审查报告·陈寅恪"><a href="#《中国哲学史》下册审查报告·陈寅恪" class="headerlink" title="《中国哲学史》下册审查报告·陈寅恪"></a><strong>《中国哲学史》下册审查报告·陈寅恪</strong></h3><p>此书上卷寅恪曾任审查。认为取材精审，持论正确.自刊布以来，评论赞许，以为实近年吾国思想史之有数著作，而信寅恪前言之非阿私所好。今此书继续完成，体例宗旨，仍复与前卷「册」一贯。允宜速行刊布，以满足已读前卷「册」者之希望，而使《清华丛书》中得一美备之著作。是否有当，尚乞鉴定是幸！寅恪于审查此书之余，并略述所感，以求教正。</p><p>佛教经典言：”佛为一大事因缘出现于世。”中国自秦以后，迄于今日，其思想之演变历程，至繁至久。要之，只为一大事因缘，即新儒学之产生，及其传衍而已。此书于朱子之学多所发明。昔阎百诗在清初以辨伪观念、陈兰甫在清季以考据观念，而治朱子之学，皆有所创获。</p><p>今此书作者取西洋哲学观念，以阐明紫阳之学，宜其成系统而多新解。然新儒家之产生，关于道教之方面，如新安之学说，其所受影响甚深且远.自来述之者皆无惬意之作。近日当盘大定推论儒道之关系，所说甚繁，（《东洋文库本》）仍多未能解决之问题。盖道藏之秘籍，迄今无专治之人，而晋、南北朝、隋、唐、五代数百年间，道教变迁传衍之始末，及其与儒佛二家互相关系之事实，尚有待于研究。此则吾国思想史上前修所遗之缺憾，更有俟于后贤追补者也。</p><p>南北朝时即有儒释道三教之目；（北周卫元嵩撰《齐三教论》七卷「。」见《旧唐书？「肆柒」经籍志「下」》）至李唐之世，遂成固定之制度。如国家有庆典，则召集三教之学士「，」讲论于殿廷，是其一例。故自晋至今，言中国之思想，可以儒释道三教代表之。此虽通俗之谈，然稽之旧史之事实，验以今世之人情，则三教之说，要为不易之论。儒者在古代本为典章学术所寄托之专家。李斯受荀卿之学，佐成秦治。秦之法制实儒家一派学说之所附系「击」。《中庸》之”车同轨，书同文，行同伦”，（即太史公所谓：”至始皇乃能并冠带之伦”之伦）为儒家理想之制度，而于秦始皇之身而得以实现之也。汉承秦业，其官制法律亦袭用前朝。遗传至晋以后，法律与礼经并称，儒家《周官》之学说悉采「采」入法典。夫政治社会一切公私行动莫不与法典相关，而法典为儒家学说具体之实现。</p><p>故二千年来华夏民族所受儒家学说之影响最深最巨「巨」者，实在制度法律公私生活之方面；而关于学说思想之方面，或转有不如佛道二教者。如六朝士大夫号称旷达，而夷考其实，往往笃孝义之行，严家讳之禁，此皆儒家之教训，固无预于佛老之玄风者也。释迦之教义，无父无君，与吾国传统之学说，存在之制度无一不相冲突。输入之后，若久不变易「，」则决难保持。是以佛教学说能于「于」吾国思想史上「，」发生重大久长之影响者，皆经国人吸收改造之过程。其忠实输入不改本来面目者，若玄奘唯识之学，虽震荡「动」一时之人心，而卒归于消沈歇绝。近虽有人焉，欲燃「然」其死灰；疑终不能复「复」振，「。」其故匪他，以性质与环境互相方圆凿枘，势不得不然也。</p><p>六朝以后之道教，包罗至广，演变至繁。不以儒教之偏重政治社会制度，故思想上尤易融贯吸收。凡新儒家之学说，似无不有道教或与道教有关之佛教为之先导。如天台「台」宗者，佛教宗派中道教意义最富之一宗也。（其创造者慧思所作誓愿文，最足表现其思想。至于北宋真宗时「，」日本传来之《大乘止观法门》一书，乃依据《大乘起信论》者。恐系华严宗盛后，天台「台」宗伪托南岳而作。故此书只可认为天台宗后来受华严宗影响之史料，而不能据以论南岳之思想也。）其宗徒梁敬之与李习之之关系，实启新儒家开创之动机.北宋之智圆提倡《中庸》，甚至以僧徒而号中庸子，并自为传以述其义.（孤山（（闲居编））其年代犹在司马君实作《中庸广义》之前。（孤山卒于宋真宗干兴元年，年四十七）似亦于宋代新儒家为先觉.二者之间「，」其关系如何，且不详论。然举此一例，已足见新儒家产生之问题，犹有未发之覆在也。至道教对输入之思想，如佛教摩尼教等，无不尽量吸收。然仍不忘其本来民族之地位。既融成一家之说以后，则坚持夷夏之论，以排斥外来之教义。此种思想上之态度，自六朝时亦已如此。虽似相反，而实足以相成。从来新儒家即继承此种遗业而能大成者。</p><p>窃疑中国自今日以后，即使能忠实输入北美或东欧之思想，其结局当亦等于玄奘唯识之学，在吾国思想史上既不能居最高之地位，且亦终归于歇绝者。其真能于思想上自成系统，有所创获者，必须一方面吸收输入外来之学说，一方面不忘本来民族之地位。此二种相反而适相成之态度，乃道教之真精神，新儒家之旧途径，而二千年吾民族与他民族思想接触史之所诏「昭」示者也。</p><p>寅恪平生为不古不今之学，思想囿于咸丰同治之世，议论近乎（曾）湘乡（张）南皮之间，承审查此书，草此报告，陈述所见，殆所谓”以新瓶而装旧酒”者。诚知旧酒味酸，而人莫肯售酤，姑注于新瓶之底，以求一尝，可乎？</p><h2 id="评论"><a href="#评论" class="headerlink" title="评论"></a>评论</h2><p>引自_<a href="http://3y.uu456.com/bp_5opgu1y1l485bn78adio_1.html" target="_blank" rel="external">“了解之同情”与陈寅恪的治史方法</a>_，作者：<strong>桑兵</strong></p><p>1930年代，陈寅恪先后为冯友兰著《中国哲学史》上下册撰写审查报告，不仅助成其出版，有利于提升该书的学术地位以及冯友兰的学术声望，同时两篇审查报告本身也成为近代学术批评史上的经典之作，并在相当程度上体现了陈寅恪本人的学术思想，因而吸引后来学人的不断解读。人们一方面努力读懂陈寅恪对冯友兰《中国哲学史》上下两册评价的真意，以确定冯著在近代中国学术发展史上的定位；另一方面，则试图从中找出陈寅恪自己治史方法的恰当表述，以便悬为高的，追摹仿效。不过，仔细研读陈寅恪的文字，重审已有的各种议论，总觉得或有所出入，或言犹未尽，不尽当意。深究陈寅恪对冯著的看法，所重仍在探测陈寅恪本人的史法。只是陈的心思细密，上述相互关联的两方面本意，不易从各种文献记载的字面直接解读出来，理想取径，还是以彼之道，还诸彼身，即借重陈寅恪的办法，考察其本人的言行，或许能至虽不中亦不远的境界。至于外行以为作古之人，无法复验，实不知史学的奥妙所在，很难心领神会，并不在本文言说的对象之内。</p><h3 id="取西洋哲学观念"><a href="#取西洋哲学观念" class="headerlink" title="取西洋哲学观念"></a><strong>取西洋哲学观念</strong></h3><p>要想通过陈寅恪的审查报告探究其治学方法，前提当然是理解审查报告对于冯友兰著作的真实看法。冯友兰的《中国哲学史》上下册相继出版于1931和1934年，陈寅恪受清华大学出版委员会之托，先后对两书进行审查并撰写了审查报告，上册的审查报告还于1931年3月先期发表于《学衡》杂志第74期。两书的审查均获得通过，予以出版。虽然另外还有其他审查人，陈寅恪的意见无疑至关重要。而且，从制度上看，清华大学出版委员会只有在所有审查人意见基本一致的情况下，才能通过报审著作。其间钱穆的《先秦诸子系年》完稿，经顾颉刚介绍，申请列入清华丛书，即因列席审查者三人意见分歧，未获通过。由此可见，冯著能够出版，至少须陈寅恪口头表态赞成，或是审查委员会从陈的书面报告中接收到正面的信息。</p><p>依照规定，陈寅恪在两篇审查报告的开头，即分别明确表示肯定，并同意出版。前一篇说：“窃查此书，取材谨严，持论精确，允宜列入清华丛书，以贡献于学界。”后一篇进而申述：“此书上册寅恪曾任审查，认为取材精审，持论正碻。自刊布以来，评论赞许，以为实近年吾国思想史之有数著作，而信寅恪前言之非阿私所好。今此书继续完成，体例宗旨，仍复与前册一贯。允宜速行刊布，以满足已读前册者之希望，而使清华丛书中得一美备之著作。”</p><p>据此断定陈寅恪完全赞同冯友兰该著述的观点及做法，应是学人从审查报告中索解陈寅恪本人治学方法的重要理据。只是这样的判断似嫌过于简单，未必符合陈的本意。有学人已经注意到，两篇审查报告的褒贬不尽相同，下篇的批评意向尤其明显。十几年前本人撰文论述陈寅恪与中国近代史研究，也有如下意见：</p><p>陈寅恪对大约同时送审并获得通过的冯友兰《中国哲学史》下册不无微辞。叶公超宴会上，他于表彰未获通过的钱著的同时，“又论哲学史，以为汉魏晋一段甚难”。这显然针对冯著下册而言。细读其审查报告，上册褒意明显，而下册贬辞时现。虽称下册“于朱子之学，多所发明”，实则作者“取西洋哲学观念，以阐明紫阳之学，宜其成系统而多新解”。陈认为秦以后思想演变“只为一大事因缘，即新儒学之产生，及其传衍而已”，而冯著于新儒家产生之问题，犹有未发之覆在，而且为数不少，相当关键，则下册出版，与上册相较，于中国哲学史的形式备则备矣，内容却未必美。况且这种“取西洋哲学观念，以阐明紫阳之学”的做法，是否真能“自成系统，有所创获”，还要看其“吸收输入外来之学说”与“不忘本来民族之地位”的“相反而适相成之态度”如何。就此而论，冯著恐怕有偏于今之嫌，与陈寅恪的见解不相凿枘，难逃愈有条理系统、去事实真相愈远之讥。</p><p>这些褒贬之意，仔细阅读审查报告，可以从字里行间琢磨体会出来。陈寅恪在下册审查报告开始明确表示同意出版之后，紧接着说：“寅恪于审查此书之余，并略述所感，以求教正。”他认为：</p><p>中国自秦以后，迄于近日，其思想之演变历程，至繁至久。要之，只为一大事因缘，即新儒学之产生，及其传衍而已。此书于朱子之学，多所发明。昔阎百诗在清初以辨伪观念，陈兰甫在清季以考据观念，而治朱子之学，皆有所创获。今此书作者，取西洋哲学观念，以阐明紫阳之学，宜其成系统而多新解。</p><p>这些话看似仍在称许书的作者，可是笔锋一转，陈寅恪提出：</p><p>然新儒家之产生，关于道教之方面，如新安之学说，其所受影响甚深且远，自来述之者，皆无惬意之作。近日常盘大定推论儒道之关系，所说甚繁（东洋文库本），仍多未能解决之问题。盖道藏之秘籍，迄今无专治之人，而晋南北朝隋唐五代数百年间，道教变迁传衍之始末及其与儒佛二家互相关系之事实，尚有待于研究。此则吾国思想史上前修所遗之缺憾，更有俟于后贤之追补者也。南北朝时，即有儒释道三教之目，（北周卫元嵩撰齐三教论七卷。见旧唐书四七经籍志下。）至李唐之世，遂成固定之制度。如国家有庆典，则召集三教之学士，讲论于殿廷，是其一例。故自晋至今，言中国之思想，可以儒释道三教代表之。此虽通俗之谈，然稽之旧史之事实，验以今世之人情，则三教之说，要为不易之论。儒者在古代本为典章学术所寄托之专家。李斯受荀卿之学，佐成秦治。秦之法制实儒家一派学说之所附系。中庸之“车同轨，书同文，行同伦。”（即太史公所谓‘至始皇乃能并冠带之伦’之‘伦’）为儒家理想之制度，而于秦始皇之身，而得以实现之也。汉承秦业，其官制法律亦袭用前朝。遗传至晋以后，法律与礼经并称，儒家周官之学说悉采入法典。夫政治社会一切公私行动，莫不与法典相关，而法典为儒家学说具体之实现。故二千年来华夏民族所受儒家学说之影响，最深最巨者，实在制度法律公私生活之方面，而关于学说思想之方面，或转有不如佛道二教者。如六朝士大夫号称旷达，而夷考其实，往往笃孝义之行，严家讳之禁。此皆儒家之教训，固无预于佛者之玄风者也。释迦之教义，无父无君，与吾国传统之学说，存在之制度，无一不相冲突。输入之后，若久不变易，则绝难保持。是以佛教学说，能于吾国思想史上，发生重大久远之影响者，皆经国人吸收改造之过程。其忠实输入不改本来面目者，若玄奘唯识之学，虽震动一时之人心，而卒归于消沉歇绝。近虽有人焉，欲然其死灰，疑终不能复振。其故匪他，以性质与环境互相方圆凿枘，势不得不然也。</p><p>陈寅恪陈述所见的这一大段话，虽然自谦新瓶装旧酒，其实是在相辅相成的两大问题上表明态度观念，不仅与冯著立异，尤其与时流有别，相当关键。相对于冯著，可谓批评商榷，相对于时流，可谓纲领宣言。这两大问题，一是中国自秦以来思想演变历程的大事因缘，二是对待外来学说的立场态度。</p><p>陈寅恪认为中国秦以来思想演变历程的大事因缘，即为新儒学的产生及其传衍。这一被胡适指为正统观的意见，体现着陈寅恪对中国历史文化全面而深刻的观察，尤其是以宋代为中心的中国历史文化发展的高峰期，究竟应该如何探究、理解和呈现。要想体察陈寅恪审查报告的本意，除完整细读报告文本之外，还须与其他记述多方参证比勘，了解其何以要如此说，以免看似直入文本，实则但凭己意，妄加揣度。</p><p>其实，陈寅恪关于中国思想文化的这一套观念，由来已久。早在留美期间，他就曾对吴宓详细阐述。所论对于理解冯著下册审查报告的意思，有着重要的参考作用。陈寅恪对宋代的思想学术文艺，情有独钟，估价极高，并对“新宋学”抱有殷切期待。但其一生治学，上自魏晋，下迄明清，唯独宋代几乎没有直接下手。今日治宋史，多以分科训练、断代眼光，将宋代仅仅视为历朝历代之一部分，进而局限于分门别类的专题研究，如果背后全然没有“讲宋学”的关怀和境界，则所治宋史，充其量不过廿四史之一节，很难显示宋代作为中国思想文化的高峰地位及其内涵，对于宋代的社会政治等等方面的理解把握，也就难以得其所哉。而要达到陈寅恪心中的“新宋学”那样的高度，必须超越近代以来分科断代的局限，尤其是分门别类的专题研究的狭隘，沟通古今中外的所有相关知识系统,将秦以后思想演变的大事因缘条理贯通，这对学人的智慧功力无疑是巨大考验。</p><p>历史研究，无疑都是后人看前事，用后来观念观照解释历史上的文本史事，无可奈何，难以避免。但要防止先入为主的成见，尽量约束主观，以免强古人以就我。如何把握1931年清华大学成立20周年纪念时陈寅恪所提出的准则—“具有统系与不涉傅会”，至关重要，难度极高。这不仅因为后人所处时代、环境及其所得知识，与历史人物迥异，而且由于这些知识经过历来学人的不断变换强化，很难分清后来认识与历史本事的分界究竟何在。近代以来，中西新旧，乾坤颠倒，体用关系，用夷变夏，已成大势所趋。陈寅恪称冯著下册“于朱子之学，多所发明”，而这些发明，实际上是“取西洋哲学观念，以阐明紫阳之学”。虽然陈寅恪称许“宜其成系统而多新解”，实则对于用域外系统条理本国材料，一直有所保留。</p><p>1933年4月，浦江清曾对朱自清谈及：“今日治中国学问皆用外国模型，此事无所谓优劣，惟如讲中国文学史，必须用中国间架，不然则古人苦心俱抹杀矣。即如比兴一端，无论合乎真实与否，其影响实大，许多诗人之作，皆着眼政治，此以西方间架论之，即当抹杀矣。”这多少反映了陈寅恪的看法。只是无所谓优劣，其实还是有所分别。陈寅恪曾批评新派的文化史“失之诬”，因为“新派是留学生，所谓‘以科学方法整理国故’者。新派书有解释，看上去似很有条理，然甚危险”。</p><p>即使不得已而借鉴域外间架，也有相对而言适当与否的分别。1937年，陈寅恪与吴宓谈及：“熊十力之新唯识派，乃以Bergson（亨利·柏格森）之创化论解佛学。欧阳竟无先生之唯识学，则以印度之烦琐哲学解佛学，如欧洲中世耶教之有Scholasticism（经院哲学），似觉劳而少功，然比之熊君所说尤为正途确解也。”陈寅恪痛批《马氏文通》用印欧语系的文法施诸汉藏语系的中国语文，而主张用同系语文比较研究得一定的通则规律，道理亦在于此。</p><p>相比之下，冯友兰恐怕还不是用朱熹的态度办法，虽然他或许有此心；距离陈寅恪所主张的比较研究也相当遥远，而不免格义附会。1928年张荫麟指近今治中国思想史的通病，就是以现代自觉的统系比附古代断片的思想。这的确点到用后来域外观念系统解释中国古代固有思想学说事物的要害，而与陈寅恪所说大抵相通。所以陈在论述新儒家之产生及其传衍后，着重强调：</p><p>窃疑中国自今日以后，即使能忠实输入北美或东欧之思想，其结局当亦等于玄奘唯识之学，在吾国思想史上，既不能居最高之地位，且亦终归于歇绝者。其真能于思想上自成系统，有所创获者，必须一方面吸收输入外来之学说，一方面不忘本来民族之地位。此二种相反而适相成之态度，乃道教之真精神，新儒家之旧途径，而二千年吾民族与他民族思想接触史之所昭示者也。</p><p>在陈寅恪所处的时代，这样的主张显然不合时流。时至今日，在与国际接轨对话等等时髦导向下，用外国模型治中国学问，愈演愈烈，几乎成为天经地义，理所当然。似乎不如此则不入流，实际则演变成以负贩为创新、甚至不过搬弄连自己也不明所以的名词概念的恶习。尽管如此削足适履，太阿倒持，挟洋自重，若以熟悉域外中国研究状况的余英时教授所说，“20世纪以来，中国学人有关中国学术的著作，最有价值的都是最少以西方观念作比附的”此一说法为准则尺度，检验包括冯友兰《中国哲学史》在内的一切中国人有关中国学术的著作，能够经受检验的恐怕为数不多。</p><p>此外，1926年，本来对学哲学抱有很大兴趣的傅斯年，向昔日的老师、打算重写一部《中国古代哲学史》的胡适直言不讳地表达不同意见，声称自己将来可能写“中国古代思想集叙”。在他看来，中国历代分别有方术、玄学、佛学、理学的历史，没有一以贯之的哲学史，各史均须还原到当时的历史联系之中，而不能抽离某些元素加入其他时期的同类史。</p><p>傅斯年针对胡适《中国哲学史大纲》的弊病而发的议论，与陈寅恪后来在《冯友兰中国哲学史上册审查报告》中的批评立意相近。傅斯年早年并不反对哲学，而且留学欧洲的目的之一，便是学习哲学，其间幡然醒悟，坚决排斥用哲学观念观察描述中国思想的历史，很可能受到陈寅恪的影响。只是鉴于可以像朱熹那样取珠还椟，陈寅恪没有绝对反对使用哲学的概念。</p><h3 id="了解之同情"><a href="#了解之同情" class="headerlink" title="了解之同情"></a><strong>了解之同情</strong></h3><p>对于冯友兰的《中国哲学史》下册，陈寅恪审查报告褒贬的倾向比较明显。相比之下，上册审查报告的意思有些难以捉摸。十年前本人所写《陈寅恪与中国近代史研究》，虽然正文肯定上册褒意明显，注释里还是点出“于字里行间也有所不满”。只是这样的不以为然之意，周折隐晦，不易察觉。</p><p>陈寅恪在《冯友兰中国哲学史上册审查报告》中说：</p><p>凡著中国古代哲学史者，其对于古人之学说，应具了解之同情，方可下笔。盖古人著书立说，皆有所为而发。故其所处之环境，所受之背景，非完全明了，则其学说不易评论，而古代哲学家去今数千年，其时代之真相，极难推知。吾人今日可依据之材料，仅为当时所遗存最小之一部，欲藉此残余断片，以窥测其全部结构，必须备艺术家欣赏古代绘画雕刻之眼光及精神，然后古人立说之用意与对象，始可以真了解。所谓真了解者，必神游冥想，与立说之古人，处于同一境界，而对于其持论所以不得不如是之苦心孤诣，表一种之同情，始能批评其学说之是非得失，而无隔阂肤廓之论。否则数千年前之陈言旧说，与今日之情势迥殊，何一不可以可笑可怪目之乎？</p><p>今人据此多以为陈寅恪本人的治史态度和方法，亦为了解之同情。此说并非全无道理。严耕望认为：“论者每谓，陈寅恪先生考证史事，‘能以小见大’。……此种方法似乎较为省力，但要有天分与极深学力，不是一般人都能运用，而且容易出毛病。”主张用人人都可以做到的“聚小为大”之法，即“聚集许多似乎不相干的琐碎材料、琐小事例，加以整理、组织，使其系统化，讲出一个大问题，大结论”。在谈及考证学的述证与辩证两类别、两层次时，严耕望又进一步详述：</p><p>述证的论著只要历举具体史料，加以贯串，使史事真相适当的显露出来。此法最重史料搜集之详赡，与史料比次之缜密，再加以精心组织，能于纷繁中见条理，得出前所未知的新结论。辩证的论著，重在运用史料，作曲折委蛇的辨析，以达成自己所透视所理解的新结论。此种论文较深刻，亦较难写。考证方法虽有此两类别、两层次，但名家论著通常皆兼备此两方面，惟亦各有所侧重。寅恪先生的历史考证侧重后者，往往分析入微，证成新解，故其文胜处往往光辉灿然，令人叹不可及。但亦往往不免有过分强调别解之病，学者只当取其意境，不可一意追摩仿学；浅学之士若一意追摩，更可能有走火入魔的危险。援庵先生长于前者，故最重视史料搜集，至以‘竭泽而渔’相比况。故往往能得世所罕见，无人用过的史料，做出辉煌的成绩……前辈学人成绩之无懈可击，未有逾于先生者。其重要论著，不但都能给读者增加若干崭新的历史知识，而且亦易于追摩仿学。</p><p>如此归纳分别，的确可以在陈寅恪的著述中找到证据。如在冯著上册审查报告的末尾，陈寅恪将了解之同情“更推论及于文艺批评”，所举例“如纪晓岚之批评古人诗集，辄加涂抹，诋为不通。初怪其何以狂妄至是，后读清高宗御制诗集，颇疑其有所为而发。此事固难证明，或亦间接与时代性有关，斯又利用材料之别一例也”。由此可见其“曲折委蛇的辨析”往往出人意料、甚至匪夷所思之一斑。</p><p>可是，陈寅恪在讲述对于古人之学说应具了解之同情的意思之后，紧接着说了以下一段话：</p><p>但此种同情之态度，最易流于穿凿傅会之恶习。因今日所得见之古代材料，或散佚而仅存，或晦涩而难解，非经过解释及排比之程序，绝无哲学史之可言。然若加以联贯综合之搜集及统系条理之整理，则著者有意无意之间，往往依其自身所遭际之时代，所居处之环境，所薰染之学说，以推测解释古人之意志。由此之故，今日之谈中国古代哲学者，大抵即谈其今日自身之哲学者也。所著之中国哲学史者，即其今日自身之哲学史者也。其言论愈有条理统系，则去古人学说之真相愈远。</p><p>这一层意思，学人虽然间有引述，一般却不是与前文相联系，而是彼此割裂，变成毫不相干、截然相反的两种观念，从而失去本意的全貌。前后连贯来看，陈寅恪的意思其实相当清楚，就是认为了解之同情“最易流于穿凿傅会之恶习”，因而不仅不主张使用，甚至认为一般不可用。否则非但不能理解古人，反而可能南辕北辙，愈有条理统系，去古人学说真相愈远。</p><p>陈寅恪的这一态度，与其对于不同历史时段史料遗存的多寡之于史学的关系，以及清代民国学术状况的看法密切相关。在此前后，陈寅恪有一系列相关言论文字，可以相互佐证。1930年代，他告诉听课的学生：“研上古史，证据少，只要能猜出可能，实甚容易。因正面证据少，反证亦少。近代史不难在搜辑材料，事之确定者多，但难在得其全。中古史之难，在材料之多不足以确证，但有时足以反证，往往不能确断。”1940年代仍然坚持道：“上古去今太远，无文字记载，有之亦仅三言两语，语焉不详，无从印证。加之地下考古发掘不多，遽难据以定案。画人画鬼，见仁见智，曰朱曰墨，言人人殊，证据不足，孰能定之？中古以降则反是，文献足征，地面地下实物见证时有发见，足资考订，易于著笔，不难有所发明前进。至于近现代史，文献档册，汗牛充栋，虽皓首穷经，迄无终了之一日，加以地下地面历史遗物，日有新发现，史料过于繁多，几无所措手足。”所以王钟翰认为：“是知先生治史以治中古史为易于见功力之微旨，非以上古与近现代史为不可专攻也。”</p><p>后来陈寅恪的研究时段下移到明清之际，虽然格于身世，没有继续下探，但也就家世相关，对晚清史料史事多有解读。其著述凸显中古重制度、晚近重人事的分别，且为将中古研究的成功经验移治晚近历史开辟途径。而在上古部分，前引吴宓日记可见陈寅恪对于先秦典籍史事确有深入认识，却从未发表直接的学术文字。不仅如此，1935年，他在为陈垣《元西域人华化考》所作序言中，还公开声言：“寅恪不敢观三代两汉之书，而喜谈中古以降民族文化史。”</p><p>陈寅恪的如此说法，除有心与清儒立异之外，不满于清代以来的学术风尚当为要因。他针对“有清一代经学号称极盛，而史学则远不逮宋人”的情形评议道：</p><p>独清代之经学与史学，俱为考据之学，故治其学者，亦并号为朴学之徒。所差异者，史学之材料大都完整而较备具，其解释亦有所限制，非可人执一说，无从判决其当否也。经学则不然，其材料往往残阙而又寡少，其解释尤不确定，以谨愿之人，而治经学，则但能依据文句各别解释，而不能综合贯通，成一有系统之论述。以夸诞之人，而治经学，则不甘以片段之论述为满足。因其材料残阙寡少及解释无定之故，转可利用一二细微疑似之单证，以附会其广泛难征之结论。其论既出之后，固不能犁然有当于人心，而人亦不易标举反证以相诘难。譬诸图画鬼物，苟形态略具，则能事已毕，其真状之果肖似与否，画者与观者两皆不知也。往昔经学盛时，为其学者，可不读唐以后书，以求速效。声誉既易致，而利禄亦随之，于是一世才智之士，能为考据之学者，群舍史学而趋于经学之一途。其谨愿者，既止于解释文句，而不能讨论问题。其夸诞者，又流于奇诡悠谬，而不可究诘。……今日吾国治学之士，竞言古史，察其持论，间有类乎清季夸诞经学家之所为者。</p><p>诚如章太炎所说，上古历史“世次疏阔，年月较略，或不可以质言”，而学者“好其多异说者，而恶其少异说者，是所谓好画鬼魅，恶图犬马也”。研治古文字、古史和考古等，文学想象力丰富与逻辑推理能力强者易于建功，即因为材料缺漏太多，非充分想象和推理，难以寻出史事的联系脉络。可是合理联想与夸诞附会的分界，不过一线之间，要拿捏把握得当，相当困难。所谓不观先秦典籍，实际是不愿为但凭猜测揣度、难以确证的学问，以免图画鬼物。照此看来，即使神游冥想之下，于古人持论的苦心孤诣真能具某种了解同情，也只不过是猜出可能，见仁见智。这岂是欲将史学做到像生物学、地质学那样精确的陈寅恪治学追求的理想境界？</p><p>细读陈寅恪的冯著上册审查报告，可见其只是在两方面相对于学界的时趋而给予有条件的肯定，所针对的问题为：其一，整理国故的乱象。陈寅恪明指“其言论愈有条理统系，则去古人学说之真相愈远”的表现，首当其冲的就是：“此弊至今日之谈墨学而极矣。今日之墨学者，任何古书古字，绝无依据，亦可随其一时偶然兴会，而为之改移，几若善博者能呼卢成卢，喝雉成雉之比。此近日中国号称整理国故之普通状况，诚可为长叹息者也。今欲求一中国古代哲学史，能矫附会之恶习，而具了解之同情者，则冯君此作庶几近之。”虽然清以来由经入子已成趋势，但诸子研究至孙诒让，文本语义大体完成。近代诸子学大盛，破除经学独尊地位之外，主要由于容易附会各种西洋学说，可以反复解释。整理国故主张以西洋系统条理中国材料，看似有条理，其实甚危险，更加一发而不可收拾。有感于此，陈寅恪认为与整理国故呼卢喝雉的劣习恶风相比，冯友兰的了解同情确有可取之处。</p><p>其二，古史辨的偏蔽。对于当时已成显学的古史辨，据说陈寅恪在弟子面前一度有积极的评议，可是语境不详，真意未必如弟子所领会。而从明文可据的审查报告看，陈寅恪其实相当不以为然，他说：</p><p>以中国今日之考据学，已足辨别古书之真伪。然真伪者，不过相对问题，而最要在能审定伪材料之时代及作者，而利用之。盖伪材料亦有时与真材料同一可贵。如某种伪材料，若径认为其所依托之时代及作者之真产物，固不可也。但能考其作伪时代及作者，即据以说明此时代及作者之思想，则变为一真材料矣。中国古代史之材料，如儒家及诸子等经典，皆非一时代一作者之产物。昔人笼统认为一人一时之作，其误固不俟论。今人能知其非一人一时之所作，而不知以纵贯之眼光，视为一种学术之丛书，或一宗传灯之语录，而龂龂致辩于其横切方面。此亦缺乏史学之通识所致。而冯君之书，独能于此别具特识，利用材料，此亦应为表彰者也。</p><p>以此为准，古史辨的态度做法，缺乏史学通识，只能横切，不知纵贯。尤其是但求所记上古史事的真伪，而忽略不同时期记述变化的时代相关性及其对于后世的影响，同样是历史演进的重要内容；似乎人人有意作伪，实则因为利害关系等等不同，当事各人的记录亦有所分别，传衍变化，自然各异，不宜看朱成碧，甚至指鹿为马。相比之下，冯著能够分别利用，毕竟技高一筹。</p><p>时至今日，陈寅恪对整理国故和古史辨的批评，不仅没有失去时效，反而更加切中时弊，捧读之下，令人感慨万千。不过，以如此谨慎保留的评议，对于冯友兰的著作固然还可以说是褒奖，但要视为陈寅恪本人治学方法的表述，恐怕就不止是勉强了。</p><h3 id="宋贤治史之法"><a href="#宋贤治史之法" class="headerlink" title="宋贤治史之法"></a><strong>宋贤治史之法</strong></h3><p>声言不敢治经和不能读先秦之书的陈寅恪，虽然一生从未写过上古经史的相关论著，无法直接展现其取径和方法，但在为友人所写序跋中，还是表达了相当明确的意见，从中可以揣摩领悟其对于研治上古经史的理念。</p><p>1939年，陈寅恪为刘文典《庄子补正》作序，内称：</p><p>先生之作，可谓天下之至慎矣。其著书之例，虽能确证其有所脱，然无书本可依者，则不之补。虽能确证其有所误，然不详其所以致误之由者，亦不之正。故先生于庄子一书，所持胜义犹多蕴而未出，此书殊不足以尽之也。或问曰，先生此书，谨严若是，将无矫枉过正乎？寅恪应之曰，先生之为是，非得已也。今日治先秦子史之学，著书名世者甚众。偶闻人言，其间颇有改订旧文，多任己意，而与先生之所为大异者。寅恪平生不能读先秦之书，二者之是非，初亦未敢遽判。继而思之，尝亦能读金圣叹之书矣。其注水浒传，凡所删易，辄曰，“古本作某，今依古本改正。”夫彼之所谓古本者，非神州历世共传之古本，而苏州金人瑞胸中独具之古本也。由是言之，今日治先秦子史之学，与先生所为大异者，乃以明清放浪之才人，而谈商周邃古之朴学。其所著书，几何不为金圣叹胸中独具之古本，转欲以之留赠后人，焉得不为古人痛哭耶？然则先生此书之刊布，盖将一匡当世之学风，示人以准则，岂仅供治庄子者之所必读而已哉？</p><p>受宋以来疑古辨伪之风的影响，清代学人校勘经子史书，好擅改字，流风所被，至今遗毒不绝。今人校勘近代文献，也往往好以己意改字。殊不知今人以为不通者，本来恰好可通。而所校改以符合今意后，反而有碍于当时的原意。刘文典《庄子补正》一书价值究竟如何，学界尚有不同看法。陈寅恪所写序言虽然仅仅谈及文本的校勘，实则于如何理解古人著述的本意，以及如何防止用后来己意妄加揣度各节，至关重要。若“以明清放浪之才人，而谈商周邃古之朴学”的态度，势必图画鬼物，纵有著述，不过野狐禅而已。</p><p>与陈寅恪沟通较深的傅斯年撰写《性命古训辨证》，讲性、命二字的古训，用法国、德国学者常用的“以语言学观念解释一个思想史的问题”的方法，探究理解古人思想之道，并借鉴清人“求其古以求其是”之说。如何“求其古”，显然神游冥想以表同情并非良法，要理解古人的微言大义，别有佳径。在陈寅恪看来，堪称典范者当属杨树达。治学必须有所凭借，“自昔长于金石之学者，必为深研经史之人，非通经无以释金文，非治史无以证石刻。群经诸史，乃古史资料多数之所汇集，金文石刻则其少数脱离之片段，未有不了解多数汇集之资料，而能考释少数脱离之片段不误者。先生平日熟读三代两汉之书，融会贯通，打成一片。故其解释古代佶屈聱牙晦涩艰深之词句，无不文从字顺，犁然有当于人心”。尤其是1948年杨树达作《论语疏证》，为陈寅恪所推许，并代为总结其方法：</p><p>先生治经之法，殆与宋贤治史之法冥会，而与天竺诂经之法，形似而实不同也。夫圣人之言，必有为而发，若不取事实以证之，则成无的之矢矣。圣言简奥，若不采意旨相同之语以参之，则为不解之谜矣。既广搜群籍，以参证圣言，其言之矛盾疑滞者，若不考订解释，折衷一是，则圣人之言行，终不可明矣。今先生汇集古籍中事实语言之于论语有关者，并间下己意，考订是非，解释疑滞，此司马君实李仁甫长编考异之法，乃自来诂释论语者所未有，诚可为治经者辟一新途径，树一新楷模也。天竺佛藏，其论藏别为一类外，如譬喻之经，诸宗之律，虽广引圣凡行事，以证释佛说，然其文大抵为神话物语，与此土诂经之法大异。……南北朝佛教大行于中国，士大夫治学之法，亦有受其薰习者。寅恪尝谓裴松之三国志注，刘孝标世说新书注，郦道元水经注，杨衒之洛阳伽蓝记等，颇似当日佛典中之合本子注。然此诸书皆属乙部，至经部之著作，其体例则未见有受释氏之影响者。惟皇侃论语义疏引论释以解公冶长章，殊类天竺譬喻经之体。殆六朝儒学之士，渐染于佛教者至深，亦尝袭用其法，以诂孔氏之书耶？但此为旧注中所仅见，可知古人不取此法以诂经也。盖孔子说世间法，故儒家经典，必用史学考据，即实事求是之法治之。彼佛教譬喻诸经之体例，则形虽似，而实不同，固不能取其法，以释儒家经典也。</p><p>取事实证言论，搜群籍相参证，继以考订解释，可以明圣人之言行。此即宋代司马光等人的长编考异之法。陈寅恪和傅斯年均认为，中国史学发达最早，且程度极高，而中国史学莫盛于宋，元明清治史者之学识均不逮宋。希望复兴宋代学术，建立新宋学，使华夏民族文化再度枝叶扶疏，亭亭如车盖，庇荫学人。</p><p>为此，早在1920年代末，两人就曾议论专做宋史研究之事，可是一度协商，却无下文。后来陈寅恪谈及研治宋史之难，慨叹《宋史》于诸正史中，卷帙最为繁多。数百年来，很少有人真能熟读，更加谈不到探索根据，比较同异，藉为改创之资。除了材料繁复一点外，若以秦以后思想演变的大事因缘为纲领脉络，研治宋史之难，材料的繁复芜杂应当还在其次，根本问题是要以宋代为中国历史的大关节，而不能仅以为数十朝兴衰存亡之一代。用断代史的眼光办法研治宋史，不可能达到应有的高度。</p><p>陈寅恪反复指出的宋贤治史与天竺诂经之法的分别及联系，所谓形似而实不同，主要是指佛藏与儒经分别面向出世与世间，因而合本子注与长编考异，一重神话物语，一重人间事实。若就形式和方法而言，二者可谓异曲同工。依据陈寅恪《陈述辽史补注序》所论，长编考异或许受合本子注的影响，至少精神与之相通。</p><p>参合上述，陈寅恪所主张的治学方法，实为宋贤治史的长编考异之法，此法也就是陈寅恪研治两汉以下历代国史的基本办法。根据研治对象和运用范围的差异，这一基本取径方法有所变化。杨树达用以诂经，所获得到陈寅恪的赞许，尽管陈本人鉴于上古材料不足，声称不治两汉以上经史，心目中的良法依然在此。了解同情的前提，假定人同此心，心同此理，所以能够古今中外，心心相印。而长编考异的依据，在于历史不可重复，只会演化，所以史学于比较中着重见异，而非求同。这也就是治史不宜归纳，必须贯通的理据。</p><p>长编考异于比较异同中寻绎历史因时空改变而发生的衍化，以及无限延伸的事实联系，以求达到贯通的境界。与之形似实异的合本子注，不仅研治佛经内典的文本行之有效，而且适用于各种文献的文本比较。如此，即便陈寅恪的治史方法可以概括为辩证，其基础还是述证。没有坚实的述证，前后左右，无限贯通，辩证难免流于臆测甚至瞎猜。所以“以小见大”的高明见识背后，还是“聚小为大”的深厚功力。此法于解读陈寅恪本人的文字，同样相当有效。</p><p>除“合本”外，还有“格义”，合本、格义形似而实异。从比较研究的角度，陈寅恪曾对“格义”大加挞伐，其《与刘叔雅论国文试题书》，不仅从比较语言学的角度痛批《马氏文通》，指为“何其不通如是”，还对附会中外学说的格义式比较提出批评。不过，陈寅恪并非根本否定格义的积极意义，甚至对北宋以后援儒入释格义之流的理学评价极高。陈寅恪称许韩愈，主旨就是想说明“退之自述其道统传授渊源固由孟子卒章所启发，亦从新禅宗所自称者摹袭得来也”。</p><p>韩愈之后，宋代新儒家接续其事业，一方面吸收输入外来之学说，一方面不忘本来民族之地位，所以真能于思想上自成系统，有所创获。所以陈寅恪对韩愈、朱熹等唐宋大儒推崇备至。相比之下，取西洋哲学观念解释中国古代思想，往往导致格义附会，非但无助于理解领悟古人思想，反而陷入愈有条理系统，去事实真相愈远的尴尬，或是流于西洋哲学的附庸。而善用格义之学，借鉴西洋哲学观念，重新理解吸收古人思想，形成今日所需的哲学，而不是编织“哲学”进入中国之前的“中国哲学史”，求珠还椟，面向未来，或可继宋代之后，进一步丰富提升中华民族形而上的抽象思维，再创思想的新高。犹如经学之于上古，固然须疑古辨伪，以求渊源流变，但不能因此否定经学对于理解两汉以下中国社会的重要作用，三纲六纪，仍是中国文化的关键。而现代“中国哲学”能否如宋儒的“理学”，各领风骚数百年，则是对今日有志于“哲学”的学人天赋与努力的极好检验。</p><p>陈寅恪为冯友兰《中国哲学史》上下册所写的两篇审查报告，在相对于整理国故和古史辨等学界时趋的偏蔽有条件地肯定冯著的同时，表达了其关于上古和宋代历史文化以及哲学研究的不同看法，并略及方法。与其他记述相参照，可见“了解之同情”并非陈寅恪本人治史方法的表述。其研治经史，首重长编考异；内典文献，则取形似而实不同的合本子注。至于古史、宋代研究和哲学创造，能否达到其所期许的高度，还有待于来者。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;原文&quot;&gt;&lt;a href=&quot;#原文&quot; class=&quot;headerlink&quot; title=&quot;原文&quot;&gt;&lt;/a&gt;原文&lt;/h2&gt;&lt;h3 id=&quot;《中国哲学史》上册审查报告·陈寅恪&quot;&gt;&lt;a href=&quot;#《中国哲学史》上册审查报告·陈寅恪&quot; class=&quot;headerlink&quot; title=&quot;《中国哲学史》上册审查报告·陈寅恪&quot;&gt;&lt;/a&gt;&lt;strong&gt;《中国哲学史》上册审查报告·陈寅恪&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;窃查此书，取材谨严，持论精确，允宜列入清华丛书，以贡献于学界。&lt;/p&gt;
&lt;p&gt;兹将其优点概括言之：凡着中国古代哲学史者，其对于古人之学说，应具了解之同情，方可下笔。盖古人著书立说，皆有所为而发；故其所处之环境，所受之背景，非完全明了，则其学说不易评论。而古代哲学家去今数千年，其时代之真相，极难推知。吾人今日可依据之材料，仅当时所遗存最小之一部；欲藉此残余断片，以窥测其全部结构，必须备艺术家欣赏古代绘画雕刻之眼光及精神，然后古人立说之用意与对象，始可以真了解。所谓真了解者，必神游冥想，与立说之古人，处于同一境界，而对于其持论所以不得不如是之苦心孤诣，表一种之同情，始能批评其学说之是非得失，而无隔阂肤廓之论。否则数千年前之陈言旧说，与今日之情势迥殊，何一不可以可笑可怪目之乎？但此种同情之态度，最易流于穿凿傅会之恶习；因今日所得见之古代材料，或散佚而仅存，或晦涩而难解，非经过解释及排比之程序，绝无哲学史之可言。然若加以联贯综合之搜集，及统系条理之整理，则著者有意无意之间，往往依其自身所遭际之时代，所居处之环境，所熏染之学说，以推测解释古人之意志。&lt;/p&gt;
    
    </summary>
    
      <category term="文學" scheme="https://yumuzi.github.io/categories/%E6%96%87%E5%AD%B8/"/>
    
    
      <category term="陳寅恪" scheme="https://yumuzi.github.io/tags/%E9%99%B3%E5%AF%85%E6%81%AA/"/>
    
      <category term="馮友蘭" scheme="https://yumuzi.github.io/tags/%E9%A6%AE%E5%8F%8B%E8%98%AD/"/>
    
      <category term="中國哲學史" scheme="https://yumuzi.github.io/tags/%E4%B8%AD%E5%9C%8B%E5%93%B2%E5%AD%B8%E5%8F%B2/"/>
    
  </entry>
  
  <entry>
    <title>盖世奇才陈寅恪：公子的公子，教授之教授</title>
    <link href="https://yumuzi.github.io/chenyinke.html"/>
    <id>https://yumuzi.github.io/chenyinke.html</id>
    <published>2017-11-30T09:46:40.000Z</published>
    <updated>2017-11-30T10:08:02.748Z</updated>
    
    <content type="html"><![CDATA[<p>转载自<a href="http://wemedia.ifeng.com/21640371/wemedia.shtml" target="_blank" rel="external">历史研习社 · 盖世奇才陈寅恪：公子的公子，教授之教授</a></p><p><strong>文丨老鹰</strong></p><h2 id="收获人生中第四等爱情"><a href="#收获人生中第四等爱情" class="headerlink" title="收获人生中第四等爱情"></a><strong>收获人生中第四等爱情</strong></h2><p>1926年，清华园的过道上走来了一个被学生戏称为“相貌稀奇古怪的纯粹国货式的老先生，他里面穿着皮袍，外面罩以蓝布大褂、青布马褂，头上带着一顶两旁有遮耳的皮帽，腿上盖着棉裤，足下登着棉鞋，右手抱着一个蓝布大包袱，走路一高一下……</p><p>别看他在生活上不修边幅，对教书这件事却有着宗教般的虔诚和仪式感。去课堂授课，他不但用双层布缝制的包袱皮包裹着那些线装书，而且还把包袱皮的颜色根据书的种类区分开来，佛经、禅宗的书一定是用黄包袱皮包着，其他课程的书则用蓝包袱皮，非常精心细致。</p><p>他叫陈寅恪，字鹤寿，湖南长沙人，祖籍福建上杭。都说富不过三代，而寅恪一门，却三代尽得风流。他的祖父陈宝箴是清末著名的政治家、思想家，父亲陈三立是清朝著名爱国诗人，清末“四公子”之一。</p><a id="more"></a><p>说是老先生，可能是打扮上，陈寅恪来到清华园时，只有36岁，就与梁启超、王国维一同应聘为研究院的导师，并称“清华三巨头”。</p><p>虽然陈寅恪长期游学欧美，学问博大精深，但在国内却是“无名望，无著作、无学位”的“三无”学人。</p><p>陈先生的侄子陈封雄曾问他：“您在国外留学十几年，为什么没有得个博士学位?”陈先生回答：“考博士并不难，但两三年内被一个专题束缚住，就没有时间学其他知识了。只要能学到知识，有无学位并不重要。”</p><p>他对学生们说：“前人讲过的，我不讲；近人讲过的，我不讲；外国人讲过的，我不讲；我自己过去讲过的，也不讲。现在只讲未曾有人讲过的。”</p><p>由此，清华园的师生很快就折服于陈寅恪的学识。每每他开课，慕名前去的学生挤满了教室，常常还有别的教授过来旁听。因其身出名门，而又学识过人，“北大舵手”郑天挺教授赞誉陈寅恪是“公子的公子，教授之教授”。</p><p>在当时的史学界，陈寅恪的学问可以说是最高峰，会十几种语言，研究贯穿文史，每有见解必不凡俗。</p><p>当年陈寅恪名篇《王观堂先生挽辞》，就发表在吴宓主持的《学衡》杂志上。《学衡》还刊登过陈寅恪《与妹书》、《与刘叔雅教授论国文考试题》。鲁迅把吴宓骂得狗血淋头，对陈寅恪的“古董”文章却很难得地保持着沉默。不知道是因为与陈寅恪家族友好的原因，还是学力不逮、不敢妄评，反正终生未见微词，这在脾气不好的鲁迅来说，几乎是一个特例。</p><p>当年的华北学术界分成两派，一派是本国培养的学者，另一派是有留学经历的。</p><p>本土派认为，洋派不懂国情，你的学问再高，也是隔靴搔痒，解决不了中国问题。留洋派就觉得本土派太迂腐，眼光太狭，不掌握现代化的工具，因而两派互相瞧不起。但不管是哪一派，谁都不敢瞧不起陈寅恪，这在学术界堪称传奇。</p><p>陈寅恪虽然不解风情，却曾对友人吴宓阐述过非常独特的“五等爱情论”：</p><p>第一，情之最上者，世无其人，悬空设想，而甘为之死，如《牡丹亭》之杜丽娘是也；</p><p>第二，与其人交识有素，而未尝共衾枕者次之，如宝、黛是也；</p><p>第三，曾一度枕席而永久纪念不忘，如司棋与潘又安；</p><p>第四，又次之，则为夫妇终身而无外遇者；</p><p>第五，最下者，随处接合，惟欲是图，而无所谓情矣。</p><p>他关于“娶老婆”的一些言论也广为人知：“学德不如人，此实吾之大耻；娶妻不如人，又何耻之有？”“娶妻仅生涯中之一事，小之又小者耳。轻描淡写，得便了之可也。”</p><p>在他看来，如果志向不在学术和事业上，而一心只求得娇妻美妾，是很愚蠢的事情。</p><p>正因为如此，他一直不把婚姻大事放在心上。父亲陈三立从好言催促，到厉声警告“尔若不娶，吾即代尔聘定。”</p><p>然而爱情总会在不经意间悄悄降临。</p><p>一次闲谈中，同事偶然提到曾在一位女教师家中，看到墙上悬挂的诗幅末尾署名“南注生”，他不知“南注生”是何人，特向陈寅恪请教。</p><p>陈寅恪略显吃惊，沉吟一会儿说：“此人定是灌阳唐景崧的孙女，住在何处？我要去登门拜访。”</p><p>唐景崧曾任台湾巡抚，在中法战争中屡建功勋，是位爱国将领。她的孙女唐筼自小读书，毕业于金陵女校体育专业，后执教于北京女高师，曾是许广平的老师。</p><p>因母亲难产去世，唐筼自幼便随着养母去了苏州，后又来到天津的北洋女师。因养母任北洋女师范学堂的舍监，唐筼随之入学，成为班上年龄最小的学生之一。</p><p>她能诗会画，能唱会跳，书画水平据说曾得多位大家赏识。</p><p>经同事的介绍，陈寅恪与唐筼相约在中央公园里见面。在公园里等候的唐筼细心地发现，远远走过来的这个人走路的姿势微跛。</p><p>在谈话中，陈寅恪告诉她：自己的足部有多处鸡眼、胼胝，这与早年留学时经常穿着不合脚的硬皮鞋有关。</p><p>她被他的学识和真诚打动了，两个人相见恨晚。很快便举行了婚礼，收获了他口中的第四等爱情。</p><p>当时陈寅恪三十八岁，唐筼三十岁，即便放到当今时代，也足以称得上是：剩男剩女了。</p><p><img src="https://github.com/yumuzi/images/raw/master/20171130_chenyinke_01.jpeg" alt="陈寅恪全家福"></p><h2 id="辗转飘零中见真爱"><a href="#辗转飘零中见真爱" class="headerlink" title="辗转飘零中见真爱"></a><strong>辗转飘零中见真爱</strong></h2><p>唐筼婚前不识柴米，但作为一个书呆子的妻子，她只好学着下厨、养花、种菜、带孩子，协调大家庭的人际关系。</p><p>唐筼在大女儿出生时，原先的心膜炎诱发为心脏病，几乎撒手人世。</p><p>1937年，日寇发动全面侵华战争。覆巢之下焉有完卵，陈寅恪一家也同所有难民一样开始了一段艰难岁月。</p><p>离京前，他将一批重要书籍装进书箱，托友人寄往长沙。待他半个月后到了长沙，书籍尚未邮到，可战火已经逼近，临时大学再迁云南，他只好携一家大小再次登程南下。待他离开后，书籍邮到，却在长沙大火中一本无存，给了他非常大的打击。</p><p>他们拖着三个孩子，大的九岁，小的才四个月，由北平、天津、长沙、梧州，最后漂泊到香港。其间在济南车站上车时，一家人是从车窗口爬进去的，其狼狈之状惨不堪言。</p><p>在香港的岁月，陈寅恪还坚持在云南西南联大教书。唐筼在香港心脏病复发，幸得许地山援手才得以获救。但因经济窘迫，他们一家居无定所，四年内迁家六次。</p><p>1939年春天，英国牛津大学向陈寅恪伸出了橄榄枝，聘请他去做汉学教授。是年夏，陈寅恪来到香港和妻女会合，准备迁往英国。</p><p>不巧的是，逢二战全面爆发，他也只能滞留在香港“孤岛”上。</p><p>1941年12月太平洋战争爆发，日本人占领香港以后，当时生活物质极端困窘，有日本学者写信给军部，要他们不可麻烦陈教授，军部行文香港司令，司令派宪兵队照顾陈家，送去好多袋面粉，但 宪兵往屋里搬，他们夫妻往外拖，就是不吃敌人的面粉。后来，香港日人以日金四十万元强付陈寅恪办东方文化学院，陈寅恪坚决拒绝。</p><p>随后只好带全家仓促逃离香港，先后辗转任教广西大学、成都燕京大学。</p><p>哪里料到，全家返回内地途中，两木箱随身携带的书籍又遭盗窃。据说这是两箱更加珍贵的书籍，所以这一次打击更大，等于多年心血彻底付诸东流，令陈先生精神几达崩溃。</p><p><img src="https://github.com/yumuzi/images/raw/master/20171130_chenyinke_02.jpeg" alt=""></p><h2 id="她是他的眼"><a href="#她是他的眼" class="headerlink" title="她是他的眼"></a><strong>她是他的眼</strong></h2><p>战争环境中的颠沛流离，物质生活困顿，劳作辛苦，陈寅恪眼疾日益恶化。</p><p>此时，他的右眼已经视网膜剥落而失明，左眼也仅剩一点点微弱视力。成都电力供应不足，灯光昏暗，又时不时停电，陈寅恪备课与写作都十分吃力，就连学生的考试分数，也只能让大女儿流求帮忙誊到成绩单的表格中。</p><p>然而就是在这样的目光朦胧之中，他竟然先后出版了《隋唐制度渊源论稿》、《唐代政治史论稿》。</p><p>每天上课，他都先在黑板上写好要讲的重点，然后坐到椅子上，闭着眼睛开始讲课。他在课上也叫学生朗读课文，哪怕读错一个字，都必须停下重读。再小的脱漏也逃不过陈寅恪的耳朵，那些文章典籍就像长在他心里一样。</p><p>1944年12月12日，成都的清晨雾浓阴冷，陈寅恪突然眼前漆黑，什么都看不见了。</p><p>这时候他想到的第一件事，竟是打发大女儿流求赶紧去通知学生今天上不了课了。</p><p>原来左眼视网膜也剥落了，在存仁医院住院期间，学生们轮流在病房值班照顾，让陈寅恪大为感动。他对前来探望的燕京大学代理校长梅贻宝说：“未料你们教会学校，倒还师道犹存。”</p><p>1945年，陈寅恪手术失败，遭遇人生最大的打击，双目失明了。</p><p>1946年4月，重返清华园新林院53号，陈寅恪已是盲人教授。校长梅贻琦劝他休养一阵，陈寅恪不从，“不教书怎么能叫教书匠？”</p><p>学生早早来坐好，等助手黄萱敲钟，穿好长衫，戴好帽子的陈寅恪就拄着拐杖慢慢走到藤椅前坐下，开始讲课。</p><p>壮年目盲，陈寅恪顿时陷入生不如死的痛苦中，唐筼拖着病体温柔体贴地安抚丈夫身心的创痛，照顾饮食起居，打理家务，查阅资料，诵读报纸，并承揽家中书信的回复。</p><p>胡适在日记中写道： 寅恪遗传甚厚，读书甚细心，工力甚精，为我国史学界一大重镇，今两目都废，真是学术界一大损失。</p><p>为给体弱的陈寅恪增加营养，唐筼买来一只怀胎的黑山羊，母羊生下小羊后，她学着挤奶。挤满一碗羊奶，她已头昏目眩。</p><p>漫天硝烟的流离乱世，他们数度搬家，但只要稍得喘息，她就会把家布置得温馨安适，柏树为篱，植两株能结子的葡萄藤，篱下栽一畦瓜果，点两行扁豆，搭一架简易牵牛花架。</p><p>据其女儿的回忆，唐筼除了“照顾失明的父亲生活起居外，还担负起书记官的任务，随时记录父亲要写的书信、诗作等”。在香港时完成的《唐代政治史略稿》，就是两人共同誊写的，前半部分为唐筼誊写，后半部分为陈寅恪所写。</p><p>陈寅恪经常对女儿说：“我们家里头，你可以不尊重我，但是不能不尊重你们的母亲。”“妈妈是主心骨，没有她就没有这个家，没有她就没有我们，所以我们大家要好好保护妈妈。”</p><p>1951年在广州岭南大学时，陈寅恪的助手以身体欠佳为由不辞而别，为了不影响正常授课，唐筼担当起助教的工作，找文献，查资料，记笔录，诵读，直到1952年助手黄萱来到才暂时告一段落。</p><p>1953年，郭沫若以学界领导人的身份邀陈寅恪进京一同共事，陈寅恪拒绝了，很使郭沫若感到不舒服，于是公开宣布要在不长的时间内 在资料的占有上超过陈寅恪。</p><p>陈寅恪可以“不问秦汉”地治史论学，但郭沫若却不能不屑陈寅恪的存在，从而使被尊为“新史学”权威的郭沫若与被称为“旧史 学”权威的陈寅恪，形成了一种无形相对峙的态势。</p><p>1962年，陈寅恪在家洗漱时不慎摔倒，导致右腿股骨骨折。更糟糕的是，随后的保守治疗导致其股骨再也无法长合，此后余生只能长卧于床上。陈寅恪暮年曾对身边的人说：“一个人没有了眼睛等于没有了百分之五十的生命，没有了腿，等于连另外的百分之五十也少了一半。”中年瞽目，暮年膑足，命运带给一个自负、自傲与清高的生命，是怎样的一种凌辱！</p><p>在那段风雨漂摇、贫病交加的岁月，唐筼亲历亲为，甘为丈夫遮风避雨。她以孱弱的身躯抵挡密集的箭矢，为他争得一片稍可喘息的空间，而自己的心脏病也日趋严重。</p><p>失明之后，陈寅恪仍坚苦卓绝，锲而不舍，穷十年岁月，用口述的方式，完成了85万字的《柳如是别传》。有时为了第二天一个要修改的小地方，陈寅恪一夜都不敢睡，一直牢牢记着，直到助手黄萱第二天清晨来叩门。</p><p>一个双目失明的人在十余年的瞽者生涯里写出近百万字的著述，这在古今中外学术史上都是一个奇迹。</p><p>黄萱曾感慨地说：“寅师以失明的晚年，不惮辛苦、经之营之，钧稽沉隐，以成此稿（即《柳如是别传》）。其坚毅之精神，真有惊天地、泣鬼神的气概。”</p><p>他视妻子为生命中的第一知己，每完成一部著作，都请她题写封面。不轻易赞许人的陈寅恪，也不禁为她写下“织素心情还置酒，然脂功状可封侯”的诗句。</p><p><img src="https://github.com/yumuzi/images/raw/master/20171130_chenyinke_03.jpeg" alt=""></p><h2 id="生死相依亦相随"><a href="#生死相依亦相随" class="headerlink" title="生死相依亦相随"></a><strong>生死相依亦相随</strong></h2><p>与失明相比，陈寅恪晚年的命运就更让人揪心了。1966年，已经无法下床的陈寅恪，没能逃过一场旷世的劫难。</p><p>“文革”开始，陈寅恪被扣上诸多高帽子：“牛鬼蛇神”、“封建余孽”、“死不改悔的走资派”。</p><p>陈家居住的校园内东南区一号楼被大字报覆盖，远远望去如同一口巨大的白色棺材，望之令人恐怖惊悚。接下来，大字报由楼外糊到了室内，门脸、衣柜、床头，甚至陈寅恪的衣服上皆由大字报贴盖。面对此情，唐筼曾发出了“人还没死，已先开吊了”的哀怨。</p><p>面对如此境况，这个双目失明的瘫痪老人已经无法下地，不能动弹，只能被抬着出去批斗。</p><p>刘节时任中山大学历史系主任时，每年春节都要去老师陈寅恪家里叩头行礼。学生要斗争陈寅恪，刘节拦住，大呼：“我是他的学生，他身上有的毒，我身上都有，斗我就行了！千万别斗他！”刘节于是自愿代寅恪受批斗。红卫兵问刘有什么感想，刘答道：“能替恩师受批斗，是我一生的光荣。”</p><p>不久陶铸被批斗，红卫兵问他为什么庇护寅恪，陶正色回答：“你们如果有陈寅恪的水平，我也那样对待你们。”</p><p>唐筼伸出干瘦的臂膀，守护着他，守护着风雨飘摇的家。他的各种“声明”“抗议书”，所有“交代材料”，全出自她的手笔。</p><p>她深知丈夫的价值，不希望他垮下去，竭力搀扶着、鼓励着他。</p><p>陈寅恪发牢骚：“人间从古伤离别，真信人间不自由。”</p><p>她便化解道：“秋星若解兴亡意，应解人间不自由。”</p><p>后来，他们一家被扫地出门，迁至一所四面透风的平房居住。此时，“寂寞销魂人”的陈寅恪，衰弱得只能进一点汤水类的流食。凄凉无助中，夫妻相对而泣。而唐筼的心脏病日趋严重，几近瘫痪，又屡屡被“革命小将”乱拳打倒在地。</p><p>陈寅恪本来就严重失眠，晚年更是疾病缠身，在长达两年左右时间里，平时就要靠安眠药帮助入睡的陈寅恪被四面八方的高音喇叭所包围。造反派每当召开批斗会，便将几只高音喇叭直接吊在陈宅的屋前屋后，有时甚至将小喇叭吊到陈寅恪的床前，说是“让反动学术权威听听革命群众的愤怒控诉”。</p><p>陈寅恪肉体和精神上的痛苦可以想见，他以煎熬着的残病之躯挺立着，超越了生理的极限。</p><p>面对着爱妻，陈寅恪认为她可能将先于自己而去，故怜夫人之悲苦、叹命运之不公，留下了生命中最后一曲挽歌《挽晓莹》：</p><p>涕泣对牛衣，卌（xī，四十）载都成肠断史。 废残难豹隐，九泉稍待眼枯人。</p><p>1969年10月7日，陈寅恪走了。弥留之际，他一言不发，只是眼角有泪不断流淌。</p><p>陈寅恪死后，唐筼出奇地平静，甚至没流下一滴泪。</p><p>她没有让他等多久，四十五天后，她追随他而去。她有严重的心脏病，大半生靠药物维系生命，停药十余日，生命就可结束。</p><p>陈寅恪与唐筼相继逝世后，二人的骨灰先是寄存火葬场，后寄存银河公墓，因“文革”问题一直未能真正平反，各地政府不愿接受寅恪先生的遗骨。</p><p>直到2003年才与夫人合葬于江西庐山植物园，是为陈寅恪墓，墓碑旁一大石上由著名画家黄永玉镌刻陈寅恪终生恪守的“独立之精神，自由之思想”。从此，一代国学大师在去世24年后终于入土为安。</p><p>胡适在1937年2月22日的日记中写道：“寅恪治史学，当然是今日最渊博、最有识见、最能用材料的人。”</p><p>季羡林那时还是专修德文的学生，也选修了陈寅恪的“佛经翻译文学”，他回忆道：“读他的文章，听他的课，简直是一种享受，无法比拟的享受。”</p><p>北京大学代校长傅斯年说：“陈先生的学问，近三百年来一人而已。”</p><p>胡适对他评价：“陈寅恪治史学，当然是今日最渊博、最有识见、最能用材料的人。”</p><p>狂人刘文典教授对陈寅恪推崇备至，说西南联大只有两个半教授，陈寅恪排第一。</p><p>梁启超甚至说：我梁某算是著作等身了，但总共著作还不如陈先生寥寥数百字有价值。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;转载自&lt;a href=&quot;http://wemedia.ifeng.com/21640371/wemedia.shtml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;历史研习社 · 盖世奇才陈寅恪：公子的公子，教授之教授&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;文丨老鹰&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;收获人生中第四等爱情&quot;&gt;&lt;a href=&quot;#收获人生中第四等爱情&quot; class=&quot;headerlink&quot; title=&quot;收获人生中第四等爱情&quot;&gt;&lt;/a&gt;&lt;strong&gt;收获人生中第四等爱情&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;1926年，清华园的过道上走来了一个被学生戏称为“相貌稀奇古怪的纯粹国货式的老先生，他里面穿着皮袍，外面罩以蓝布大褂、青布马褂，头上带着一顶两旁有遮耳的皮帽，腿上盖着棉裤，足下登着棉鞋，右手抱着一个蓝布大包袱，走路一高一下……&lt;/p&gt;
&lt;p&gt;别看他在生活上不修边幅，对教书这件事却有着宗教般的虔诚和仪式感。去课堂授课，他不但用双层布缝制的包袱皮包裹着那些线装书，而且还把包袱皮的颜色根据书的种类区分开来，佛经、禅宗的书一定是用黄包袱皮包着，其他课程的书则用蓝包袱皮，非常精心细致。&lt;/p&gt;
&lt;p&gt;他叫陈寅恪，字鹤寿，湖南长沙人，祖籍福建上杭。都说富不过三代，而寅恪一门，却三代尽得风流。他的祖父陈宝箴是清末著名的政治家、思想家，父亲陈三立是清朝著名爱国诗人，清末“四公子”之一。&lt;/p&gt;
    
    </summary>
    
      <category term="文學" scheme="https://yumuzi.github.io/categories/%E6%96%87%E5%AD%B8/"/>
    
    
      <category term="陳寅恪" scheme="https://yumuzi.github.io/tags/%E9%99%B3%E5%AF%85%E6%81%AA/"/>
    
  </entry>
  
  <entry>
    <title>當前比較實用的同步盤簡介</title>
    <link href="https://yumuzi.github.io/cloud-drive.html"/>
    <id>https://yumuzi.github.io/cloud-drive.html</id>
    <published>2017-11-11T11:51:00.000Z</published>
    <updated>2017-11-11T12:45:13.447Z</updated>
    
    <content type="html"><![CDATA[<p>本文介紹的是能夠在不同設備之間進行文件同步的“同步盤”，而非百度網盤一類僅能夠存儲文件的雲盤，特此說明。隨著快盤等一眾同步盤的關閉，國內免費實用的同步盤幾乎全軍覆沒，為此本文僅介紹幾家國外的同步盤，供大家參考。</p><h2 id="MEGAsync1"><a href="#MEGAsync1" class="headerlink" title="MEGAsync1"></a>MEGAsync<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup></h2><p>Mega同步盤擁有50G的免費存儲空間，目前其<a href="https://mega.nz/" target="_blank" rel="external">官網</a>已無法訪問，但桌面客戶端和手機APP仍然可用。若要使用需在官網註冊賬號，註冊頁面<a href="https://mega.nz/register" target="_blank" rel="external">傳送門</a>。</p><p>推薦指數：★★★★☆</p><h2 id="OneDrive2"><a href="#OneDrive2" class="headerlink" title="OneDrive2"></a>OneDrive<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup></h2><p>OneDrive同步盤擁有5G的免費存儲空間，目前其<a href="https://onedrive.live.com/" target="_blank" rel="external">官網</a>已無法訪問，但桌面客戶端和手機APP仍然可用，而且同步速度極快。作為微軟的一款應用，若要使用僅需申請一個微軟郵箱即可，<a href="https://outlook.live.com/owa/" target="_blank" rel="external">Outlook</a>, <a href="https://signup.live.com/signup?lcid=1033&amp;wa=wsignin1.0&amp;rpsnv=13&amp;ct=1510402856&amp;rver=6.7.6640.0&amp;wp=MBI_SSL&amp;wreply=https%3a%2f%2foutlook.live.com%2fowa%2f%3fnlp%3d1%26signup%3d1%26RpsCsrfState%3d2227d956-70ea-518a-dd2c-1c5c73b155b9&amp;id=292841&amp;CBCXT=out&amp;lw=1&amp;fl=dob%2cflname%2cwld&amp;cobrandid=90015&amp;uaid=4cff0e2ac93c4106b3446ee8d2ca7ffb&amp;lic=1" target="_blank" rel="external">Hotmail</a>。</p><p>推薦指數：★★★★★</p><a id="more"></a><h2 id="Google-Drive3"><a href="#Google-Drive3" class="headerlink" title="Google Drive3"></a>Google Drive<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup></h2><p>GoogleDrive是谷歌旗下的一款同步盤，擁有15G的免費存儲空間，是一款非常優秀的同步盤應用，與谷歌的其它服務結合使用，能很大程度上提高工作效率。但由於谷歌於2010年退出中國大陸，故其服務已無法訪問。其使用與OneDrive類似，需要申請一個<a href="https://mail.google.com/" target="_blank" rel="external">Gmail</a>郵箱。</p><p>推薦指數：★★★★</p><h2 id="Dropbox4"><a href="#Dropbox4" class="headerlink" title="Dropbox4"></a>Dropbox<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup></h2><p>Dropbox提供2G免費存儲空間，其最大的特點是增量同步，無需將整個文件重新上傳，節省流量資源和時間，但其服務國內無法訪問。</p><p>推薦指數：★★★★</p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;"><a href="https://mega.nz/" target="_blank" rel="external">Mega.nz</a></span><a href="#fnref:1" rev="footnote"> ↩</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;"><a href="https://onedrive.live.com/" target="_blank" rel="external">Microsoft OneDrive</a></span><a href="#fnref:2" rev="footnote"> ↩</a></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">3.</span><span style="display: inline-block; vertical-align: top;"><a href="https://www.google.com/drive/" target="_blank" rel="external">Google Drive</a></span><a href="#fnref:3" rev="footnote"> ↩</a></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">4.</span><span style="display: inline-block; vertical-align: top;"><a href="https://www.dropbox.com/" target="_blank" rel="external">Dropbox</a></span><a href="#fnref:4" rev="footnote"> ↩</a></li></ol></div></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文介紹的是能夠在不同設備之間進行文件同步的“同步盤”，而非百度網盤一類僅能夠存儲文件的雲盤，特此說明。隨著快盤等一眾同步盤的關閉，國內免費實用的同步盤幾乎全軍覆沒，為此本文僅介紹幾家國外的同步盤，供大家參考。&lt;/p&gt;
&lt;h2 id=&quot;MEGAsync1&quot;&gt;&lt;a href=&quot;#MEGAsync1&quot; class=&quot;headerlink&quot; title=&quot;MEGAsync1&quot;&gt;&lt;/a&gt;MEGAsync&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/h2&gt;&lt;p&gt;Mega同步盤擁有50G的免費存儲空間，目前其&lt;a href=&quot;https://mega.nz/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官網&lt;/a&gt;已無法訪問，但桌面客戶端和手機APP仍然可用。若要使用需在官網註冊賬號，註冊頁面&lt;a href=&quot;https://mega.nz/register&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;傳送門&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;推薦指數：★★★★☆&lt;/p&gt;
&lt;h2 id=&quot;OneDrive2&quot;&gt;&lt;a href=&quot;#OneDrive2&quot; class=&quot;headerlink&quot; title=&quot;OneDrive2&quot;&gt;&lt;/a&gt;OneDrive&lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;#fn:2&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/h2&gt;&lt;p&gt;OneDrive同步盤擁有5G的免費存儲空間，目前其&lt;a href=&quot;https://onedrive.live.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官網&lt;/a&gt;已無法訪問，但桌面客戶端和手機APP仍然可用，而且同步速度極快。作為微軟的一款應用，若要使用僅需申請一個微軟郵箱即可，&lt;a href=&quot;https://outlook.live.com/owa/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Outlook&lt;/a&gt;, &lt;a href=&quot;https://signup.live.com/signup?lcid=1033&amp;amp;wa=wsignin1.0&amp;amp;rpsnv=13&amp;amp;ct=1510402856&amp;amp;rver=6.7.6640.0&amp;amp;wp=MBI_SSL&amp;amp;wreply=https%3a%2f%2foutlook.live.com%2fowa%2f%3fnlp%3d1%26signup%3d1%26RpsCsrfState%3d2227d956-70ea-518a-dd2c-1c5c73b155b9&amp;amp;id=292841&amp;amp;CBCXT=out&amp;amp;lw=1&amp;amp;fl=dob%2cflname%2cwld&amp;amp;cobrandid=90015&amp;amp;uaid=4cff0e2ac93c4106b3446ee8d2ca7ffb&amp;amp;lic=1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hotmail&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;推薦指數：★★★★★&lt;/p&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="同步盤" scheme="https://yumuzi.github.io/tags/%E5%90%8C%E6%AD%A5%E7%9B%A4/"/>
    
      <category term="雲盤" scheme="https://yumuzi.github.io/tags/%E9%9B%B2%E7%9B%A4/"/>
    
      <category term="mega" scheme="https://yumuzi.github.io/tags/mega/"/>
    
      <category term="onedrive" scheme="https://yumuzi.github.io/tags/onedrive/"/>
    
      <category term="googledrive" scheme="https://yumuzi.github.io/tags/googledrive/"/>
    
      <category term="dropbox" scheme="https://yumuzi.github.io/tags/dropbox/"/>
    
  </entry>
  
  <entry>
    <title>Windows系統下安裝Hexo博客及配置NexT模板</title>
    <link href="https://yumuzi.github.io/windows-hexo-next.html"/>
    <id>https://yumuzi.github.io/windows-hexo-next.html</id>
    <published>2017-11-05T09:53:23.000Z</published>
    <updated>2017-11-07T13:54:07.640Z</updated>
    
    <content type="html"><![CDATA[<p>Ubuntu系統下Hexo博客及NexT模板的安裝與配置請參考我的另外兩篇博文<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>, <sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>。</p><p>由於，網絡上此類文章多如牛毛，本文僅列出相關參考文檔。</p><h2 id="Hexo博客安裝"><a href="#Hexo博客安裝" class="headerlink" title="Hexo博客安裝"></a>Hexo博客安裝</h2><ul><li><a href="http://lowrank.science/Hexo-Github/" target="_blank" rel="external">知行合一 | 用 Hexo 搭建博客</a><sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup></li></ul><h2 id="NexT模板配置"><a href="#NexT模板配置" class="headerlink" title="NexT模板配置"></a>NexT模板配置</h2><ul><li>NexT模板下載地址：<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">hexo-theme-next</a></li><li><a href="http://theme-next.iissnan.com/theme-settings.html" target="_blank" rel="external">NexT官方手冊：主題配置</a></li><li><a href="http://theme-next.iissnan.com/faqs.html" target="_blank" rel="external">NexT官方手冊：常見問題</a></li><li><a href="https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html" target="_blank" rel="external">打造个性超赞博客Hexo+NexT+GithubPages的超深度优化</a><sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup></li><li><a href="http://www.ehcoo.com/seo.html" target="_blank" rel="external">【搜索优化】Hexo-next百度和谷歌搜索优化</a><sup id="fnref:5"><a href="#fn:5" rel="footnote">5</a></sup></li><li>文章底部添加版權聲明信息<sup id="fnref:6"><a href="#fn:6" rel="footnote">6</a></sup></li><li>修改文章底部那個帶#號的標籤<sup id="fnref:7"><a href="#fn:7" rel="footnote">7</a></sup></li></ul><a id="more"></a><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;"><a href="https://yumuzi.github.io/Hexo-Ubuntu-GithubPages/">Hexo-Ubuntu-GithubPages 搭建独立博客</a></span><a href="#fnref:1" rev="footnote"> ↩</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;"><a href="https://yumuzi.github.io/hexo-next-theme/">Hexo 博客 NexT 模板配置之记录</a></span><a href="#fnref:2" rev="footnote"> ↩</a></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">3.</span><span style="display: inline-block; vertical-align: top;">安裝過程相當完善，僅參考此一篇文章即可。</span><a href="#fnref:3" rev="footnote"> ↩</a></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">4.</span><span style="display: inline-block; vertical-align: top;">近乎完美的教程，非常推薦！</span><a href="#fnref:4" rev="footnote"> ↩</a></li><li id="fn:5"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">5.</span><span style="display: inline-block; vertical-align: top;">搜索優化，使用時有取捨。</span><a href="#fnref:5" rev="footnote"> ↩</a></li><li id="fn:6"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">6.</span><span style="display: inline-block; vertical-align: top;"><a href="http://www.crocutax.com/2017/05/20/Hexo%E6%8C%81%E7%BB%AD%E4%BC%98%E5%8C%96-%E5%9C%A8%E6%96%87%E7%AB%A0%E5%B0%BE%E9%83%A8%E6%B7%BB%E5%8A%A0%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E%E4%BF%A1%E6%81%AF/" target="_blank" rel="external">Hexo持续优化-在文章尾部添加版权声明信息</a></span><a href="#fnref:6" rev="footnote"> ↩</a></li><li id="fn:7"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">7.</span><span style="display: inline-block; vertical-align: top;"><a href="https://segmentfault.com/a/1190000009544924#articleHeader5" target="_blank" rel="external">hexo的next主题个性化配置教程</a></span><a href="#fnref:7" rev="footnote"> ↩</a></li></ol></div></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Ubuntu系統下Hexo博客及NexT模板的安裝與配置請參考我的另外兩篇博文&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;, &lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;#fn:2&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;由於，網絡上此類文章多如牛毛，本文僅列出相關參考文檔。&lt;/p&gt;
&lt;h2 id=&quot;Hexo博客安裝&quot;&gt;&lt;a href=&quot;#Hexo博客安裝&quot; class=&quot;headerlink&quot; title=&quot;Hexo博客安裝&quot;&gt;&lt;/a&gt;Hexo博客安裝&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://lowrank.science/Hexo-Github/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;知行合一 | 用 Hexo 搭建博客&lt;/a&gt;&lt;sup id=&quot;fnref:3&quot;&gt;&lt;a href=&quot;#fn:3&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;NexT模板配置&quot;&gt;&lt;a href=&quot;#NexT模板配置&quot; class=&quot;headerlink&quot; title=&quot;NexT模板配置&quot;&gt;&lt;/a&gt;NexT模板配置&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;NexT模板下載地址：&lt;a href=&quot;https://github.com/iissnan/hexo-theme-next&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;hexo-theme-next&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://theme-next.iissnan.com/theme-settings.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NexT官方手冊：主題配置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://theme-next.iissnan.com/faqs.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NexT官方手冊：常見問題&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;打造个性超赞博客Hexo+NexT+GithubPages的超深度优化&lt;/a&gt;&lt;sup id=&quot;fnref:4&quot;&gt;&lt;a href=&quot;#fn:4&quot; rel=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ehcoo.com/seo.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;【搜索优化】Hexo-next百度和谷歌搜索优化&lt;/a&gt;&lt;sup id=&quot;fnref:5&quot;&gt;&lt;a href=&quot;#fn:5&quot; rel=&quot;footnote&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;文章底部添加版權聲明信息&lt;sup id=&quot;fnref:6&quot;&gt;&lt;a href=&quot;#fn:6&quot; rel=&quot;footnote&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;修改文章底部那個帶#號的標籤&lt;sup id=&quot;fnref:7&quot;&gt;&lt;a href=&quot;#fn:7&quot; rel=&quot;footnote&quot;&gt;7&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="hexo" scheme="https://yumuzi.github.io/tags/hexo/"/>
    
      <category term="next" scheme="https://yumuzi.github.io/tags/next/"/>
    
      <category term="windows" scheme="https://yumuzi.github.io/tags/windows/"/>
    
      <category term="github" scheme="https://yumuzi.github.io/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>决策树与R语言</title>
    <link href="https://yumuzi.github.io/decisionTreeR.html"/>
    <id>https://yumuzi.github.io/decisionTreeR.html</id>
    <published>2016-12-12T15:20:05.000Z</published>
    <updated>2017-11-05T15:31:14.681Z</updated>
    
    <content type="html"><![CDATA[<h1 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h1><ul><li><a href="http://www.cnblogs.com/jpld/p/4868761.html" target="_blank" rel="external">【R语言进行数据挖掘】决策树和随机森林</a></li></ul><h1 id="使用包party"><a href="#使用包party" class="headerlink" title="使用包party"></a>使用包<code>party</code></h1><ul><li>学习使用包<code>party</code>里的函数<code>ctree()</code>为数据集iris建立一个决策树；</li><li>四个属性：<br>(1) 属性<code>Sepal.Length</code>：萼片长度<br>(2) 属性<code>Sepal.Width</code>：萼片宽度<br>(3) 属性<code>Petal.Length</code>：花瓣长度<br>(4) 属性<code>Petal.Width</code>：花瓣宽度</li><li>上述四个属性被用来预测鸢(yuan1)尾花的<code>Species</code>（种类）；</li><li>在这个包里，函数<code>ctree()</code>建立了一个决策树，函数<code>predict()</code>预测了另外一个数据集；</li><li>在建立模型之前，iris（鸢尾花）数据集被分成两个子集：训练集（70%）和测试集（30%）。使用随机种子设置固定的随机数，可以使得随机选取的数据是可重复利用的；</li></ul><hr><a id="more"></a><ul><li>观察数据集的结构</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt; str(iris)</div><div class="line"></div><div class="line"><span class="string">'data.frame'</span>:    <span class="number">150</span> obs. of  <span class="number">5</span> variables:</div><div class="line"> $ Sepal.Length: num  <span class="number">5.1</span> <span class="number">4.9</span> <span class="number">4.7</span> <span class="number">4.6</span> <span class="number">5</span> <span class="number">5.4</span> <span class="number">4.6</span> <span class="number">5</span> <span class="number">4.4</span> <span class="number">4.9</span> <span class="keyword">...</span></div><div class="line"> $ Sepal.Width : num  <span class="number">3.5</span> <span class="number">3</span> <span class="number">3.2</span> <span class="number">3.1</span> <span class="number">3.6</span> <span class="number">3.9</span> <span class="number">3.4</span> <span class="number">3.4</span> <span class="number">2.9</span> <span class="number">3.1</span> <span class="keyword">...</span></div><div class="line"> $ Petal.Length: num  <span class="number">1.4</span> <span class="number">1.4</span> <span class="number">1.3</span> <span class="number">1.5</span> <span class="number">1.4</span> <span class="number">1.7</span> <span class="number">1.4</span> <span class="number">1.5</span> <span class="number">1.4</span> <span class="number">1.5</span> <span class="keyword">...</span></div><div class="line"> $ Petal.Width : num  <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.4</span> <span class="number">0.3</span> <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.1</span> <span class="keyword">...</span></div><div class="line"> $ Species     : Factor w/ <span class="number">3</span> levels <span class="string">"setosa"</span>,<span class="string">"versicolor"</span>,..: <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="keyword">...</span></div></pre></td></tr></table></figure><ul><li>设置随机数起点</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; set.seed(<span class="number">1234</span>)</div></pre></td></tr></table></figure><ul><li>使用<code>sample()</code>函数抽取样本</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; ind &lt;- sample(<span class="number">2</span>,nrow(iris),replace=<span class="literal">TRUE</span>,prob = c(<span class="number">0.7</span>,<span class="number">0.3</span>))</div></pre></td></tr></table></figure><ul><li>训练集 &amp; 测试集</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; trainData &lt;- iris[ind == <span class="number">1</span>,]</div><div class="line">&gt; testData &lt;- iris[ind == <span class="number">2</span>,]</div></pre></td></tr></table></figure><ul><li>（安装并）加载包</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&gt; install.packages(<span class="string">"party"</span>)  <span class="comment"># 可能需要执行两遍</span></div><div class="line"></div><div class="line">&gt; <span class="keyword">library</span>(grid)</div><div class="line">&gt; <span class="keyword">library</span>(mvtnorm)</div><div class="line">&gt; <span class="keyword">library</span>(stats4)</div><div class="line">&gt; <span class="keyword">library</span>(modeltools)</div><div class="line">&gt; <span class="keyword">library</span>(zoo)</div><div class="line">&gt; <span class="keyword">library</span>(strucchange)</div><div class="line">&gt; <span class="keyword">library</span>(sandwich)</div><div class="line">&gt; <span class="keyword">library</span>(party)</div></pre></td></tr></table></figure><ul><li>设置决策树的目标变量和独立变量</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 符号‘~’是连接方程或公式左右两边的符号</span></div><div class="line">&gt; myFormula &lt;- Species ~ Sepal.Length + Sepal.Width + Petal.Length + Petal.Width</div></pre></td></tr></table></figure><ul><li>建立决策树</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; iris_ctree &lt;- ctree(myFormula, data=trainData)</div></pre></td></tr></table></figure><ul><li>查看训练结果</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&gt; table(predict(iris_ctree),trainData$Species)</div><div class="line"></div><div class="line">             setosa versicolor virginica</div><div class="line">  setosa         <span class="number">40</span>          <span class="number">0</span>         <span class="number">0</span></div><div class="line">  versicolor      <span class="number">0</span>         <span class="number">37</span>         <span class="number">3</span></div><div class="line">  virginica       <span class="number">0</span>          <span class="number">1</span>        <span class="number">31</span></div></pre></td></tr></table></figure><ul><li>打印决策树</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&gt; print(iris_ctree)</div><div class="line"></div><div class="line">     Conditional inference tree with <span class="number">4</span> terminal nodes</div><div class="line"></div><div class="line">Response:  Species </div><div class="line">Inputs:  Sepal.Length, Sepal.Width, Petal.Length, Petal.Width </div><div class="line">Number of observations:  <span class="number">112</span> </div><div class="line"></div><div class="line"><span class="number">1</span>) Petal.Length &lt;= <span class="number">1.9</span>; criterion = <span class="number">1</span>, statistic = <span class="number">104.643</span></div><div class="line">  <span class="number">2</span>)*  weights = <span class="number">40</span> </div><div class="line"><span class="number">1</span>) Petal.Length &gt; <span class="number">1.9</span></div><div class="line">  <span class="number">3</span>) Petal.Width &lt;= <span class="number">1.7</span>; criterion = <span class="number">1</span>, statistic = <span class="number">48.939</span></div><div class="line">    <span class="number">4</span>) Petal.Length &lt;= <span class="number">4.4</span>; criterion = <span class="number">0.974</span>, statistic = <span class="number">7.397</span></div><div class="line">      <span class="number">5</span>)*  weights = <span class="number">21</span> </div><div class="line">    <span class="number">4</span>) Petal.Length &gt; <span class="number">4.4</span></div><div class="line">      <span class="number">6</span>)*  weights = <span class="number">19</span> </div><div class="line">  <span class="number">3</span>) Petal.Width &gt; <span class="number">1.7</span></div><div class="line">    <span class="number">7</span>)*  weights = <span class="number">32</span></div></pre></td></tr></table></figure><ul><li>绘图</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;</span><span class="bash"> plot(iris_ctree)</span></div><div class="line"><span class="meta">&gt;</span><span class="bash"> plot(iris_ctree,<span class="built_in">type</span>=<span class="string">"simple"</span>)</span></div></pre></td></tr></table></figure><p><img src="https://github.com/yumuzi/images/raw/master/20161212_iris_dtc1.png" alt=""></p><p><img src="https://github.com/yumuzi/images/raw/master/20161212_iris_dtc2.png" alt=""></p><ul><li>在测试集上测试决策树模型</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; testPred &lt;- predict(iris_ctree, newdata = testData)</div><div class="line">&gt; table(testPred, testData$Species)</div><div class="line"></div><div class="line">testPred     setosa versicolor virginica</div><div class="line">  setosa         <span class="number">10</span>          <span class="number">0</span>         <span class="number">0</span></div><div class="line">  versicolor      <span class="number">0</span>         <span class="number">12</span>         <span class="number">2</span></div><div class="line">  virginica       <span class="number">0</span>          <span class="number">0</span>        <span class="number">14</span></div></pre></td></tr></table></figure><ul><li>代码汇总</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">str(iris)</div><div class="line">set.seed(<span class="number">1234</span>)</div><div class="line"></div><div class="line">ind &lt;- sample(<span class="number">2</span>,nrow(iris),replace=<span class="literal">TRUE</span>,prob = c(<span class="number">0.7</span>,<span class="number">0.3</span>))</div><div class="line">trainData &lt;- iris[ind == <span class="number">1</span>,]</div><div class="line">testData &lt;- iris[ind == <span class="number">2</span>,]</div><div class="line"></div><div class="line"><span class="keyword">library</span>(grid)</div><div class="line"><span class="keyword">library</span>(mvtnorm)</div><div class="line"><span class="keyword">library</span>(stats4)</div><div class="line"><span class="keyword">library</span>(modeltools)</div><div class="line"><span class="keyword">library</span>(zoo)</div><div class="line"><span class="keyword">library</span>(strucchange)</div><div class="line"><span class="keyword">library</span>(sandwich)</div><div class="line"><span class="keyword">library</span>(party)</div><div class="line"></div><div class="line">myFormula &lt;- Species ~ Sepal.Length + Sepal.Width + Petal.Length + Petal.Width</div><div class="line">iris_ctree &lt;- ctree(myFormula, data=trainData)</div><div class="line"></div><div class="line">table(predict(iris_ctree),trainData$Species)</div><div class="line"></div><div class="line">print(iris_ctree)</div><div class="line">plot(iris_ctree)</div><div class="line">plot(iris_ctree,type=<span class="string">"simple"</span>)</div><div class="line"></div><div class="line">testPred &lt;- predict(iris_ctree, newdata = testData)</div><div class="line">table(testPred, testData$Species)</div></pre></td></tr></table></figure><h1 id="使用包rpart"><a href="#使用包rpart" class="headerlink" title="使用包rpart"></a>使用包<code>rpart</code></h1><ul><li>在<code>bodyfat</code>这个数据集基础上建立决策树；</li><li>函数<code>rpart()</code>可以建立一个决策树，并且可以选择最小误差的预测；</li><li>利用该决策树使用<code>predict()</code>函数预测另外一个数据集；</li></ul><hr><ul><li>加载<code>bodyfat</code>数据集，并查看它的一些属性</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt; data(<span class="string">"bodyfat"</span>, package = <span class="string">"TH.data"</span>)</div><div class="line">&gt; dim(bodyfat)  <span class="comment"># 维度 a x b</span></div><div class="line"></div><div class="line">[<span class="number">1</span>] <span class="number">71</span> <span class="number">10</span></div></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&gt; attributes(bodyfat)</div><div class="line"></div><div class="line">$names</div><div class="line"> [<span class="number">1</span>] <span class="string">"age"</span>          <span class="string">"DEXfat"</span>       <span class="string">"waistcirc"</span>   </div><div class="line"> [<span class="number">4</span>] <span class="string">"hipcirc"</span>      <span class="string">"elbowbreadth"</span> <span class="string">"kneebreadth"</span> </div><div class="line"> [<span class="number">7</span>] <span class="string">"anthro3a"</span>     <span class="string">"anthro3b"</span>     <span class="string">"anthro3c"</span>    </div><div class="line">[<span class="number">10</span>] <span class="string">"anthro4"</span>     </div><div class="line"></div><div class="line">$row.names</div><div class="line"> [<span class="number">1</span>] <span class="string">"47"</span>  <span class="string">"48"</span>  <span class="string">"49"</span>  <span class="string">"50"</span>  <span class="string">"51"</span>  <span class="string">"52"</span>  <span class="string">"53"</span>  <span class="string">"54"</span>  <span class="string">"55"</span> </div><div class="line">[<span class="number">10</span>] <span class="string">"56"</span>  <span class="string">"57"</span>  <span class="string">"58"</span>  <span class="string">"59"</span>  <span class="string">"60"</span>  <span class="string">"61"</span>  <span class="string">"62"</span>  <span class="string">"63"</span>  <span class="string">"64"</span> </div><div class="line">[<span class="number">19</span>] <span class="string">"65"</span>  <span class="string">"66"</span>  <span class="string">"67"</span>  <span class="string">"68"</span>  <span class="string">"69"</span>  <span class="string">"70"</span>  <span class="string">"71"</span>  <span class="string">"72"</span>  <span class="string">"73"</span> </div><div class="line">[<span class="number">28</span>] <span class="string">"74"</span>  <span class="string">"75"</span>  <span class="string">"76"</span>  <span class="string">"77"</span>  <span class="string">"78"</span>  <span class="string">"79"</span>  <span class="string">"80"</span>  <span class="string">"81"</span>  <span class="string">"82"</span> </div><div class="line">[<span class="number">37</span>] <span class="string">"83"</span>  <span class="string">"84"</span>  <span class="string">"85"</span>  <span class="string">"86"</span>  <span class="string">"87"</span>  <span class="string">"88"</span>  <span class="string">"89"</span>  <span class="string">"90"</span>  <span class="string">"91"</span> </div><div class="line">[<span class="number">46</span>] <span class="string">"92"</span>  <span class="string">"93"</span>  <span class="string">"94"</span>  <span class="string">"95"</span>  <span class="string">"96"</span>  <span class="string">"97"</span>  <span class="string">"98"</span>  <span class="string">"99"</span>  <span class="string">"100"</span></div><div class="line">[<span class="number">55</span>] <span class="string">"101"</span> <span class="string">"102"</span> <span class="string">"103"</span> <span class="string">"104"</span> <span class="string">"105"</span> <span class="string">"106"</span> <span class="string">"107"</span> <span class="string">"108"</span> <span class="string">"109"</span></div><div class="line">[<span class="number">64</span>] <span class="string">"110"</span> <span class="string">"111"</span> <span class="string">"112"</span> <span class="string">"113"</span> <span class="string">"114"</span> <span class="string">"115"</span> <span class="string">"116"</span> <span class="string">"117"</span></div><div class="line"></div><div class="line">$class</div><div class="line">[<span class="number">1</span>] <span class="string">"data.frame"</span></div></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt; body[<span class="number">1</span>:<span class="number">5</span>,]</div><div class="line"></div><div class="line">   age DEXfat waistcirc hipcirc elbowbreadth kneebreadth anthro3a anthro3b anthro3c anthro4</div><div class="line"><span class="number">47</span>  <span class="number">57</span>  <span class="number">41.68</span>     <span class="number">100.0</span>   <span class="number">112.0</span>          <span class="number">7.1</span>         <span class="number">9.4</span>     <span class="number">4.42</span>     <span class="number">4.95</span>     <span class="number">4.50</span>    <span class="number">6.13</span></div><div class="line"><span class="number">48</span>  <span class="number">65</span>  <span class="number">43.29</span>      <span class="number">99.5</span>   <span class="number">116.5</span>          <span class="number">6.5</span>         <span class="number">8.9</span>     <span class="number">4.63</span>     <span class="number">5.01</span>     <span class="number">4.48</span>    <span class="number">6.37</span></div><div class="line"><span class="number">49</span>  <span class="number">59</span>  <span class="number">35.41</span>      <span class="number">96.0</span>   <span class="number">108.5</span>          <span class="number">6.2</span>         <span class="number">8.9</span>     <span class="number">4.12</span>     <span class="number">4.74</span>     <span class="number">4.60</span>    <span class="number">5.82</span></div><div class="line"><span class="number">50</span>  <span class="number">58</span>  <span class="number">22.79</span>      <span class="number">72.0</span>    <span class="number">96.5</span>          <span class="number">6.1</span>         <span class="number">9.2</span>     <span class="number">4.03</span>     <span class="number">4.48</span>     <span class="number">3.91</span>    <span class="number">5.66</span></div><div class="line"><span class="number">51</span>  <span class="number">60</span>  <span class="number">36.42</span>      <span class="number">89.5</span>   <span class="number">100.5</span>          <span class="number">7.1</span>        <span class="number">10.0</span>     <span class="number">4.24</span>     <span class="number">4.68</span>     <span class="number">4.15</span>    <span class="number">5.91</span></div></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt; set.seed(<span class="number">1234</span>)</div><div class="line">&gt; ind &lt;- sample(<span class="number">2</span>, nrow(bodyfat), replace = <span class="literal">TRUE</span>, prob = c(<span class="number">0.7</span>,<span class="number">0.3</span>))</div><div class="line">&gt; bodyfat.train &lt;- bodyfat[ind == <span class="number">1</span>,]</div><div class="line">&gt; bodyfat.test &lt;- bodyfat[ind == <span class="number">2</span>,]</div><div class="line">&gt; <span class="keyword">library</span>(rpart)</div></pre></td></tr></table></figure><ul><li>编写公式</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; myFormula &lt;- DEXfat ~ age + waistcirc + hipcirc + elbowbreadth + kneebreadth</div></pre></td></tr></table></figure><ul><li>训练决策树</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; bodyfat_rpart &lt;- rpart(myFormula, data = bodyfat.train, control = rpart.control(minsplit = <span class="number">10</span>))</div></pre></td></tr></table></figure><ul><li>绘制决策树</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">library</span>(rattle)</div><div class="line">&gt; <span class="keyword">library</span>(rpart.plot)</div><div class="line">&gt; <span class="keyword">library</span>(RColorBrewer)</div><div class="line">&gt; fancyRpartPlot(bodyfat_rpart)</div></pre></td></tr></table></figure><p><img src="https://github.com/yumuzi/images/raw/master/20161212_bodyfat_dtc1.png" alt=""></p><ul><li>选择预测误差最小值的预测树，从而优化模型</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt; opt &lt;- which.min(bodyfat_rpart$cptable[,<span class="string">"xerror"</span>])</div><div class="line">&gt; cp &lt;- bodyfat_rpart$cptable[opt,<span class="string">"CP"</span>]</div><div class="line">&gt; bodyfat_prune &lt;- prune(bodyfat_rpart, cp = cp)</div><div class="line">&gt; fancyRpartPlot(bodyfat_prune)</div></pre></td></tr></table></figure><p><img src="https://github.com/yumuzi/images/raw/master/20161212_bodyfat_dtc2.png" alt=""></p><ul><li>在测试集上测试，并与实际值进行对比</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt; DEXfat_pred &lt;- predict(bodyfat_prune, newdata = bodyfat.test)</div><div class="line">&gt; xlim &lt;- range(bodyfat$DEXfat)</div><div class="line">&gt; plot(DEXfat_pred ~ DEXfat, data = bodyfat.test, xlab = <span class="string">"Observed"</span>, ylab = <span class="string">"Predicted"</span>, ylim = xlim, xlim = xlim)</div><div class="line">&gt; abline(a = <span class="number">0</span>, b = <span class="number">1</span>)</div></pre></td></tr></table></figure><p><img src="https://github.com/yumuzi/images/raw/master/20161212_bodyfat_dtc3.png" alt=""></p><ul><li>代码汇总</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">data(<span class="string">"bodyfat"</span>, package = <span class="string">"TH.data"</span>)</div><div class="line">dim(bodyfat)</div><div class="line"></div><div class="line">attributes(bodyfat)</div><div class="line"></div><div class="line">body[<span class="number">1</span>:<span class="number">5</span>,]</div><div class="line"></div><div class="line">set.seed(<span class="number">1234</span>)</div><div class="line">ind &lt;- sample(<span class="number">2</span>, nrow(bodyfat), replace = <span class="literal">TRUE</span>, prob = c(<span class="number">0.7</span>,<span class="number">0.3</span>))</div><div class="line">bodyfat.train &lt;- bodyfat[ind == <span class="number">1</span>,]</div><div class="line">bodyfat.test &lt;- bodyfat[ind == <span class="number">2</span>,]</div><div class="line"><span class="keyword">library</span>(rpart)</div><div class="line"></div><div class="line">myFormula &lt;- DEXfat ~ age + waistcirc + hipcirc + elbowbreadth + kneebreadth</div><div class="line"></div><div class="line">bodyfat_rpart &lt;- rpart(myFormula, data = bodyfat.train, control = rpart.control(minsplit = <span class="number">10</span>))</div><div class="line"></div><div class="line"><span class="keyword">library</span>(rattle)</div><div class="line"><span class="keyword">library</span>(rpart.plot)</div><div class="line"><span class="keyword">library</span>(RColorBrewer)</div><div class="line">fancyRpartPlot(bodyfat_rpart)</div><div class="line"></div><div class="line">opt &lt;- which.min(bodyfat_rpart$cptable[,<span class="string">"xerror"</span>])</div><div class="line">cp &lt;- bodyfat_rpart$cptable[opt,<span class="string">"CP"</span>]</div><div class="line">bodyfat_prune &lt;- prune(bodyfat_rpart, cp = cp)</div><div class="line">fancyRpartPlot(bodyfat_prune)</div><div class="line"></div><div class="line">DEXfat_pred &lt;- predict(bodyfat_prune, newdata = bodyfat.test)</div><div class="line">xlim &lt;- range(bodyfat$DEXfat)</div><div class="line">plot(DEXfat_pred ~ DEXfat, data = bodyfat.test, xlab = <span class="string">"Observed"</span>, ylab = <span class="string">"Predicted"</span>, ylim = xlim, xlim = xlim)</div><div class="line">abline(a = <span class="number">0</span>, b = <span class="number">1</span>)</div></pre></td></tr></table></figure><h1 id="使用随机森林"><a href="#使用随机森林" class="headerlink" title="使用随机森林"></a>使用随机森林</h1><ul><li>这里使用包<code>randomForest</code>，并利用iris(鸢尾花)数据建立一个预测模型；</li><li>包里面的<code>randomForest()</code>函数有两点不足：第一，它不能处理缺失值，使得用户必须在使用该函数之前填补这些缺失值；第二，每个分类属性的最大数量不能超过32个，如果属性超过32个，那么在使用该函数之前那些属性必须被转化；</li><li>另外，也可以通过包<code>cforest</code>建立随机森林，并且该包里面的函数并不受属性的最大数量限制，尽管如此，高维的分类属性会使得它建立随机森林的时候消耗大量的内存和时间；</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&gt; ind &lt;- sample(<span class="number">2</span>, nrow(iris), replace = <span class="literal">TRUE</span>, prob = c(<span class="number">0.7</span>, <span class="number">0.3</span>))</div><div class="line">&gt; trainData &lt;- iris[ind == <span class="number">1</span>,]</div><div class="line">&gt; testData &lt;- iris[ind == <span class="number">2</span>,]</div><div class="line">&gt; install.packages(<span class="string">"randomForest"</span>)</div><div class="line">&gt; <span class="keyword">library</span>(randomForest)</div><div class="line">&gt; myFormula &lt;- Species ~ .  <span class="comment"># 'Species ~ .'表示'Species'与其他所有属性之间的等式</span></div><div class="line">&gt; rf &lt;- randomForest(myFormula, data = trainData, ntree = <span class="number">100</span>, proximity = <span class="literal">TRUE</span>)</div><div class="line"></div><div class="line">             setosa versicolor virginica</div><div class="line">  setosa         <span class="number">36</span>          <span class="number">0</span>         <span class="number">0</span></div><div class="line">  versicolor      <span class="number">0</span>         <span class="number">31</span>         <span class="number">2</span></div><div class="line">  virginica       <span class="number">0</span>          <span class="number">1</span>        <span class="number">34</span></div></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&gt; print(rf)</div><div class="line"></div><div class="line">Call:</div><div class="line"> randomForest(formula = myFormula, data = trainData, ntree = <span class="number">100</span>,      proximity = <span class="literal">TRUE</span>) </div><div class="line">               Type of random forest: classification</div><div class="line">                     Number of trees: <span class="number">100</span></div><div class="line">No. of variables tried at each split: <span class="number">2</span></div><div class="line"></div><div class="line">        OOB estimate of  error rate: <span class="number">2.88</span>%</div><div class="line">Confusion matrix:</div><div class="line">           setosa versicolor virginica class.error</div><div class="line">setosa         <span class="number">36</span>          <span class="number">0</span>         <span class="number">0</span>  <span class="number">0.00000000</span></div><div class="line">versicolor      <span class="number">0</span>         <span class="number">31</span>         <span class="number">1</span>  <span class="number">0.03125000</span></div><div class="line">virginica       <span class="number">0</span>          <span class="number">2</span>        <span class="number">34</span>  <span class="number">0.05555556</span></div></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; irisPred &lt;- predict(rf, newdata = testData)</div><div class="line">&gt; table(irisPred, testData$Species)</div><div class="line"></div><div class="line">irisPred     setosa versicolor virginica</div><div class="line">  setosa         <span class="number">14</span>          <span class="number">0</span>         <span class="number">0</span></div><div class="line">  versicolor      <span class="number">0</span>         <span class="number">17</span>         <span class="number">3</span></div><div class="line">  virginica       <span class="number">0</span>          <span class="number">1</span>        <span class="number">11</span></div></pre></td></tr></table></figure><ul><li>绘制每一个观测值被判断正确的概率图</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; plot(margin(rf, testData$Species))</div></pre></td></tr></table></figure><p><img src="https://github.com/yumuzi/images/raw/master/20161212_randomForest.png" alt=""></p><ul><li>代码汇总</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">ind &lt;- sample(<span class="number">2</span>, nrow(iris), replace = <span class="literal">TRUE</span>, prob = c(<span class="number">0.7</span>, <span class="number">0.3</span>))</div><div class="line">trainData &lt;- iris[ind == <span class="number">1</span>,]</div><div class="line">testData &lt;- iris[ind == <span class="number">2</span>,]</div><div class="line"></div><div class="line">install.packages(<span class="string">"randomForest"</span>)</div><div class="line"><span class="keyword">library</span>(randomForest)</div><div class="line"></div><div class="line">myFormula &lt;- Species ~ .</div><div class="line">rf &lt;- randomForest(myFormula, data = trainData, ntree = <span class="number">100</span>, proximity = <span class="literal">TRUE</span>)</div><div class="line">table(predict(rf), trainData$Species)</div><div class="line"></div><div class="line">print(rf)</div><div class="line"></div><div class="line">irisPred &lt;- predict(rf, newdata = testData)</div><div class="line">table(irisPred, testData$Species)</div><div class="line"></div><div class="line">plot(margin(rf, testData$Species))</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot; class=&quot;headerlink&quot; title=&quot;参考文档&quot;&gt;&lt;/a&gt;参考文档&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/jpld/p/4868761.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;【R语言进行数据挖掘】决策树和随机森林&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;使用包party&quot;&gt;&lt;a href=&quot;#使用包party&quot; class=&quot;headerlink&quot; title=&quot;使用包party&quot;&gt;&lt;/a&gt;使用包&lt;code&gt;party&lt;/code&gt;&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;学习使用包&lt;code&gt;party&lt;/code&gt;里的函数&lt;code&gt;ctree()&lt;/code&gt;为数据集iris建立一个决策树；&lt;/li&gt;
&lt;li&gt;四个属性：&lt;br&gt;(1) 属性&lt;code&gt;Sepal.Length&lt;/code&gt;：萼片长度&lt;br&gt;(2) 属性&lt;code&gt;Sepal.Width&lt;/code&gt;：萼片宽度&lt;br&gt;(3) 属性&lt;code&gt;Petal.Length&lt;/code&gt;：花瓣长度&lt;br&gt;(4) 属性&lt;code&gt;Petal.Width&lt;/code&gt;：花瓣宽度&lt;/li&gt;
&lt;li&gt;上述四个属性被用来预测鸢(yuan1)尾花的&lt;code&gt;Species&lt;/code&gt;（种类）；&lt;/li&gt;
&lt;li&gt;在这个包里，函数&lt;code&gt;ctree()&lt;/code&gt;建立了一个决策树，函数&lt;code&gt;predict()&lt;/code&gt;预测了另外一个数据集；&lt;/li&gt;
&lt;li&gt;在建立模型之前，iris（鸢尾花）数据集被分成两个子集：训练集（70%）和测试集（30%）。使用随机种子设置固定的随机数，可以使得随机选取的数据是可重复利用的；&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="MachineLearning" scheme="https://yumuzi.github.io/tags/MachineLearning/"/>
    
      <category term="R" scheme="https://yumuzi.github.io/tags/R/"/>
    
  </entry>
  
  <entry>
    <title>冯友兰《中国哲学史》阅读摘录</title>
    <link href="https://yumuzi.github.io/fengshizhexue.html"/>
    <id>https://yumuzi.github.io/fengshizhexue.html</id>
    <published>2016-11-30T14:35:03.000Z</published>
    <updated>2017-11-30T11:08:16.660Z</updated>
    
    <content type="html"><![CDATA[<ol><li>其道甚微而易，其意甚幽而深。</li><li>内动外静，后发先至；全神贯注，反应迅捷；变化多端，出敌不意。</li><li>庾信的《宇文盛墓志》中有两句说：“授图黄石，不无师表之心，学剑白猿，遂得风云之志。”杜牧之有两句诗说：“授图黄石老，学剑白猿翁。</li><li>靡不有初，鲜克有终。</li><li>寡取易盈，好逞易穷，驽钝之材也。</li><li>为天地立心，为生民立命，为往圣继绝学，为万世开太平。</li><li>其持之有故，其言之成理。</li><li>西洋所谓哲学，与中国魏晋人所谓玄学，宋明人所谓道学，及清人所谓义理之学，其所研究之对象，颇可谓约略相当。</li><li>乃折枝之类，非挟泰山以超北海之类。</li></ol><a id="more"></a><ol><li>吾欲托之空言，不如见之行事之深切著名也。</li><li>太上有立德，其次有立功，其次有立言。</li><li>论其诗，读其书，不知其人可乎？是以论其世也。</li><li>人之相知，贵相知心。</li><li>书不尽言，言不尽意。</li><li>孟子云:尽信书则不如无书，吾于《武成9》，取二三策而已。</li><li>淮南被兵六年，士民转徙几尽。行密初至，赐与将吏，帛不过数尺，钱不过数百；而能以勤俭足用，非公宴，未尝举乐。招抚流散，轻徭薄敛，未及数年，公私富庶，几复承平之旧。</li><li>呜呼，盗亦有道，信哉！</li><li>皇帝问李勉道：“众人皆言卢杞奸邪，朕何不知？卿知其状乎？”对曰：“天下皆知其奸邪，独陛下不知，所以为奸邪也！”</li><li>夫好战必亡，失其故俗必亡，人心不服必亡，金皆有焉。</li><li>韩非子所谓: 孔子墨子俱道尧舜，而取舍不同，皆自谓真尧舜。尧舜不复生，谁将使定儒墨之诚乎？</li><li>普天之下，莫非王土；率土之滨，莫非王臣。</li><li>观乎天文，以察时变。</li><li>貌言视听思心失则五行之序乱。</li><li>天有五义，物质之天，主宰之天，运命之天，自然之天，义理之天。</li><li>《庄子·天下篇》讲及儒家，即说：“诗”以道志，“书”以道事，“礼”以道行，“乐”以道和，“易”以道阴阳，“春秋”以道名分。</li><li>仕而优则学，学而优则仕。</li><li>儒以文乱法，侠以武犯禁。</li><li>吾非生而知之者，好古敏以求之也。</li><li>述而不作，信而好古。</li><li>君子有三畏，畏天命，畏大人，畏圣人之言。</li><li>诗三百，一言以蔽之，曰：“思无邪。”</li><li>林放问礼之本，子曰：“大哉问，礼与其奢也宁俭，丧与其易也宁戚。”</li><li>礼之用，和为贵，先王之道斯为美。</li><li>不恒其德，或承之羞。</li><li>人而不仁如礼何，人而不仁如乐何！</li><li>君子义以为质，礼以行之，孙以出之，信以成之。</li><li>叶公语孔子曰：“吾党有直躬者，其父攘羊，而其子证之。”孔子曰：“吾党之直者异于是，父为子隐，子为父隐，直在其中矣。”</li><li>巧言令色足恭，左丘明耻之，丘亦耻之。</li><li>子贡问曰：“乡人皆好之，何如？”子曰：“未可也。”曰：“乡人皆恶之，何如？”子曰：“未可也。不如乡人之善者好之，其不善者恶之。”</li><li>子曰：“恭而无礼则劳，慎而无礼则葸，勇而无礼则乱，直而无礼则绞。”</li><li>子产谓：“夫礼，天之经也，地之义也，民之行也。”</li><li>颜渊所谓“博我以文，约我以礼。”</li><li>质胜文则野，文胜质则史，文质彬彬，然后君子。</li><li>子曰：巧言令色，鲜矣仁。</li><li>子曰：刚毅木讷近仁。</li><li>樊迟问仁。子曰：爱人。</li><li>故克伐怨欲不行，苦心洁身之士孔子所不取。</li><li>人之过也，各于其党，观过斯知仁矣。</li><li>颜渊问仁，子曰：“克己复礼为仁。一日克己复礼，天下归仁焉。为仁由己，而由人乎哉?”颜渊曰:“请问其目。”子曰:“非礼勿视,非礼勿听,非礼勿言,非礼勿动。”</li><li>仲弓问仁。子曰:“出门如见大宾,使民如承大祭。己所不欲,勿施于人,在邦无怨,在家无怨。”仲弓曰:“雍虽不敏,请事斯语矣。”</li><li>子贡曰:“如有钱博施于民,而能济众,何如,可谓仁乎?”子曰:“何事于仁?必也圣乎!尧舜其犹病诸!夫仁者己欲立而立人,己欲达而达人,能近取譬,可为仁之方也矣。”</li><li>“因己之欲,推以知人之欲”,即“己欲立而立人,己欲达而达人”,即所谓忠也。“因己之不欲,推以知人之不欲”,即“己所不欲,勿施于人”,即所恕也。实行忠恕即实行仁。</li><li>子曰：“参乎，吾道一以贯之。”曾子曰：“唯！”子出，门人问曰：“何谓也？”曾子曰：“夫子之道忠恕而已矣。”</li><li>无求生以害仁，有杀身以成仁。</li><li>子张问仁于孔子，孔子曰：“能行五者于天下为仁矣。”请问之。曰：“恭，宽，信，敏，惠。恭则不侮，宽则得众，信则人任焉，敏则有功，惠则足以使人。”</li><li>子绝四：毋意，毋必，毋固，毋我。</li><li>君子之仕也，行其义也。道之不行也，已知之矣。</li><li>董仲舒谓：“正其谊不谋其利，明其道不计其功。”</li><li>君子喻于义，小人喻于利。</li><li>子墨子曰:“必去六辟,默则思,言则诲,动则事,使三者代御,必为圣人。必去喜,去怒,去乐,去悲,去爱,去恶,而用仁义。手足口鼻耳,从事于义,必为圣人。</li><li>国家人民之大害，在于国家人民之互相争斗，无有宁息；而其所以互相争斗之原因，则起于人之不相爱。</li><li>天下之大利，在于人之兼爱；天下之大害，在于人之互争；故吾人应非攻。</li><li>墨子以人性为素丝，其善恶全在“所染”。</li><li>边沁谓人之快乐苦痛，有四来源：即物质的，政治的，道德的，宗教的。</li><li>依析心术派之心理学所说，吾人诸欲中之最强者，乃系自私之欲及男女之欲。</li><li>故食必常饱，然后求美；衣必常暖，然后求丽；居必常安，然后求乐；为可长，行可久；先质而后文；此圣人务也。</li><li>欲平治天下，当今之世，舍我其谁也？</li><li>离娄之明，公输子之巧，不以规矩，不能成方圆。师旷之聪，不以六律，不能正五音。尧舜之道，不以仁政，不能平治天下。</li><li>以力假仁者霸，以德行仁者王。</li><li>民为贵，社稷次之，君为轻。是故得乎丘民为天子，得乎天子为诸侯，得乎诸侯为大夫。</li><li>所谓大德大贤，即能治国家社会之专家也。</li><li>恻隐之心，仁之端也。羞恶之心，义之端也。辞让之心，礼之端也。是非知心，智之端也。72.人之所以喜于禽兽者几希，庶民去之，君子存之。</li><li>莫之为而为者天也，莫之致而至者命也。</li><li>慎终追远，民德归厚矣。</li><li>居天下之广居，立天下之正位，行天下之大道。得志与民由之，不得志独行其道。富贵不能淫，贫贱不能移，威武不能屈，此之谓大丈夫。</li><li>重生则轻利。</li><li>告子曰：“性无善无不善。”</li><li>人法地，地法天，天法道，道法自然。</li><li>道常无为无不为。</li><li>道生之，德畜之，物形之，势成之。是以万物莫不尊道而贵德。道之尊，德之贵，夫莫之命而常自然。</li><li>曲则全，枉则直，洼则盈，敝则新，少则得，多则惑。</li><li>天知道其犹张弓欤，高者抑之，下者举之。有馀者损之，不足者补之。</li><li>正言若反。</li><li>将欲歙之，必固张之；将欲弱之，必固强之；将欲废之，必固兴之；将欲夺之，必故与之。</li><li>甚爱必大费，多藏必厚亡。</li><li>不自见故明，不自是故彰；不自伐故有功，不自矜故长；夫惟不争，故天下莫能与之争。</li><li>慈故能勇，俭故能广，不敢为天下先，故能成器长。</li><li>大成若缺，其用不弊；大盈若冲，其用不穷；大直若屈，大巧若拙，大辩若讷。</li><li>我无为而民自化，我好静而民自正，我无事而民自富，我无欲而民自朴。</li><li>物或益之而损，物或损之而已。</li><li>不尚贤，使民不争。不贵难得之货，使民不为盗。不见可欲，使民心不乱。是以圣人之治，虚其心，实其腹，弱其志，强其骨，常使民无知无欲。</li><li>知足不辱，知止不殆，可以长久。</li><li>祸莫大于不知足，咎莫大于欲得。故知足之足常足矣。</li><li>民之难治，以其智多；故以智治国国之贼，不以智治国国之福。</li><li>老子理想的社会：小国寡民，是有什伯之器而不用，使民重死而不远徙。虽有舟舆，无所乘之；虽有甲兵，无所陈之。使人复结绳而用之。甘其食，美其服，安其居，乐其俗。邻国相望，鸡犬之声相闻。民至老死不相往来。</li><li>大文明若野蛮。</li><li>孔子曰：“必也正名乎？名不正则言不顺，言不顺则事不成。”</li><li>天下无方，故所在为中，循环无端，故所在为始也。</li><li>儒家认为爱人是有等级的。“君子之于物也，爱之而弗仁；于民也，仁之而弗亲。亲亲而仁民，仁民而爱物。”</li><li>孟子说：“人之有道也，饱食、暖衣、逸居而无教，则近于禽兽。圣人有忧之，使契为司徒，教以人伦：父子有亲，君臣有义，夫妇有别，长幼有序，朋友有信。”</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;其道甚微而易，其意甚幽而深。&lt;/li&gt;
&lt;li&gt;内动外静，后发先至；全神贯注，反应迅捷；变化多端，出敌不意。&lt;/li&gt;
&lt;li&gt;庾信的《宇文盛墓志》中有两句说：“授图黄石，不无师表之心，学剑白猿，遂得风云之志。”杜牧之有两句诗说：“授图黄石老，学剑白猿翁。&lt;/li&gt;
&lt;li&gt;靡不有初，鲜克有终。&lt;/li&gt;
&lt;li&gt;寡取易盈，好逞易穷，驽钝之材也。&lt;/li&gt;
&lt;li&gt;为天地立心，为生民立命，为往圣继绝学，为万世开太平。&lt;/li&gt;
&lt;li&gt;其持之有故，其言之成理。&lt;/li&gt;
&lt;li&gt;西洋所谓哲学，与中国魏晋人所谓玄学，宋明人所谓道学，及清人所谓义理之学，其所研究之对象，颇可谓约略相当。&lt;/li&gt;
&lt;li&gt;乃折枝之类，非挟泰山以超北海之类。&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="讀書" scheme="https://yumuzi.github.io/categories/%E8%AE%80%E6%9B%B8/"/>
    
    
      <category term="隨筆" scheme="https://yumuzi.github.io/tags/%E9%9A%A8%E7%AD%86/"/>
    
  </entry>
  
  <entry>
    <title>网络编程学习过程中的点滴记录</title>
    <link href="https://yumuzi.github.io/webprogramming.html"/>
    <id>https://yumuzi.github.io/webprogramming.html</id>
    <published>2016-11-25T04:35:02.000Z</published>
    <updated>2017-11-05T15:35:01.731Z</updated>
    
    <content type="html"><![CDATA[<h2 id="CSS样式表"><a href="#CSS样式表" class="headerlink" title="CSS样式表"></a>CSS样式表</h2><ul><li><code>padding</code>：内边距</li><li><code>margin</code>：外边距</li><li><code>background</code>：背景，#fff, #333, #ccc; #f00; #06f;</li><li><code>font-size</code>: 字体大小</li><li><code>list-style-type</code>: none; 用于去除 ul 中的点样式</li><li><code>width</code>: 宽度，120px; 80%; auto(可以用来抵消之前的设置)</li><li><code>height</code>：高度</li><li><code>line-height</code>: 行高，常与height一块儿用，垂直居中</li><li><code>text-indent</code>: 缩进，-9999px；使得对象消失</li><li><code>#header</code>：“#”用于html中的id</li><li><code>border</code>：边框，solid-实线；dashed-虚线</li></ul><a id="more"></a><ul><li><code>background</code>：url(../../images/logo1.png) no-repeat;</li><li><code>display</code>: block;</li><li><code>text-align</code>: 文字位置，right; left; center;</li><li><code>display</code>: inline; 用于ul li在一行中显示</li><li><code>text-decoration</code>: 用于修饰 超链接 a    none; underline;</li><li><code>clear</code>: both; 常用于IE浏览器消除左右浮动</li><li><code>letter-spacing</code>: 字符间距</li><li><code>float</code>: 浮动</li><li><code>font-weight</code>: bold; 文字加粗</li><li><code>cursor</code>: pointer; 将箭头转换为“小手”</li></ul><h2 id="JavaScript基础"><a href="#JavaScript基础" class="headerlink" title="JavaScript基础"></a>JavaScript基础</h2><ol><li><code>&lt;script type=&quot;text/javascript&quot; src=&quot;###&quot;&gt;&lt;/script&gt;</code></li><li>区分大小写；</li><li>标识符组成开头：必须是字符、下划线和<code>$</code>；其他字母除此三者外，还可为数字；不能把关键字、保留字（<code>true/false/null</code>）作为标识符；</li><li>单行注释：<code>//</code> 注释用途：说明、调试；多行注释：<code>/* */</code></li><li>字面量：就是程序中直接显示出来的；数字字面量，字符串字面量，布尔值字面量，正则表达式字面量，对象字面量表达式<code>{x:1,y:2}</code>；数组字面量表达式</li><li>关键字：程序中已经开始使用的字符； 保留字：将来可能被用作关键字；</li><li>数据类型的种类：<code>undefined</code>, <code>null</code>, <code>boolean</code>, <code>number</code>, <code>string</code>, <code>object</code>，不支持任何自定义类型的机制</li><li>操作符：<code>typeof()</code> 用来检测变量的数据类型，返回的字符串包括：<code>undefined</code>, <code>boolean</code>, <code>string</code>, <code>number</code>, <code>object</code>（对象或<code>null</code>）, <code>function</code></li><li><code>alert(undefined==null);</code>   //返回true  <code>alert(undefined===null);</code>  //返回false</li><li><code>boolean</code>类型的字面量只有两个：<code>true</code>, <code>fals</code>e，其他大小写不一致的都不是它的值</li><li>可以用<code>boolean()</code>来转换变量的类型，即强制转换；可转换为<code>false</code>的值有：<code>false</code>, <code>&#39;&#39;</code>, <code>0</code>, <code>NaN</code>, <code>null</code>, <code>undefined</code></li><li>浮点数的范围：<code>Number.MIN_VALUE</code>, <code>Number.MAX_VALUE</code> 最小值和最大值<br>13.<code>Number.POSITIVE_INFINITY</code>, <code>Number.NEGATIVE_INFINITY</code>  正无穷和负无穷</li><li>函数：<code>isFinite()</code>   确定一个数值是否超过了规定范围</li><li><code>alert(NaN==NaN);</code>  //返回false</li><li>将非数值转换为数值的3个函数：<code>Number()</code>, <code>parseInt()</code>, <code>parseFloat()</code>   第一个用于任何数据类型，后两者用于把字符串转成数值；</li><li><code>\t</code>: 制表符   <code>\u03a3</code>: 求和符号</li><li>函数：<code>toString()</code>   转换为<code>string</code>类型，强制转换  <code>String(null);</code> <code>String(undefined);</code></li><li><code>+</code>其中有一个变量为字符串，则最终得到字符串</li></ol><h2 id="HTTP响应消息中常见的状态消息"><a href="#HTTP响应消息中常见的状态消息" class="headerlink" title="HTTP响应消息中常见的状态消息"></a>HTTP响应消息中常见的状态消息</h2><ul><li>200：成功，服务器成功返回网页</li><li>301：永久移动，请求的网页已成功移动到新位置。服务器返回此响应时，会自动将请求者转到新位置</li><li>304：未修改，自上次请求后，请求的网页未修改过。服务器返回此响应时，不会返回网页内容</li><li>400：错误请求，服务器不理解请求的语法</li><li>404：未找到，服务器找不到请求的网页</li><li>500：服务器内部错误，服务器遇到错误，无法完成请求</li><li>502：错误网关，服务器作为网关或代理，从上游服务器收到无效响应</li><li>505：HTTP版本不受支持，服务器不支持请求中所用的HTTP协议版本</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;CSS样式表&quot;&gt;&lt;a href=&quot;#CSS样式表&quot; class=&quot;headerlink&quot; title=&quot;CSS样式表&quot;&gt;&lt;/a&gt;CSS样式表&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;padding&lt;/code&gt;：内边距&lt;/li&gt;
&lt;li&gt;&lt;code&gt;margin&lt;/code&gt;：外边距&lt;/li&gt;
&lt;li&gt;&lt;code&gt;background&lt;/code&gt;：背景，#fff, #333, #ccc; #f00; #06f;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;font-size&lt;/code&gt;: 字体大小&lt;/li&gt;
&lt;li&gt;&lt;code&gt;list-style-type&lt;/code&gt;: none; 用于去除 ul 中的点样式&lt;/li&gt;
&lt;li&gt;&lt;code&gt;width&lt;/code&gt;: 宽度，120px; 80%; auto(可以用来抵消之前的设置)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;height&lt;/code&gt;：高度&lt;/li&gt;
&lt;li&gt;&lt;code&gt;line-height&lt;/code&gt;: 行高，常与height一块儿用，垂直居中&lt;/li&gt;
&lt;li&gt;&lt;code&gt;text-indent&lt;/code&gt;: 缩进，-9999px；使得对象消失&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#header&lt;/code&gt;：“#”用于html中的id&lt;/li&gt;
&lt;li&gt;&lt;code&gt;border&lt;/code&gt;：边框，solid-实线；dashed-虚线&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="programming" scheme="https://yumuzi.github.io/tags/programming/"/>
    
  </entry>
  
  <entry>
    <title>研究生期间去土耳其参加国际会议相关手续办理流程</title>
    <link href="https://yumuzi.github.io/tuerqi-qianzheng.html"/>
    <id>https://yumuzi.github.io/tuerqi-qianzheng.html</id>
    <published>2016-09-03T13:44:50.000Z</published>
    <updated>2017-11-05T15:33:56.472Z</updated>
    
    <content type="html"><![CDATA[<p>研二暑假曾计划前往土耳其参加一个国际学术会议，但因故未能成行，现将相关手续办理流程记录于此，以资借鉴。</p><h1 id="护照"><a href="#护照" class="headerlink" title="护照"></a>护照</h1><ul><li>上海户口：具有上海户口的，直接携带身份证前往上海出入境管理中心办理即可，一般时间为15天；</li><li>非上海户口：非上海户口的，按照学校的相关规定进行办理。</li></ul><a id="more"></a><h1 id="学校手续"><a href="#学校手续" class="headerlink" title="学校手续"></a>学校手续</h1><p>老师办理的是因公护照，学生是因私护照，但为了后期报销需要，均需要在学校办理相关手续。</p><ul><li>前往<a href="http://www.tongji-uni.com/" target="_blank" rel="external">同济大学外事办</a>下载学生手册PDF文件，了解需要准备的材料和应办的事项；</li><li>材料准备好后，需要到系办申请公示（此项老师需办理），公示时间为一周；</li><li>公示完成后，携带相关材料到同济大学外事办（综合楼7楼）进行办理，时间为5-7天；</li><li>在规定时间内领取相关材料；</li><li>（对于老师）携带领取的材料办理因公签证。</li></ul><h1 id="因私签证"><a href="#因私签证" class="headerlink" title="因私签证"></a>因私签证</h1><p>对于学生，需亲自前往外国驻上海使领馆办理隐私签证。</p><ul><li>从网上登陆外国驻上海使领馆的网页，了解需要准备的材料，并进行网上预约（视情况而定）；</li><li>准备申请材料：这里列出主要的三项，1) 申请表：按要求填写并打印；2) 会议邀请函（若要求原件，可将电子版邀请函彩色打印）；3) 人身保险：可在淘宝上购买；</li><li>按预约时间前往提交申请材料；</li><li>约一周左右（视具体情况而定）可前往领取签证。</li></ul><p><strong>大体情况就是这些，以后有新的经验再来补充^_^</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;研二暑假曾计划前往土耳其参加一个国际学术会议，但因故未能成行，现将相关手续办理流程记录于此，以资借鉴。&lt;/p&gt;
&lt;h1 id=&quot;护照&quot;&gt;&lt;a href=&quot;#护照&quot; class=&quot;headerlink&quot; title=&quot;护照&quot;&gt;&lt;/a&gt;护照&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;上海户口：具有上海户口的，直接携带身份证前往上海出入境管理中心办理即可，一般时间为15天；&lt;/li&gt;
&lt;li&gt;非上海户口：非上海户口的，按照学校的相关规定进行办理。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="學術" scheme="https://yumuzi.github.io/categories/%E5%AD%B8%E8%A1%93/"/>
    
    
      <category term="visa" scheme="https://yumuzi.github.io/tags/visa/"/>
    
  </entry>
  
  <entry>
    <title>Python 操作 MySQL 数据库</title>
    <link href="https://yumuzi.github.io/python-ymgs.html"/>
    <id>https://yumuzi.github.io/python-ymgs.html</id>
    <published>2016-07-08T15:27:15.000Z</published>
    <updated>2017-11-05T15:33:15.862Z</updated>
    
    <content type="html"><![CDATA[<p>一个用<code>python</code>操作网络后台<code>mysql</code>数据库的小案例，保存于此，以备不时之需。</p><a id="more"></a><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div><div class="line">484</div><div class="line">485</div><div class="line">486</div><div class="line">487</div><div class="line">488</div><div class="line">489</div><div class="line">490</div><div class="line">491</div><div class="line">492</div><div class="line">493</div><div class="line">494</div><div class="line">495</div><div class="line">496</div><div class="line">497</div><div class="line">498</div><div class="line">499</div><div class="line">500</div><div class="line">501</div><div class="line">502</div><div class="line">503</div><div class="line">504</div><div class="line">505</div><div class="line">506</div><div class="line">507</div><div class="line">508</div><div class="line">509</div><div class="line">510</div><div class="line">511</div><div class="line">512</div><div class="line">513</div><div class="line">514</div><div class="line">515</div><div class="line">516</div><div class="line">517</div><div class="line">518</div><div class="line">519</div><div class="line">520</div><div class="line">521</div><div class="line">522</div><div class="line">523</div><div class="line">524</div><div class="line">525</div><div class="line">526</div><div class="line">527</div><div class="line">528</div><div class="line">529</div><div class="line">530</div><div class="line">531</div><div class="line">532</div><div class="line">533</div><div class="line">534</div><div class="line">535</div><div class="line">536</div><div class="line">537</div><div class="line">538</div><div class="line">539</div><div class="line">540</div><div class="line">541</div><div class="line">542</div><div class="line">543</div><div class="line">544</div><div class="line">545</div><div class="line">546</div><div class="line">547</div><div class="line">548</div><div class="line">549</div><div class="line">550</div><div class="line">551</div><div class="line">552</div><div class="line">553</div><div class="line">554</div><div class="line">555</div><div class="line">556</div><div class="line">557</div><div class="line">558</div><div class="line">559</div><div class="line">560</div><div class="line">561</div><div class="line">562</div><div class="line">563</div><div class="line">564</div><div class="line">565</div><div class="line">566</div><div class="line">567</div><div class="line">568</div><div class="line">569</div><div class="line">570</div><div class="line">571</div><div class="line">572</div><div class="line">573</div><div class="line">574</div><div class="line">575</div><div class="line">576</div><div class="line">577</div><div class="line">578</div><div class="line">579</div><div class="line">580</div><div class="line">581</div><div class="line">582</div><div class="line">583</div><div class="line">584</div><div class="line">585</div><div class="line">586</div><div class="line">587</div><div class="line">588</div><div class="line">589</div><div class="line">590</div><div class="line">591</div><div class="line">592</div><div class="line">593</div><div class="line">594</div><div class="line">595</div><div class="line">596</div><div class="line">597</div><div class="line">598</div><div class="line">599</div><div class="line">600</div><div class="line">601</div><div class="line">602</div><div class="line">603</div><div class="line">604</div><div class="line">605</div><div class="line">606</div><div class="line">607</div><div class="line">608</div><div class="line">609</div><div class="line">610</div><div class="line">611</div><div class="line">612</div><div class="line">613</div><div class="line">614</div><div class="line">615</div><div class="line">616</div><div class="line">617</div><div class="line">618</div><div class="line">619</div><div class="line">620</div><div class="line">621</div><div class="line">622</div><div class="line">623</div><div class="line">624</div><div class="line">625</div><div class="line">626</div><div class="line">627</div><div class="line">628</div><div class="line">629</div><div class="line">630</div><div class="line">631</div><div class="line">632</div><div class="line">633</div><div class="line">634</div><div class="line">635</div><div class="line">636</div><div class="line">637</div><div class="line">638</div><div class="line">639</div><div class="line">640</div><div class="line">641</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> division</div><div class="line"><span class="keyword">import</span> MySQLdb</div><div class="line"><span class="keyword">import</span> os</div><div class="line"><span class="keyword">import</span> time</div><div class="line"><span class="keyword">import</span> datetime</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># 打开数据库连接</span></div><div class="line">db = MySQLdb.connect(<span class="string">"host"</span>,<span class="string">"username"</span>,<span class="string">"password"</span>,<span class="string">"database"</span>)</div><div class="line"></div><div class="line"><span class="comment"># 使用 cursor() 方法获取操作游标</span></div><div class="line">cursor = db.cursor()</div><div class="line"></div><div class="line"><span class="comment"># SQL 查询语句</span></div><div class="line"></div><div class="line"><span class="comment"># 网关1</span></div><div class="line"><span class="comment">## 传感器1-1</span></div><div class="line">num_1_1 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=1 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_1_1_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=1 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_1_1_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=1 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_1_1_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=1 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_1_1_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=1 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器1-2</span></div><div class="line">num_1_2 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=2 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_1_2_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=2 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_1_2_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=2 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_1_2_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=2 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_1_2_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=2 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器1-3</span></div><div class="line">num_1_3 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=3 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_1_3_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=3 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_1_3_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=3 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_1_3_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=3 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_1_3_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=3 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># 网关2</span></div><div class="line"><span class="comment">## 传感器2-1</span></div><div class="line">num_2_1 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=62 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_2_1_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=62 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_2_1_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=62 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_2_1_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=62 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_2_1_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=62 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器2-2</span></div><div class="line">num_2_2 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=63 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_2_2_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=63 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_2_2_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=63 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_2_2_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=63 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_2_2_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=63 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器2-3</span></div><div class="line">num_2_3 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=64 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_2_3_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=64 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_2_3_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=64 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_2_3_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=64 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_2_3_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=64 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment"># 网关3</span></div><div class="line"><span class="comment">## 传感器3-1</span></div><div class="line">num_3_1 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=69 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_3_1_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=69 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_3_1_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=69 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_3_1_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=69 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_3_1_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=69 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器3-2</span></div><div class="line">num_3_2 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=70 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_3_2_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=70 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_3_2_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=70 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_3_2_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=70 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_3_2_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=70 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment"># 网关4</span></div><div class="line"><span class="comment">## 传感器4-1</span></div><div class="line">num_4_1 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=73 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_4_1_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=73 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_4_1_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=73 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_4_1_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=73 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_4_1_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=73 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器4-2</span></div><div class="line">num_4_2 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=74 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_4_2_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=74 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_4_2_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=74 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_4_2_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=74 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_4_2_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=74 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="comment">## 传感器4-3</span></div><div class="line">num_4_3 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE device_id=75 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_4_3_current1_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_1=0 and device_id=75 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">num_4_3_current2_0 = <span class="string">"SELECT device_id FROM riskass_device_logic_data WHERE current_2=0 and device_id=75 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_4_3_min = <span class="string">"SELECT MIN(create_time) FROM riskass_device_logic_data WHERE device_id=75 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line">time_4_3_max = <span class="string">"SELECT MAX(create_time) FROM riskass_device_logic_data WHERE device_id=75 and create_time like '%"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">"%';"</span></div><div class="line"></div><div class="line"><span class="keyword">try</span>:</div><div class="line">    <span class="comment"># 执行SQL语句</span></div><div class="line"></div><div class="line">    <span class="comment">#网关1</span></div><div class="line">    <span class="comment">## 传感器1-1</span></div><div class="line">    num_1_1 = cursor.execute(num_1_1)</div><div class="line">    num_1_1_current1_0 = cursor.execute(num_1_1_current1_0)</div><div class="line">    num_1_1_current2_0 = cursor.execute(num_1_1_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器1-2</span></div><div class="line">    num_1_2 = cursor.execute(num_1_2)</div><div class="line">    num_1_2_current1_0 = cursor.execute(num_1_2_current1_0)</div><div class="line">    num_1_2_current2_0 = cursor.execute(num_1_2_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器2-3</span></div><div class="line">    num_1_3 = cursor.execute(num_1_3)</div><div class="line">    num_1_3_current1_0 = cursor.execute(num_1_3_current1_0)</div><div class="line">    num_1_3_current2_0 = cursor.execute(num_1_3_current2_0)</div><div class="line"></div><div class="line">    </div><div class="line">    <span class="comment">#网关2</span></div><div class="line">    <span class="comment">## 传感器2-1</span></div><div class="line">    num_2_1 = cursor.execute(num_2_1)</div><div class="line">    num_2_1_current1_0 = cursor.execute(num_2_1_current1_0)</div><div class="line">    num_2_1_current2_0 = cursor.execute(num_2_1_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器2-2</span></div><div class="line">    num_2_2 = cursor.execute(num_2_2)</div><div class="line">    num_2_2_current1_0 = cursor.execute(num_2_2_current1_0)</div><div class="line">    num_2_2_current2_0 = cursor.execute(num_2_2_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器2-3</span></div><div class="line">    num_2_3 = cursor.execute(num_2_3)</div><div class="line">    num_2_3_current1_0 = cursor.execute(num_2_3_current1_0)</div><div class="line">    num_2_3_current2_0 = cursor.execute(num_2_3_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">#网关3</span></div><div class="line">    <span class="comment">## 传感器3-1</span></div><div class="line">    num_3_1 = cursor.execute(num_3_1)</div><div class="line">    num_3_1_current1_0 = cursor.execute(num_3_1_current1_0)</div><div class="line">    num_3_1_current2_0 = cursor.execute(num_3_1_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器3-2</span></div><div class="line">    num_3_2 = cursor.execute(num_3_2)</div><div class="line">    num_3_2_current1_0 = cursor.execute(num_3_2_current1_0)</div><div class="line">    num_3_2_current2_0 = cursor.execute(num_3_2_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">#网关4</span></div><div class="line">    <span class="comment">## 传感器4-1</span></div><div class="line">    num_4_1 = cursor.execute(num_4_1)</div><div class="line">    num_4_1_current1_0 = cursor.execute(num_4_1_current1_0)</div><div class="line">    num_4_1_current2_0 = cursor.execute(num_4_1_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器4-2</span></div><div class="line">    num_4_2 = cursor.execute(num_4_2)</div><div class="line">    num_4_2_current1_0 = cursor.execute(num_4_2_current1_0)</div><div class="line">    num_4_2_current2_0 = cursor.execute(num_4_2_current2_0)</div><div class="line"></div><div class="line">    <span class="comment">## 传感器4-3</span></div><div class="line">    num_4_3 = cursor.execute(num_4_3)</div><div class="line">    num_4_3_current1_0 = cursor.execute(num_4_3_current1_0)</div><div class="line">    num_4_3_current2_0 = cursor.execute(num_4_3_current2_0)</div><div class="line">    </div><div class="line">    <span class="comment"># 获取所有记录列表</span></div><div class="line">    fo = open(<span class="string">"益马高速网关数据反馈汇总"</span> + time.strftime(<span class="string">'%Y-%m-%d'</span>,time.localtime(time.time())) + <span class="string">".txt"</span>, <span class="string">"a"</span>)</div><div class="line">    now = time.strftime(<span class="string">"%Y-%m-%d %H:%M:%S"</span>,time.localtime(time.time()))</div><div class="line">    fo.write(<span class="string">"当前时间：%s\n\n"</span> % now)</div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment"># 网关1</span></div><div class="line">    <span class="comment"># 传感器1-1</span></div><div class="line">    fo.write(<span class="string">"莫家大屋右线--传感器1-1：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_1_1)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_1_1_current1_0)</div><div class="line">    <span class="keyword">if</span> num_1_1 != <span class="number">0</span>:</div><div class="line">        percent1_1_1 = num_1_1_current1_0 / num_1_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent1_1_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent1_1_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_1_1_current2_0)</div><div class="line">    <span class="keyword">if</span> num_1_1 != <span class="number">0</span>:</div><div class="line">        percent1_1_2 = num_1_1_current2_0 / num_1_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent1_1_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent1_1_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_1_1_min = cursor.execute(time_1_1_min)</div><div class="line">    time_1_1_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_1_1_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_1_1_max = cursor.execute(time_1_1_max)</div><div class="line">    time_1_1_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_1_1_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-1停止工作！\n"</span>)</div><div class="line">            tag1_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-1停止工作！\n"</span>)</div><div class="line">            tag1_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-1正常工作\n"</span>)</div><div class="line">            tag1_1 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器1-2</span></div><div class="line">    fo.write(<span class="string">"莫家大屋右线--传感器1-2：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_1_2)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_1_2_current1_0)</div><div class="line">    num_1_1 = float(num_1_2)</div><div class="line">    <span class="keyword">if</span> num_1_2 != <span class="number">0</span>:</div><div class="line">        percent1_2_1 = num_1_2_current1_0 / num_1_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent1_2_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent1_2_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_1_2_current2_0)</div><div class="line">    <span class="keyword">if</span> num_1_2 != <span class="number">0</span>:</div><div class="line">        percent1_2_2 = num_1_2_current2_0 / num_1_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent1_2_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent1_2_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_1_2_min = cursor.execute(time_1_2_min)</div><div class="line">    time_1_2_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_1_2_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_1_2_max = cursor.execute(time_1_2_max)</div><div class="line">    time_1_2_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_1_2_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-2停止工作！\n"</span>)</div><div class="line">            tag1_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-2停止工作！\n"</span>)</div><div class="line">            tag1_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-2正常工作\n"</span>)</div><div class="line">            tag1_2 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器1-3</span></div><div class="line">    fo.write(<span class="string">"莫家大屋右线--传感器1-3：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_1_3)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_1_3_current1_0)</div><div class="line">    <span class="keyword">if</span> num_1_3 != <span class="number">0</span>:</div><div class="line">        percent1_3_1 = num_1_3_current1_0 / num_1_3</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent1_3_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent1_3_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_1_3_current2_0)</div><div class="line">    <span class="keyword">if</span> num_1_3 != <span class="number">0</span>:</div><div class="line">        percent1_3_2 = num_1_3_current2_0 / num_1_3</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent1_3_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent1_3_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_1_3_min = cursor.execute(time_1_3_min)</div><div class="line">    time_1_3_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_1_3_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_1_3_max = cursor.execute(time_1_3_max)</div><div class="line">    time_1_3_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_1_3_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-3停止工作！\n"</span>)</div><div class="line">            tag1_3 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-3停止工作！\n"</span>)</div><div class="line">            tag1_3 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器1-3正常工作\n"</span>)</div><div class="line">            tag1_3 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="keyword">if</span> tag1_1|tag1_2|tag1_3:</div><div class="line">        fo.write(<span class="string">"网关1正常工作\n\n"</span>)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        fo.write(<span class="string">"网关1停止工作！\n\n"</span>)</div><div class="line"></div><div class="line">    fo.write(<span class="string">"====================================================\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">#=========================================#</span></div><div class="line">    <span class="comment"># 网关2</span></div><div class="line">    <span class="comment"># 传感器2-1</span></div><div class="line">    fo.write(<span class="string">"莫家大屋左线--传感器2-1：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_2_1)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_2_1_current1_0)</div><div class="line">    <span class="keyword">if</span> num_2_1 != <span class="number">0</span>:</div><div class="line">        percent2_1_1 = num_2_1_current1_0 / num_2_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent2_1_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent2_1_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_2_1_current2_0)</div><div class="line">    <span class="keyword">if</span> num_2_1 != <span class="number">0</span>:</div><div class="line">        percent2_1_2 = num_2_1_current2_0 / num_2_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent2_1_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent2_1_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_2_1_min = cursor.execute(time_2_1_min)</div><div class="line">    time_2_1_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_2_1_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_2_1_max = cursor.execute(time_2_1_max)</div><div class="line">    time_2_1_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_2_1_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-1停止工作！\n"</span>)</div><div class="line">            tag2_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-1停止工作！\n"</span>)</div><div class="line">            tag2_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-1正常工作\n"</span>)</div><div class="line">            tag2_1 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器2-2</span></div><div class="line">    fo.write(<span class="string">"莫家大屋左线--传感器2-2：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_2_2)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_2_2_current1_0)</div><div class="line">    num_2_1 = float(num_2_2)</div><div class="line">    <span class="keyword">if</span> num_2_2 != <span class="number">0</span>:</div><div class="line">        percent2_2_1 = num_2_2_current1_0 / num_2_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent2_2_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent2_2_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_2_2_current2_0)</div><div class="line">    <span class="keyword">if</span> num_2_2 != <span class="number">0</span>:</div><div class="line">        percent2_2_2 = num_2_2_current2_0 / num_2_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent2_2_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent2_2_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_2_2_min = cursor.execute(time_2_2_min)</div><div class="line">    time_2_2_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_2_2_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_2_2_max = cursor.execute(time_2_2_max)</div><div class="line">    time_2_2_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_2_2_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-2停止工作！\n"</span>)</div><div class="line">            tag2_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-2停止工作！\n"</span>)</div><div class="line">            tag2_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-2正常工作\n"</span>)</div><div class="line">            tag2_2 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器2-3</span></div><div class="line">    fo.write(<span class="string">"莫家大屋左线--传感器2-3：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_2_3)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_2_3_current1_0)</div><div class="line">    <span class="keyword">if</span> num_2_3 != <span class="number">0</span>:</div><div class="line">        percent2_3_1 = num_2_3_current1_0 / num_2_3</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent2_3_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent2_3_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_2_3_current2_0)</div><div class="line">    <span class="keyword">if</span> num_2_3 != <span class="number">0</span>:</div><div class="line">        percent2_3_2 = num_2_3_current2_0 / num_2_3</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent2_3_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent2_3_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_2_3_min = cursor.execute(time_2_3_min)</div><div class="line">    time_2_3_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_2_3_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_2_3_max = cursor.execute(time_2_3_max)</div><div class="line">    time_2_3_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_2_3_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-3停止工作！\n"</span>)</div><div class="line">            tag2_3 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-3停止工作！\n"</span>)</div><div class="line">            tag2_3 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器2-3正常工作\n"</span>)</div><div class="line">            tag2_3 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="keyword">if</span> tag2_1|tag2_2|tag2_3:</div><div class="line">        fo.write(<span class="string">"网关2正常工作\n\n"</span>)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        fo.write(<span class="string">"网关2停止工作！\n\n"</span>)</div><div class="line"></div><div class="line">    fo.write(<span class="string">"====================================================\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">#=========================================#</span></div><div class="line">    <span class="comment"># 网关3</span></div><div class="line">    <span class="comment"># 传感器3-1</span></div><div class="line">    fo.write(<span class="string">"板山左线--传感器3-1：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_3_1)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_3_1_current1_0)</div><div class="line">    <span class="keyword">if</span> num_3_1 != <span class="number">0</span>:</div><div class="line">        percent3_1_1 = num_3_1_current1_0 / num_3_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent3_1_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent3_1_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_3_1_current2_0)</div><div class="line">    <span class="keyword">if</span> num_3_1 != <span class="number">0</span>:</div><div class="line">        percent3_1_2 = num_3_1_current2_0 / num_3_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent3_1_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent3_1_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_3_1_min = cursor.execute(time_3_1_min)</div><div class="line">    time_3_1_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_3_1_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_3_1_max = cursor.execute(time_3_1_max)</div><div class="line">    time_3_1_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_3_1_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器3-1停止工作！\n"</span>)</div><div class="line">            tag3_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器3-1停止工作！\n"</span>)</div><div class="line">            tag3_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器3-1正常工作\n"</span>)</div><div class="line">            tag3_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器3-2</span></div><div class="line">    fo.write(<span class="string">"板山左线--传感器3-2：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_3_2)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_3_2_current1_0)</div><div class="line">    <span class="keyword">if</span> num_3_2 != <span class="number">0</span>:</div><div class="line">        percent3_2_1 = num_3_2_current1_0 / num_3_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent3_2_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent3_2_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_3_2_current2_0)</div><div class="line">    <span class="keyword">if</span> num_3_2 != <span class="number">0</span>:</div><div class="line">        percent3_2_2 = num_3_2_current2_0 / num_3_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent3_2_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent3_2_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_3_2_min = cursor.execute(time_3_2_min)</div><div class="line">    time_3_2_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_3_2_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_3_2_max = cursor.execute(time_3_2_max)</div><div class="line">    time_3_2_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_3_2_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器3-2停止工作！\n"</span>)</div><div class="line">            tag3_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器3-2停止工作！\n"</span>)</div><div class="line">            tag3_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器3-2正常工作\n"</span>)</div><div class="line">            tag3_2 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="keyword">if</span> tag3_1|tag3_2:</div><div class="line">        fo.write(<span class="string">"网关3正常工作\n\n"</span>)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        fo.write(<span class="string">"网关3停止工作！\n\n"</span>)</div><div class="line"></div><div class="line">    fo.write(<span class="string">"====================================================\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">#=========================================#</span></div><div class="line">    <span class="comment"># 网关4</span></div><div class="line">    <span class="comment"># 传感器4-1</span></div><div class="line">    fo.write(<span class="string">"板山右线--传感器4-1：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_4_1)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_4_1_current1_0)</div><div class="line">    <span class="keyword">if</span> num_4_1 != <span class="number">0</span>:</div><div class="line">        percent4_1_1 = num_4_1_current1_0 / num_4_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent4_1_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent4_1_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_4_1_current2_0)</div><div class="line">    <span class="keyword">if</span> num_4_1 != <span class="number">0</span>:</div><div class="line">        percent4_1_2 = num_4_1_current2_0 / num_4_1</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent4_1_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent4_1_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_4_1_min = cursor.execute(time_4_1_min)</div><div class="line">    time_4_1_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_4_1_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_4_1_max = cursor.execute(time_4_1_max)</div><div class="line">    time_4_1_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_4_1_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-1停止工作！\n"</span>)</div><div class="line">            tag4_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-1停止工作！\n"</span>)</div><div class="line">            tag4_1 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-1正常工作\n"</span>)</div><div class="line">            tag4_1 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器4-2</span></div><div class="line">    fo.write(<span class="string">"板山右线--传感器4-2：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_4_2)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_4_2_current1_0)</div><div class="line">    <span class="keyword">if</span> num_4_2 != <span class="number">0</span>:</div><div class="line">        percent4_2_1 = num_4_2_current1_0 / float(num_4_2)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent4_2_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent4_2_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_4_2_current2_0)</div><div class="line">    <span class="keyword">if</span> num_4_2 != <span class="number">0</span>:</div><div class="line">        percent4_2_2 = num_4_2_current2_0 / num_4_2</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent4_2_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent4_2_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_4_2_min = cursor.execute(time_4_2_min)</div><div class="line">    time_4_2_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_4_2_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_4_2_max = cursor.execute(time_4_2_max)</div><div class="line">    time_4_2_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_4_2_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-2停止工作！\n"</span>)</div><div class="line">            tag4_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-2停止工作！\n"</span>)</div><div class="line">            tag4_2 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-2正常工作\n"</span>)</div><div class="line">            tag4_2 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="comment">###########################################</span></div><div class="line"></div><div class="line">    <span class="comment"># 传感器4-3</span></div><div class="line">    fo.write(<span class="string">"板山右线--传感器4-3：\n"</span>)</div><div class="line">    fo.write(<span class="string">"数据总数目：%d\n"</span> % num_4_3)</div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目数：%d\n"</span> % num_4_3_current1_0)</div><div class="line">    <span class="keyword">if</span> num_4_3 != <span class="number">0</span>:</div><div class="line">        percent4_3_1 = num_4_1_current1_0 / num_4_3</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent4_3_1 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"拱顶沉降数据为0条目所占百分比：%f\n"</span> % percent4_3_1)</div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目数：%d\n"</span> % num_4_3_current2_0)</div><div class="line">    <span class="keyword">if</span> num_4_3 != <span class="number">0</span>:</div><div class="line">        percent4_3_2 = num_4_3_current2_0 / num_4_3</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        percent4_3_2 = <span class="number">1</span></div><div class="line">    fo.write(<span class="string">"水平收敛数据为0条目所占百分比：%f\n"</span> % percent4_3_2)</div><div class="line"></div><div class="line">    <span class="comment">## 获取起始时间</span></div><div class="line">    time_4_3_min = cursor.execute(time_4_3_min)</div><div class="line">    time_4_3_min = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_4_3_min:</div><div class="line">        fo.write(<span class="string">"起始时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">    <span class="comment">## 获取终止时间</span></div><div class="line">    time_4_3_max = cursor.execute(time_4_3_max)</div><div class="line">    time_4_3_max = cursor.fetchall()</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> time_4_3_max:</div><div class="line">        fo.write(<span class="string">"终止时间：%s\n"</span> % row[<span class="number">0</span>])</div><div class="line">        <span class="keyword">if</span> row[<span class="number">0</span>] == <span class="keyword">None</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-3停止工作！\n"</span>)</div><div class="line">            tag4_3 = <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> (datetime.datetime.now() - row[<span class="number">0</span>]).seconds &gt; <span class="number">300</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-3停止工作！\n"</span>)</div><div class="line">            tag4_3 = <span class="number">0</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            fo.write(<span class="string">"传感器4-3正常工作\n"</span>)</div><div class="line">            tag4_3 = <span class="number">1</span></div><div class="line"></div><div class="line">    fo.write(<span class="string">"----------------------------------------------------\n"</span>)</div><div class="line"></div><div class="line">    <span class="keyword">if</span> tag4_1|tag4_2|tag4_3:</div><div class="line">        fo.write(<span class="string">"网关4正常工作\n\n"</span>)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        fo.write(<span class="string">"网关4停止工作！\n\n"</span>)</div><div class="line"></div><div class="line">    fo.write(<span class="string">"====================================================\n"</span>)</div><div class="line">    </div><div class="line">    fo.close()</div><div class="line"><span class="keyword">except</span>:</div><div class="line">    <span class="keyword">print</span> <span class="string">"Error: unable to fetch data"</span></div><div class="line"></div><div class="line">db.close()</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一个用&lt;code&gt;python&lt;/code&gt;操作网络后台&lt;code&gt;mysql&lt;/code&gt;数据库的小案例，保存于此，以备不时之需。&lt;/p&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
      <category term="mysql" scheme="https://yumuzi.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 14.04 安装 R 语言环境</title>
    <link href="https://yumuzi.github.io/ubuntu-r-install.html"/>
    <id>https://yumuzi.github.io/ubuntu-r-install.html</id>
    <published>2016-07-08T15:23:57.000Z</published>
    <updated>2017-11-05T15:34:41.079Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://blog.sina.com.cn/s/blog_86c8fc120101fq07.html" target="_blank" rel="external">ubuntu上R的卸载与安装</a></li><li><a href="http://blog.sina.com.cn/s/blog_676069b10102waq8.html" target="_blank" rel="external">ubuntu 从源码编译安装R过程笔记</a></li></ul><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul><li>操作系统：ubuntu 14.04 amd64</li><li>千万不要用使用系统自带软件源安装，版本太低</li></ul><a id="more"></a><h2 id="源文件下载"><a href="#源文件下载" class="headerlink" title="源文件下载"></a>源文件下载</h2><ul><li><a href="http://mirror.bjtu.edu.cn/cran/src/base/R-3/" target="_blank" rel="external">Index of /cran/src/base/R-3/</a></li><li><code>R-3.2.2</code> 在 <code>ubuntu 14.04 amd64</code> 系统上可用</li></ul><h2 id="卸载低版本-R"><a href="#卸载低版本-R" class="headerlink" title="卸载低版本 R"></a>卸载低版本 <code>R</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get remove r-base-core</div></pre></td></tr></table></figure><h2 id="安装-R"><a href="#安装-R" class="headerlink" title="安装 R"></a>安装 R</h2><p>解压缩后进入解压后的目录。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> R-3.2.2</div></pre></td></tr></table></figure><h3 id="安装依赖项"><a href="#安装依赖项" class="headerlink" title="安装依赖项"></a>安装依赖项</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install build-essential</div><div class="line">$ sudo apt-get install fort77</div><div class="line">$ sudo apt-get install xorg-dev</div><div class="line">$ sudo apt-get install liblzma-dev libblas-dev gfortran</div><div class="line">$ sudo apt-get install gcc-multilib</div><div class="line">$ sudo apt-get install gobjc++</div><div class="line">$ sudo apt-get install aptitude</div><div class="line">$ sudo aptitude install libreadline-dev</div><div class="line">$ sudo apt-get install texinfo</div></pre></td></tr></table></figure><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ ./configure --prefix /home/lyj/R</div><div class="line">$ ./configure --with-x=no --<span class="built_in">enable</span>-R-shlib</div></pre></td></tr></table></figure><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ make</div><div class="line">$ make install</div></pre></td></tr></table></figure><h3 id="配置环境变量（可选）"><a href="#配置环境变量（可选）" class="headerlink" title="配置环境变量（可选）"></a>配置环境变量（可选）</h3><p>如果在终端中直接输入 <code>R</code> 就可以进入 <code>R</code> 环境，就无需配置，否则可能起到反作用。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo gedit ~/.profile</div></pre></td></tr></table></figure><p>在文件末尾新增：</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">export PATH=<span class="variable">$PATH</span><span class="symbol">:/home/R-</span><span class="number">3.2</span>.<span class="number">2</span>/bin</div></pre></td></tr></table></figure><p>执行如下命令，使改变的环境变量生效。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">source</span> ~/.profile</div></pre></td></tr></table></figure><h2 id="安装-RStudio"><a href="#安装-RStudio" class="headerlink" title="安装 RStudio"></a>安装 RStudio</h2><p>下载 <code>RStudio.deb</code> 文件直接安装即可。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot; class=&quot;headerlink&quot; title=&quot;参考文档&quot;&gt;&lt;/a&gt;参考文档&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.sina.com.cn/s/blog_86c8fc120101fq07.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ubuntu上R的卸载与安装&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.sina.com.cn/s/blog_676069b10102waq8.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ubuntu 从源码编译安装R过程笔记&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;注意事项&quot;&gt;&lt;a href=&quot;#注意事项&quot; class=&quot;headerlink&quot; title=&quot;注意事项&quot;&gt;&lt;/a&gt;注意事项&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;操作系统：ubuntu 14.04 amd64&lt;/li&gt;
&lt;li&gt;千万不要用使用系统自带软件源安装，版本太低&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="r" scheme="https://yumuzi.github.io/tags/r/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 博客 NexT 模板配置之记录</title>
    <link href="https://yumuzi.github.io/hexo-next-theme.html"/>
    <id>https://yumuzi.github.io/hexo-next-theme.html</id>
    <published>2016-06-30T11:12:57.000Z</published>
    <updated>2017-11-05T15:32:10.807Z</updated>
    
    <content type="html"><![CDATA[<p><code>Hexo</code> 博客需要修改两个配置文件：</p><ul><li>站点的配置文件： <code>/_config.yml</code></li><li>模板的配置文件： <code>/themes/next/_config.yml</code><br>以下内容将主要围绕这两个文件展开。</li></ul><h2 id="安装-NexT"><a href="#安装-NexT" class="headerlink" title="安装 NexT"></a>安装 <code>NexT</code></h2><ul><li>下载 <code>hexo-theme-next</code>: <a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">NexT</a></li><li>修改站点配置文件：</li></ul><figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">language</span>: zh-Hans</div><div class="line"></div><div class="line"><span class="attribute">url</span>: http://yumuzi.github.io/</div><div class="line"></div><div class="line"><span class="attribute">theme</span>: next</div><div class="line"></div><div class="line"># Deployment</div><div class="line">## Docs: https://hexo.io/docs/deployment.html</div><div class="line"><span class="attribute">deploy:</span></div><div class="line">  type: git</div><div class="line">  <span class="attribute">repo</span>: git@github.com:yumuzi/yumuzi.github.io.git</div><div class="line">  <span class="attribute">branch</span>: master</div></pre></td></tr></table></figure><a id="more"></a><h2 id="配置-NexT"><a href="#配置-NexT" class="headerlink" title="配置 NexT"></a>配置 <code>NexT</code></h2><h3 id="设置侧边栏头像"><a href="#设置侧边栏头像" class="headerlink" title="设置侧边栏头像"></a>设置侧边栏头像</h3><p>在站点配置文件任意位置添加如下代码，并将图片放置在 <code>/source/uploads/</code> 文件夹下。</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">avatar:</span> <span class="meta-keyword">/uploads/</span>avatar.jpg</div></pre></td></tr></table></figure><h3 id="设置评论-duoshuo"><a href="#设置评论-duoshuo" class="headerlink" title="设置评论 duoshuo"></a>设置评论 <code>duoshuo</code></h3><p>在站点配置文件中添加如下代码，并参考 <a href="https://github.com/iissnan/hexo-theme-next/wiki/%E8%AE%BE%E7%BD%AE%E5%A4%9A%E8%AF%B4-DISQUS" target="_blank" rel="external">设置多说 DISQUS</a></p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">duoshuo_shortname:</span> liyanjie</div></pre></td></tr></table></figure><h3 id="添加友情链接"><a href="#添加友情链接" class="headerlink" title="添加友情链接"></a>添加友情链接</h3><p>将链接添加到站点配置文件中。</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># Social links</span></div><div class="line"><span class="symbol">social:</span></div><div class="line"><span class="symbol">  GitHub:</span> https:<span class="comment">//github.com/yumuzi</span></div><div class="line"><span class="symbol">  BitBucket:</span> https:<span class="comment">//bitbucket.org/liyanjie/</span></div><div class="line">  <span class="meta">#Twitter: https:<span class="comment">//twitter.com/iissnan</span></span></div><div class="line">  <span class="meta">#Weibo: http:<span class="comment">//weibo.com/iissnan</span></span></div><div class="line">  <span class="meta">#DouBan: http:<span class="comment">//douban.com/people/iissnan</span></span></div><div class="line"><span class="symbol">  ZhiHu:</span> https:<span class="comment">//www.zhihu.com/people/dong-cheng-xi-jiu-46</span></div><div class="line"><span class="symbol">  TRISK:</span> http:<span class="comment">//www.sh-trisk.com/</span></div><div class="line"><span class="symbol">  RiskVisual:</span> http:<span class="comment">//139.196.177.141/VMonitor/Auth/login.html</span></div><div class="line">  TJ-Library: http:<span class="comment">//www.lib.tongji.edu.cn/site/tongji/index.html</span></div><div class="line"><span class="symbol">  GoogleScholar:</span> https:<span class="comment">//scholar.google.com.hk/</span></div><div class="line"><span class="symbol">  BaiDuScholar:</span> http:<span class="comment">//xueshu.baidu.com/</span></div><div class="line"><span class="symbol">  LiaoXuefeng:</span> http:<span class="comment">//www.liaoxuefeng.com/</span></div><div class="line"><span class="symbol">  ESET:</span> http:<span class="comment">//bbs.kafan.cn/thread-1466549-1-1.html</span></div></pre></td></tr></table></figure><h3 id="添加-Google-Webmaster-tools-验证"><a href="#添加-Google-Webmaster-tools-验证" class="headerlink" title="添加 Google Webmaster tools 验证"></a>添加 Google Webmaster tools 验证</h3><p>参考： <a href="https://github.com/iissnan/hexo-theme-next/wiki/%E6%B7%BB%E5%8A%A0-Google-Webmaster-tools-%E9%AA%8C%E8%AF%81" target="_blank" rel="external">添加 Google Webmaster tools 验证</a></p><p>在站点配置文件中添加如下代码：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># Google Webmaster tools verification setting</span></div><div class="line"><span class="meta"># See: https:<span class="comment">//www.google.com/webmasters/</span></span></div><div class="line"><span class="symbol">google_site_verification:</span> W8hBJvI6x2_L0qJXcRUxwJbebxd87EQJkLDGRjRslzs</div></pre></td></tr></table></figure><h3 id="添加-Google-Baidu-统计"><a href="#添加-Google-Baidu-统计" class="headerlink" title="添加 Google Baidu 统计"></a>添加 Google Baidu 统计</h3><p>参考：</p><ul><li><a href="https://github.com/iissnan/hexo-theme-next/wiki/%E6%B7%BB%E5%8A%A0-Google---%E7%99%BE%E5%BA%A6-%E7%BB%9F%E8%AE%A1" target="_blank" rel="external">添加 Google 百度 统计</a></li><li><a href="https://www.google.com/intl/zh-CN_hk/analytics/" target="_blank" rel="external">Google Analytics（分析）</a></li><li><a href="http://sitecenter.baidu.com/sc-web/" target="_blank" rel="external">百度统计</a></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> Google Analytics</span></div><div class="line"><span class="meta">#</span><span class="bash"> Google分析ID</span></div><div class="line">google_analytics: UA-80055069-1</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> 百度分析ID</span></div><div class="line">baidu_analytics: c09a5ad5b8a33a8dca67eca63cc05ca5</div></pre></td></tr></table></figure><h3 id="添加站点地图"><a href="#添加站点地图" class="headerlink" title="添加站点地图"></a>添加站点地图</h3><p>参考：</p><ul><li><a href="http://lukang.me/2015/optimization-of-hexo-2.html" target="_blank" rel="external">Hexo 优化与定制(二)</a></li><li><a href="http://selfboot.cn/2014/12/21/add_blog_to_google/" target="_blank" rel="external">博客推广——提交搜索引擎</a></li></ul><p>使用插件生成站点地图，代码如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ npm install hexo-generator-sitemap --save</div><div class="line">$ npm install hexo-generator-baidu-sitemap --save</div></pre></td></tr></table></figure><p>并在站点配置文件中添加如下代码：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">sitemap:</span></div><div class="line"><span class="symbol">  path:</span> sitemap.xml</div><div class="line"></div><div class="line"><span class="symbol">baidumap:</span></div><div class="line"><span class="symbol">  path:</span> baidusitemap.xml</div></pre></td></tr></table></figure><h3 id="添加-RSS-订阅"><a href="#添加-RSS-订阅" class="headerlink" title="添加 RSS 订阅"></a>添加 RSS 订阅</h3><p>参考：<a href="http://mritd.me/2016/03/08/Hexo%E6%B7%BB%E5%8A%A0Rss%E8%AE%A2%E9%98%85/" target="_blank" rel="external">Hexo添加Rss订阅</a></p><p>安装 <code>RSS</code> 插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install hexo-generator-feed --save</div></pre></td></tr></table></figure><p>在站点配置文件中添加如下代码：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># RSS 订阅支持</span></div><div class="line"><span class="meta"># Feed Atom</span></div><div class="line"><span class="symbol">feed:</span></div><div class="line"><span class="symbol">  type:</span> atom</div><div class="line"><span class="symbol">  path:</span> atom.xml</div><div class="line"><span class="symbol">  limit:</span> <span class="number">20</span></div><div class="line"><span class="symbol">  hub:</span></div></pre></td></tr></table></figure><h3 id="添加站内搜索"><a href="#添加站内搜索" class="headerlink" title="添加站内搜索"></a>添加站内搜索</h3><p>参考：<a href="https://github.com/iissnan/hexo-theme-next/wiki/Swiftype%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2" target="_blank" rel="external">Swiftype站内搜索</a></p><h3 id="自定义站内搜索"><a href="#自定义站内搜索" class="headerlink" title="自定义站内搜索"></a>自定义站内搜索</h3><p>参考：<a href="https://github.com/iissnan/hexo-theme-next/wiki/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2" target="_blank" rel="external">自定义站内搜索</a></p><h3 id="阅读次数"><a href="#阅读次数" class="headerlink" title="阅读次数"></a>阅读次数</h3><p>参考：<a href="http://oyjt.github.io/2016/04/09/%E4%B8%BA%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8A%9F%E8%83%BD/" target="_blank" rel="external">为博客文章添加阅读量统计功能</a></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Show number of visitors to each article.</span></div><div class="line"><span class="comment"># You can visit https://leancloud.cn get AppID and AppKey.</span></div><div class="line"><span class="attr">leancloud_visitors:</span></div><div class="line"><span class="attr">  enable:</span> <span class="literal">true</span></div><div class="line"><span class="attr">  app_id:</span> <span class="string">zLSdflMuUY1ECQoMfs2yesmi-gzGzoHsz</span></div><div class="line"><span class="attr">  app_key:</span> <span class="string">vHXMGspVWONNGTitY8143H6v</span></div></pre></td></tr></table></figure><p><strong>未完待续…</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;Hexo&lt;/code&gt; 博客需要修改两个配置文件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;站点的配置文件： &lt;code&gt;/_config.yml&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;模板的配置文件： &lt;code&gt;/themes/next/_config.yml&lt;/code&gt;&lt;br&gt;以下内容将主要围绕这两个文件展开。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;安装-NexT&quot;&gt;&lt;a href=&quot;#安装-NexT&quot; class=&quot;headerlink&quot; title=&quot;安装 NexT&quot;&gt;&lt;/a&gt;安装 &lt;code&gt;NexT&lt;/code&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;下载 &lt;code&gt;hexo-theme-next&lt;/code&gt;: &lt;a href=&quot;https://github.com/iissnan/hexo-theme-next&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NexT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;修改站点配置文件：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight http&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;language&lt;/span&gt;: zh-Hans&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;url&lt;/span&gt;: http://yumuzi.github.io/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;theme&lt;/span&gt;: next&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Deployment&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;## Docs: https://hexo.io/docs/deployment.html&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;deploy:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  type: git&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;repo&lt;/span&gt;: git@github.com:yumuzi/yumuzi.github.io.git&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;branch&lt;/span&gt;: master&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="blog" scheme="https://yumuzi.github.io/tags/blog/"/>
    
      <category term="hexo" scheme="https://yumuzi.github.io/tags/hexo/"/>
    
      <category term="next" scheme="https://yumuzi.github.io/tags/next/"/>
    
      <category term="theme" scheme="https://yumuzi.github.io/tags/theme/"/>
    
  </entry>
  
  <entry>
    <title>用 Django 开发个人博客</title>
    <link href="https://yumuzi.github.io/Django-firstblog.html"/>
    <id>https://yumuzi.github.io/Django-firstblog.html</id>
    <published>2016-06-29T06:48:45.000Z</published>
    <updated>2017-11-05T15:31:25.753Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="http://www.51bxl.cn/blog/2/" target="_blank" rel="external">Django入门教程介绍</a></li></ul><h2 id="Django-搭建开发环境"><a href="#Django-搭建开发环境" class="headerlink" title="Django 搭建开发环境"></a>Django 搭建开发环境</h2><ul><li>首先，安装 <code>python 2.7</code>，过程不在赘述；</li><li>安装 <code>django 1.8.5</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo pip install django==1.8.5</div></pre></td></tr></table></figure><p>检查是否安装成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ python</div><div class="line"></div><div class="line">&gt;&gt;&gt; import django</div><div class="line">&gt;&gt;&gt; <span class="built_in">print</span> django.VERSION</div></pre></td></tr></table></figure><p>最后，按 <code>ctrl + d</code> 可以退出 <code>python</code> 环境。</p><a id="more"></a><h2 id="创建工程"><a href="#创建工程" class="headerlink" title="创建工程"></a>创建工程</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ django-admin.py startproject firstblog</div></pre></td></tr></table></figure><p>查看工程目录结构：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ tree</div></pre></td></tr></table></figure><h2 id="创建应用模块"><a href="#创建应用模块" class="headerlink" title="创建应用模块"></a>创建应用模块</h2><p>一个工程中可以创建多个应用<code>app</code>，一个app就是一个功能模块，下面创建一个 <code>blog</code> 应用。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python manage.py startapp blog</div></pre></td></tr></table></figure><p>然后，需要将新增的<code>app</code>添加到工程中去，打开 <code>firstblog/settring.py</code> 配置文件，增加一行：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">INSTALLED_APPS = (</div><div class="line">    <span class="string">'django.contrib.admin'</span>,</div><div class="line">    <span class="string">'django.contrib.auth'</span>,</div><div class="line">    <span class="string">'django.contrib.contenttypes'</span>,</div><div class="line">    <span class="string">'django.contrib.sessions'</span>,</div><div class="line">    <span class="string">'django.contrib.messages'</span>,</div><div class="line">    <span class="string">'django.contrib.staticfiles'</span>,</div><div class="line">    <span class="string">'blog'</span>,</div><div class="line">)</div></pre></td></tr></table></figure><h2 id="启动工程"><a href="#启动工程" class="headerlink" title="启动工程"></a>启动工程</h2><p>在 <code>firstblog</code> 工程目录下，输入命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python manage.py runserver</div></pre></td></tr></table></figure><p>打开浏览器，输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">127.0.0.1:8000</div></pre></td></tr></table></figure><h2 id="数据库设置"><a href="#数据库设置" class="headerlink" title="数据库设置"></a>数据库设置</h2><ul><li>安装 <code>mysql</code> 数据库</li></ul><p>参考：<a href="http://yumuzi.github.io/2016/05/23/Ubuntu-python/">Ubuntu + Python 学习之路</a></p><p>然后，安装 <code>navicat for mysql</code> 方便管理数据库。</p><ul><li>新建 <code>blog</code> 数据库</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ mysql -u root -p</div><div class="line"></div><div class="line">mysql&gt; create database blog default charset=utf8;</div></pre></td></tr></table></figure><p>打开 <code>firstblog/settings.py</code> 文件，修改：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">DATABASES = &#123;</div><div class="line">    <span class="string">'default'</span>: &#123;</div><div class="line">        <span class="string">'ENGINE'</span>: <span class="string">'django.db.backends.mysql'</span>,</div><div class="line">        <span class="string">'NAME'</span>: <span class="string">'blog'</span>,</div><div class="line">        <span class="string">'USER'</span>: <span class="string">'root'</span>,</div><div class="line">        <span class="string">'PASSWORD'</span>: <span class="string">'123456'</span>,</div><div class="line">        <span class="string">'HOST'</span>: <span class="string">'localhost'</span>,</div><div class="line">        <span class="string">'PORT'</span>: <span class="string">'3306'</span>,</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">TIME_ZONE = <span class="string">'Asia/Shanghai'</span></div></pre></td></tr></table></figure><ul><li>新建表</li></ul><p>打开 <code>blog/models.py</code> 文件，添加：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</div><div class="line"> </div><div class="line"><span class="comment"># Create your models here.</span></div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tag</span><span class="params">(models.Model)</span>:</span></div><div class="line">    tag_name = models.CharField(<span class="string">'标签'</span>, max_length=<span class="number">50</span>)</div><div class="line">    tag_cn_name = models.CharField(<span class="string">'中文名字'</span>, max_length=<span class="number">50</span>, blank=<span class="keyword">True</span>)</div><div class="line"> </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__unicode__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.tag_name</div><div class="line"> </div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Article</span><span class="params">(models.Model)</span>:</span></div><div class="line">    title = models.CharField(<span class="string">'标题'</span>, max_length=<span class="number">100</span>)</div><div class="line">    tag = models.ManyToManyField(Tag, max_length=<span class="number">50</span>, blank=<span class="keyword">True</span>)</div><div class="line">    date_time = models.DateTimeField(<span class="string">'日期'</span>, auto_now_add=<span class="keyword">True</span>)</div><div class="line">    content = models.TextField(<span class="string">'内容'</span>, blank=<span class="keyword">True</span>, null=<span class="keyword">True</span>)</div><div class="line"> </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__unicode__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.title</div><div class="line"> </div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></div><div class="line">        verbose_name = <span class="string">'文章'</span></div><div class="line">        verbose_name_plural = <span class="string">'文章'</span></div><div class="line">        ordering = [<span class="string">'-date_time'</span>]</div></pre></td></tr></table></figure><p>然后，打开终端，输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ python manage.py makemigrations</div><div class="line">$ python manage.py migrate</div></pre></td></tr></table></figure><p>创建后台管理用户：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ python manage.py createsuper</div><div class="line">Username (leave blank to use <span class="string">'lyj'</span>): admin</div><div class="line">Email address: admin@123.com</div><div class="line">Password: </div><div class="line">Password (again): </div><div class="line">Superuser created successfully.</div></pre></td></tr></table></figure><p>在 <code>blog/admin.py</code> 中注册这两个表：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</div><div class="line"><span class="keyword">from</span> blog.models <span class="keyword">import</span> Tag, Article</div><div class="line"> </div><div class="line"><span class="comment"># Register your models here.</span></div><div class="line"> </div><div class="line">admin.site.register(Tag)</div><div class="line">admin.site.register(Article)</div></pre></td></tr></table></figure><p>在浏览器中输入 <code>127.0.0.1:8000/admin</code>，会出现登陆界面。</p><h2 id="view-和-url-1"><a href="#view-和-url-1" class="headerlink" title="view 和 url (1)"></a>view 和 url (1)</h2><ul><li>打开 <code>firstblog/urls.py</code> 文件，添加一行打开首页的代码：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> include, url</div><div class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</div><div class="line"><span class="keyword">import</span> settings</div><div class="line"></div><div class="line">urlpatterns = [</div><div class="line">    url(<span class="string">r'^admin/'</span>, include(admin.site.urls)),</div><div class="line">    url(<span class="string">r'^$'</span>, <span class="string">'blog.views.home'</span>, name=<span class="string">'home'</span>),</div><div class="line">]</div></pre></td></tr></table></figure><ul><li>接着打开 <code>blog/views.py</code>，添加 <code>home</code> 函数：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</div><div class="line"></div><div class="line"><span class="comment"># Create your views here.</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">home</span><span class="params">(request)</span>:</span></div><div class="line"> </div><div class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">"&lt;label style='color: ff0000'&gt;Hello World&lt;/label&gt;"</span>)</div></pre></td></tr></table></figure><ul><li>然后，启动服务，在浏览器输入 <code>127.0.0.1:8000</code>，可以看到会输出：</li></ul><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">Hello World</span></div></pre></td></tr></table></figure><h2 id="view-和-url-2"><a href="#view-和-url-2" class="headerlink" title="view 和 url (2)"></a>view 和 url (2)</h2><ul><li>在 <code>view</code> 中使用数据库，修改 <code>home</code> 函数：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</div><div class="line"><span class="comment">#from django.http import HttpResponse</span></div><div class="line"><span class="keyword">from</span> blog.models <span class="keyword">import</span> Article, Tag</div><div class="line"></div><div class="line"><span class="comment"># Create your views here.</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">home</span><span class="params">(request)</span>:</span></div><div class="line">    post_list = Article.objects.all()</div><div class="line"> </div><div class="line">    <span class="comment">#return HttpResponse("&lt;label style='color: ff0000'&gt;Hello World&lt;/label&gt;")</span></div><div class="line">    <span class="keyword">return</span> render(request, <span class="string">'blog/index.html'</span>, &#123;<span class="string">'post_list'</span>:post_list&#125;)</div></pre></td></tr></table></figure><p>此功能是获取所有的文章列表。</p><ul><li>再定义一个文章接收函数：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_articles</span><span class="params">(request, tag_name)</span>:</span></div><div class="line">    post_list = Article.objects.filter(tag_name = tag_name)</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> render(request, <span class="string">'blog/index.html'</span>, &#123;<span class="string">'post_list'</span>:post_list&#125;)</div></pre></td></tr></table></figure><ul><li>根据文章的 <code>id</code> 获取文章的内容：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">detail</span><span class="params">(request, id)</span>:</span></div><div class="line">    post = Article.objects.get(id = str(id))</div><div class="line">    <span class="keyword">return</span> render(request, <span class="string">'blog/detail.html'</span>, &#123;<span class="string">'post'</span>:post&#125;)</div></pre></td></tr></table></figure><ul><li>在 <code>blog/</code> 目录下建立 <code>url.py</code> 文件，添加代码：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> url</div><div class="line"></div><div class="line">urlpatterns = [</div><div class="line">    url(<span class="string">r'^$'</span>, <span class="string">'blog.views.home'</span>),</div><div class="line">    url(<span class="string">r'^(?P&lt;id&gt;\d+)/$'</span>, <span class="string">'blog.views.detail'</span>, name=<span class="string">'detail'</span>),</div><div class="line">    url(<span class="string">r'^(?P&lt;tag_name&gt;\w+)/$'</span>, <span class="string">'blog.views.get_articles'</span>, name=<span class="string">'get_articles'</span>),</div><div class="line">]</div></pre></td></tr></table></figure><h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><ul><li><p>在 <code>firstblog/</code> 目录下新增一个 <code>templates</code> 目录，与 <code>blog</code> 目录同级，在 <code>templates</code> 目录下新建一个 <code>blog</code> 目录。</p></li><li><p>由于前台页面中 <code>html, css, js</code> 等开发起来比较复杂，现在基本都用一些比较强大的工具，比如 <code>bootstrap</code>，但鉴于这个例子比较简单，就用一个轻量的 <code>pure</code> 框架。</p></li></ul><p><code>pure</code> 框架安装参考：<a href="http://yumuzi.github.io/2016/05/23/Ubuntu-python/">Ubuntu + Python 学习之路</a></p><ul><li>接着修改 <code>firstblog/settings.py</code> 文件：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">TEMPLATES = [</div><div class="line">    &#123;</div><div class="line">        <span class="string">'BACKEND'</span>: <span class="string">'django.template.backends.django.DjangoTemplates'</span>,</div><div class="line">        <span class="comment">#'DIRS': [],</span></div><div class="line">        <span class="string">'DIRS'</span>: (os.path.join(BASE_DIR, <span class="string">'firstblog/templates/'</span>),),<span class="comment"># 路径要写全</span></div><div class="line">        <span class="string">'APP_DIRS'</span>: <span class="keyword">True</span>,</div><div class="line">        <span class="string">'OPTIONS'</span>: &#123;</div><div class="line">            <span class="string">'context_processors'</span>: [</div><div class="line">                <span class="string">'django.template.context_processors.debug'</span>,</div><div class="line">                <span class="string">'django.template.context_processors.request'</span>,</div><div class="line">                <span class="string">'django.contrib.auth.context_processors.auth'</span>,</div><div class="line">                <span class="string">'django.contrib.messages.context_processors.messages'</span>,</div><div class="line">            ],</div><div class="line">        &#125;,</div><div class="line">    &#125;,</div><div class="line">]</div></pre></td></tr></table></figure><ul><li>下面实现一个简单的功能，把之前从数据库中获取的文章列表在模板中显示出来，在 <code>templates/blog/</code> 下创建 <code>index.html</code>：</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--index.html--&gt;</span></div><div class="line"><span class="meta">&lt;!doctype html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-capable"</span> <span class="attr">content</span>=<span class="string">"yes"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"format-detection"</span> <span class="attr">content</span>=<span class="string">"telephone=no"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"Keywords"</span> <span class="attr">content</span>=<span class="string">"python,django,django教程,服务器开发,web开发,博客开发"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"东杰网站."</span>&gt;</span></div><div class="line"> </div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>东杰网<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"> </div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://yui.yahooapis.com/pure/0.6.0/pure-min.css"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://picturebag.qiniudn.com/blog.css"</span>&gt;</span></div><div class="line"> </div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"> </div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"layout"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sidebar pure-u-1 pure-u-md-1-4"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Dong&amp;Jie Blog<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>东杰的网站<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line"> </div><div class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> </div><div class="line"> </div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content pure-u-1 pure-u-md-3-4"</span>&gt;</span></div><div class="line">              <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">                &#123;% for post in post_list %&#125;</div><div class="line">                    <span class="tag">&lt;<span class="name">section</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line"> </div><div class="line">                                <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">                                    日期:  <span class="tag">&lt;<span class="name">label</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>&#123;&#123; post.date_time |date:"Y /m /d H:i:s"&#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">                                <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></div><div class="line">                &#123;% endfor %&#125;</div><div class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure><ul><li>模板继承：</li></ul><p>在 <code>templates/blog/</code> 下创建 <code>base.html</code> 文件：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--base.html--&gt;</span></div><div class="line"><span class="meta">&lt;!doctype html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-capable"</span> <span class="attr">content</span>=<span class="string">"yes"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"format-detection"</span> <span class="attr">content</span>=<span class="string">"telephone=no"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"Keywords"</span> <span class="attr">content</span>=<span class="string">"python,django,django教程,服务器开发,web开发,博客开发"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"东杰网站."</span>&gt;</span></div><div class="line"> </div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>东杰网<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"> </div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://yui.yahooapis.com/pure/0.6.0/pure-min.css"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://picturebag.qiniudn.com/blog.css"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://picturebag.qiniudn.com/monokai.css"</span>&gt;</span></div><div class="line"> </div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"> </div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"layout"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sidebar pure-u-1 pure-u-md-1-4"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Dong&amp;Jie Blog<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>东杰的网站<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>                   </div><div class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> </div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content pure-u-1 pure-u-md-3-4"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">                    &#123;% block content %&#125;</div><div class="line">                    &#123;% endblock %&#125;</div><div class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure><p>然后，改写 <code>index.html</code>：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--home.html--&gt;</span></div><div class="line">&#123;% extends "blog/base.html" %&#125;</div><div class="line"> </div><div class="line">&#123;% block content %&#125;</div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"posts"</span>&gt;</span></div><div class="line">    &#123;% for post in post_list %&#125;</div><div class="line">        <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"post"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"post-header"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"post-title"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line"> </div><div class="line">                    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"post-meta"</span>&gt;</span></div><div class="line">                        日期:  <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"post-author"</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>&#123;&#123; post.date_time |date:"Y /m /d H:i:s"&#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">section</span>&gt;</span></div><div class="line">    &#123;% endfor %&#125;</div><div class="line"> </div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!-- /.blog-post --&gt;</span></div><div class="line">&#123;% endblock %&#125;</div></pre></td></tr></table></figure><ul><li>点击文章标题，显示文章详情：<br>首先，修改 <code>index.html</code>，将标题的 <code>href</code> 改为：</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"post-title"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;% url "</span><span class="attr">detail</span>" <span class="attr">id</span>=<span class="string">post.id</span> %&#125;" <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div></pre></td></tr></table></figure><p>在 <code>firstblog/urls.py</code> 中添加：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">url(<span class="string">r'^blog/'</span>, include(<span class="string">'blog.urls'</span>)),</div></pre></td></tr></table></figure><p>在 <code>blog/urls.py</code> 中添加：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">url(<span class="string">r'^(?P&lt;id&gt;\d+)/$'</span>, <span class="string">'blog.views.detail'</span>, name=<span class="string">'detail'</span>),</div></pre></td></tr></table></figure><p>在 <code>templates/blog/</code> 下新建一个 <code>detail.html</code>：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--detail.html--&gt;</span></div><div class="line">&#123;% extends "blog/base.html" %&#125;</div><div class="line">&#123;#&#123;% load custom_markdown %&#125;#&#125;</div><div class="line"> </div><div class="line">&#123;% block content %&#125;</div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"posts"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"post"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"post-header"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"post-title"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line"> </div><div class="line">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"post-meta"</span>&gt;</span></div><div class="line">                    日期:  <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"post-author"</span>&gt;</span>&#123;&#123; post.date_time |date:"Y /m /d H:i:s"&#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line"> </div><div class="line">        <span class="tag">&lt;<span class="name">div</span> &gt;</span></div><div class="line">             &#123;&#123; post.content&#125;&#125;</div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">&#123;% endblock %&#125;</div></pre></td></tr></table></figure><p>启动服务，在浏览器中打开，点击标题，就可以看到文章详情了。</p><h2 id="后台-Admin"><a href="#后台-Admin" class="headerlink" title="后台 Admin"></a>后台 Admin</h2><ul><li>实现后台富文本编辑界面</li></ul><p>选择百度的 <code>Ueditor</code> 编辑器：<a href="https://github.com/zhangfisher/DjangoUeditor" target="_blank" rel="external">github Ueditor</a></p><p>下载后，把里面的 <code>DjangoUeditor-master</code> 中的 <code>DjangoUeditor</code> 文件夹放到跟 <code>blog</code> 和 <code>templates</code> 同一级目录</p><p>修改 <code>firstblog/settrings.py</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">INSTALLED_APPS = (</div><div class="line">    ...</div><div class="line">     </div><div class="line">    <span class="string">'blog'</span>,</div><div class="line">    <span class="string">'DjangoUeditor'</span>,</div><div class="line">)</div></pre></td></tr></table></figure><p>在最下面添加如下代码，保证可以上传图片：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">STATIC_URL = <span class="string">'/static/'</span></div><div class="line">STATIC_ROOT = os.path.join(BASE_DIR, <span class="string">'collected_static'</span>)</div><div class="line"> </div><div class="line">STATICFILES_DIRS = (</div><div class="line">    os.path.join(BASE_DIR, <span class="string">"common_static"</span>),</div><div class="line">)</div><div class="line"> </div><div class="line"><span class="comment"># upload folder</span></div><div class="line">MEDIA_URL = <span class="string">'/media/'</span></div><div class="line">MEDIA_ROOT = os.path.join(BASE_DIR, <span class="string">'media'</span>)</div></pre></td></tr></table></figure><p>在 <code>firstblog/urls.py</code> 添加：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">url(<span class="string">r'^ueditor/'</span>, include(<span class="string">'DjangoUeditor.urls'</span> )),</div></pre></td></tr></table></figure><p>在最下面添加：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> settrings</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line"><span class="keyword">if</span> settings.DEBUG:</div><div class="line">    <span class="keyword">from</span> django.conf.urls.static <span class="keyword">import</span> static</div><div class="line">    urlpatterns += static(</div><div class="line">        settings.MEDIA_URL, document_root = settings.MEDIA_ROOT</div><div class="line">    )</div></pre></td></tr></table></figure><p>最后，修改 <code>blog/models.py</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> DjangoUeditor.models <span class="keyword">import</span> UEditorField</div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Article</span><span class="params">(models.Model)</span>:</span></div><div class="line"> </div><div class="line">           。。。省略其他代码</div><div class="line">            </div><div class="line">    content = UEditorField(<span class="string">'内容'</span>, height=<span class="number">500</span>, width=<span class="number">1000</span>,</div><div class="line">        default=<span class="string">u''</span>, blank=<span class="keyword">True</span>, imagePath=<span class="string">"uploads/images/"</span>,</div><div class="line">        toolbars=<span class="string">'besttome'</span>, filePath=<span class="string">'uploads/files/'</span>)</div></pre></td></tr></table></figure><ul><li>前台的显示</li></ul><p>首先，修改 <code>templates/blog/base.html</code>，在 <code>&lt;head&gt;</code> 中添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"/static/ueditor/third-party/SyntaxHighlighter/shCoreDefault.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/static/ueditor/third-party/SyntaxHighlighter/shCore.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="undefined">    SyntaxHighlighter.all();</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><p>然后，将 <code>templates/blog/detail.html</code> 中的：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> &gt;</span></div><div class="line">     &#123;&#123; post.content&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p>改为：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> &gt;</span></div><div class="line">    &#123;&#123; post.content|safe &#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p><code>safe</code> 把服务器传过来的格式转换为<code>html</code> 格式。</p><p><strong>Over!</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;参考资料&quot;&gt;&lt;a href=&quot;#参考资料&quot; class=&quot;headerlink&quot; title=&quot;参考资料&quot;&gt;&lt;/a&gt;参考资料&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.51bxl.cn/blog/2/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Django入门教程介绍&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;Django-搭建开发环境&quot;&gt;&lt;a href=&quot;#Django-搭建开发环境&quot; class=&quot;headerlink&quot; title=&quot;Django 搭建开发环境&quot;&gt;&lt;/a&gt;Django 搭建开发环境&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;首先，安装 &lt;code&gt;python 2.7&lt;/code&gt;，过程不在赘述；&lt;/li&gt;
&lt;li&gt;安装 &lt;code&gt;django 1.8.5&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo pip install django==1.8.5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;检查是否安装成功：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ python&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; import django&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt; django.VERSION&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;最后，按 &lt;code&gt;ctrl + d&lt;/code&gt; 可以退出 &lt;code&gt;python&lt;/code&gt; 环境。&lt;/p&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
      <category term="django" scheme="https://yumuzi.github.io/tags/django/"/>
    
      <category term="blog" scheme="https://yumuzi.github.io/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>用 Scrapy 实现的一个网络爬虫</title>
    <link href="https://yumuzi.github.io/spider.html"/>
    <id>https://yumuzi.github.io/spider.html</id>
    <published>2016-06-22T12:05:26.000Z</published>
    <updated>2017-11-05T15:33:38.788Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://blog.csdn.net/column/details/why-bug.html" target="_blank" rel="external">Python爬虫入门教程</a></li><li><a href="http://blog.csdn.net/pleasecallmewhy/article/details/19642329" target="_blank" rel="external">[Python]网络爬虫（12）：爬虫框架Scrapy的第一个爬虫示例入门教程</a></li><li><a href="http://blog.csdn.net/u012150179/article/details/32911511" target="_blank" rel="external">scrapy研究探索（二）——爬w3school.com.cn</a></li><li><a href="http://blog.csdn.net/felcon/article/details/46439995" target="_blank" rel="external">Scrapy中文输出与中文保存</a></li><li><a href="http://blog.163.com/fy_ay/blog/static/22028347200991693526268/" target="_blank" rel="external">python 元素列表的可变性（修改，插入，删除）</a></li><li><a href="http://www.cnblogs.com/QuDump/p/3750447.html" target="_blank" rel="external">Ubuntu 14.04 安装 scrapy</a></li></ul><h2 id="Scrapy框架"><a href="#Scrapy框架" class="headerlink" title="Scrapy框架"></a><code>Scrapy</code>框架</h2><h3 id="安装（Ubuntu-14-04）"><a href="#安装（Ubuntu-14-04）" class="headerlink" title="安装（Ubuntu 14.04）"></a>安装（Ubuntu 14.04）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">在执行如下命令之前，确定已经安装了 Python 2.7, lxml, OpenSSL, pip, python-dev</div><div class="line">$ sudo pip install service_identity</div><div class="line">$ sudo pip install Scrapy</div></pre></td></tr></table></figure><a id="more"></a><h3 id="新建项目（tj91）"><a href="#新建项目（tj91）" class="headerlink" title="新建项目（tj91）"></a>新建项目（tj91）</h3><p>下面将建立一个获取“同济大学就业信息网（<a href="http://tj91.tongji.edu.cn/）”的爬虫。" target="_blank" rel="external">http://tj91.tongji.edu.cn/）”的爬虫。</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ scrapy startproject tj91</div></pre></td></tr></table></figure><h3 id="items-py"><a href="#items-py" class="headerlink" title="items.py"></a><code>items.py</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="keyword">from</span> scrapy.item <span class="keyword">import</span> Item, Field</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tj91Item</span><span class="params">(Item)</span>:</span></div><div class="line">    title = Field()</div><div class="line">    link = Field()</div><div class="line">    desc = Field()</div></pre></td></tr></table></figure><h3 id="pipelines-py"><a href="#pipelines-py" class="headerlink" title="pipelines.py"></a><code>pipelines.py</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> json</div><div class="line"><span class="keyword">import</span> codecs</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tj91Pipeline</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        self.file = codecs.open(<span class="string">'tj91_data_utf8.json'</span>, <span class="string">'wb'</span>, encoding=<span class="string">'utf-8'</span>)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_item</span><span class="params">(self, item, spider)</span>:</span></div><div class="line">        line = json.dumps(dict(item)) + <span class="string">'\n'</span>  </div><div class="line">        self.file.write(line.decode(<span class="string">"unicode_escape"</span>))  </div><div class="line">        <span class="keyword">return</span> item</div></pre></td></tr></table></figure><h3 id="settings-py"><a href="#settings-py" class="headerlink" title="settings.py"></a><code>settings.py</code></h3><p>增加如下内容。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ITEM_PIPELINES = &#123;</div><div class="line">    <span class="string">'tj91.pipelines.Tj91Pipeline'</span>:<span class="number">300</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="主程序-tj91-spider-py"><a href="#主程序-tj91-spider-py" class="headerlink" title="主程序 tj91_spider.py"></a>主程序 <code>tj91_spider.py</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> scrapy.spider <span class="keyword">import</span> Spider</div><div class="line"><span class="keyword">from</span> scrapy.selector <span class="keyword">import</span> Selector</div><div class="line"><span class="keyword">from</span> scrapy <span class="keyword">import</span> log</div><div class="line"><span class="keyword">from</span> tj91.items <span class="keyword">import</span> Tj91Item</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tj91Spider</span><span class="params">(Spider)</span>:</span></div><div class="line">    name = <span class="string">"tj91"</span></div><div class="line">    allowed_domains = [<span class="string">"tongji.edu.cn"</span>]</div><div class="line">    start_urls = [</div><div class="line">        <span class="string">"http://tj91.tongji.edu.cn/detach.portal?.f=pe401&amp;.pmn=view&amp;action=bulletinsMoreView&amp;search=true&amp;.ia=false&amp;.pen=pe401&amp;groupid=20"</span>,</div><div class="line">        <span class="string">"http://tj91.tongji.edu.cn/detach.portal?.f=pe401&amp;.pmn=view&amp;action=bulletinsMoreView&amp;search=true&amp;.ia=false&amp;.pen=pe401&amp;groupid=21"</span>,</div><div class="line">        <span class="string">"http://tj91.tongji.edu.cn/detach.portal?pageIndex=2&amp;.pmn=view&amp;groupid=21&amp;action=bulletinsMoreView&amp;pageSize=&amp;.ia=false&amp;.pen=pe401"</span>,</div><div class="line">        <span class="string">"http://tj91.tongji.edu.cn/detach.portal?pageIndex=2&amp;.pmn=view&amp;groupid=20&amp;action=bulletinsMoreView&amp;pageSize=&amp;.ia=false&amp;.pen=pe401"</span></div><div class="line">]</div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self, response)</span>:</span></div><div class="line">        sel = Selector(response)</div><div class="line">        sites = sel.xpath(<span class="string">'//ul[@id="blpe401"]/li'</span>)</div><div class="line">        items = []</div><div class="line">        <span class="keyword">for</span> site <span class="keyword">in</span> sites:</div><div class="line">            item = Tj91Item()</div><div class="line"></div><div class="line">            title = site.xpath(<span class="string">'a/text()'</span>).extract()<span class="comment"># 获取标题</span></div><div class="line">            date = site.xpath(<span class="string">'span/span/text()'</span>).extract()<span class="comment"># 获取日期</span></div><div class="line">            link = site.xpath(<span class="string">'a/@href'</span>).extract()<span class="comment"># 获取超链接</span></div><div class="line">            item[<span class="string">'title'</span>] = title + date<span class="comment"># 将标题和日期组合显示</span></div><div class="line">            link[<span class="number">1</span>] = <span class="string">"http://tj91.tongji.edu.cn/"</span> + link[<span class="number">1</span>]<span class="comment"># 对爬取的超链接进行修改</span></div><div class="line">            item[<span class="string">'link'</span>] = link[<span class="number">1</span>]</div><div class="line">            items.append(item)</div><div class="line">        <span class="keyword">return</span> items</div></pre></td></tr></table></figure><h3 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ scrapy crawl tj91</div></pre></td></tr></table></figure><p>执行该命令就会在工程根目录生成 <code>tj91_data_utf8.json</code> 文件。</p><p><strong>完成！^_^</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot; class=&quot;headerlink&quot; title=&quot;参考文档&quot;&gt;&lt;/a&gt;参考文档&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/column/details/why-bug.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Python爬虫入门教程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/pleasecallmewhy/article/details/19642329&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;[Python]网络爬虫（12）：爬虫框架Scrapy的第一个爬虫示例入门教程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/u012150179/article/details/32911511&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;scrapy研究探索（二）——爬w3school.com.cn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/felcon/article/details/46439995&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Scrapy中文输出与中文保存&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.163.com/fy_ay/blog/static/22028347200991693526268/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;python 元素列表的可变性（修改，插入，删除）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/QuDump/p/3750447.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ubuntu 14.04 安装 scrapy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;Scrapy框架&quot;&gt;&lt;a href=&quot;#Scrapy框架&quot; class=&quot;headerlink&quot; title=&quot;Scrapy框架&quot;&gt;&lt;/a&gt;&lt;code&gt;Scrapy&lt;/code&gt;框架&lt;/h2&gt;&lt;h3 id=&quot;安装（Ubuntu-14-04）&quot;&gt;&lt;a href=&quot;#安装（Ubuntu-14-04）&quot; class=&quot;headerlink&quot; title=&quot;安装（Ubuntu 14.04）&quot;&gt;&lt;/a&gt;安装（Ubuntu 14.04）&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;在执行如下命令之前，确定已经安装了 Python 2.7, lxml, OpenSSL, pip, python-dev&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo pip install service_identity&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo pip install Scrapy&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
      <category term="spider" scheme="https://yumuzi.github.io/tags/spider/"/>
    
  </entry>
  
  <entry>
    <title>python 实现的若干小程序</title>
    <link href="https://yumuzi.github.io/python-applications.html"/>
    <id>https://yumuzi.github.io/python-applications.html</id>
    <published>2016-06-21T01:17:23.000Z</published>
    <updated>2017-11-05T15:33:09.138Z</updated>
    
    <content type="html"><![CDATA[<h2 id="读取和更改PDF文档标题"><a href="#读取和更改PDF文档标题" class="headerlink" title="读取和更改PDF文档标题"></a>读取和更改PDF文档标题</h2><ul><li>安装<code>python-pypdf</code><br>参考：<a href="https://www.howinstall.co/en/ubuntu/trusty/python-pypdf" target="_blank" rel="external">How to install python-pypdf on Ubuntu 14.04 (Trusty Tahr)</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install python-pypdf</div></pre></td></tr></table></figure><a id="more"></a><ul><li>使用</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> pyPdf <span class="keyword">import</span> PdfFileWriter, PdfFileReader</div><div class="line"><span class="keyword">import</span> os</div><div class="line"></div><div class="line"><span class="keyword">for</span> fileName <span class="keyword">in</span> os.listdir(<span class="string">'.'</span>):</div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        <span class="keyword">if</span> fileName.lower()[<span class="number">-3</span>:] != <span class="string">"pdf"</span>: <span class="keyword">continue</span></div><div class="line">        input1 = PdfFileReader(file(fileName,<span class="string">"rb"</span>))</div><div class="line"></div><div class="line">        <span class="comment"># print the title of document1.pdf</span></div><div class="line">        fo = open(<span class="string">"foo.txt"</span>, <span class="string">"a"</span>)</div><div class="line">        fo.write(<span class="string">'##1:\n'</span> + fileName + <span class="string">'\n'</span> + <span class="string">'##2:\n'</span> + input1.getDocumentInfo().title + <span class="string">'\n\n'</span>)</div><div class="line">        fo.close()</div><div class="line"></div><div class="line">        <span class="comment"># rename the document with it's title</span></div><div class="line">        os.rename(fileName, input1.getDocumentInfo().title + <span class="string">".pdf"</span>)</div><div class="line">    <span class="keyword">except</span>:</div><div class="line">        <span class="keyword">print</span> <span class="string">'##1'</span>, fileName, <span class="string">'##2'</span></div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"Success!"</span></div></pre></td></tr></table></figure><h2 id="神经网络-pybrain"><a href="#神经网络-pybrain" class="headerlink" title="神经网络 pybrain"></a>神经网络 <code>pybrain</code></h2><ul><li>安装 <code>pybrain</code><br>参考：<a href="https://github.com/pybrain/pybrain/wiki/Installation" target="_blank" rel="external">Installation</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git clone https://github.com/pybrain/pybrain.git</div><div class="line">$ cd pybrain</div><div class="line">$ sudo pip install .</div></pre></td></tr></table></figure><ul><li>使用<br>参考：<a href="http://www.jianshu.com/p/29dd4787096a" target="_blank" rel="external">PyBrain学习笔记（一）</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="comment"># 说明：</span></div><div class="line"><span class="comment"># 1.pybrain使用addSample添加输入和目标输出；</span></div><div class="line"><span class="comment"># 2.使用buildNetwork构建神经网络</span></div><div class="line"><span class="comment"># 3.使用BackpropTrainer训练神经网络</span></div><div class="line"><span class="comment"># 4.最后输出原始目标和训练后的结果</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> pybrain.datasets <span class="keyword">import</span> SupervisedDataSet</div><div class="line"><span class="keyword">from</span> pybrain.tools.shortcuts <span class="keyword">import</span> buildNetwork</div><div class="line"><span class="keyword">from</span> pybrain.supervised.trainers <span class="keyword">import</span> BackpropTrainer</div><div class="line"></div><div class="line">ds = SupervisedDataSet(<span class="number">3</span>,<span class="number">1</span>)</div><div class="line">ds.addSample((<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>),(<span class="number">0</span>))</div><div class="line">ds.addSample((<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>),(<span class="number">1</span>))</div><div class="line">ds.addSample((<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>),(<span class="number">1</span>))</div><div class="line">ds.addSample((<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>),(<span class="number">0</span>))</div><div class="line"></div><div class="line">net = buildNetwork(<span class="number">3</span>,<span class="number">3</span>,<span class="number">1</span>)</div><div class="line"></div><div class="line">trainer = BackpropTrainer(net,ds)</div><div class="line">trainer.train()</div><div class="line"></div><div class="line"><span class="keyword">for</span> input, target <span class="keyword">in</span> ds:</div><div class="line">    <span class="keyword">print</span> input, target, net.activate(input)</div></pre></td></tr></table></figure><h2 id="支持向量机SVM"><a href="#支持向量机SVM" class="headerlink" title="支持向量机SVM"></a>支持向量机<code>SVM</code></h2><ul><li><p>使用<br>参考：<a href="http://www.fuqingchuan.com/2014/03/222.html" target="_blank" rel="external">揭开机器学习的面纱：SVM 100行代码实现[Python版]</a></p></li><li><p>代码</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment">#coding=utf8</span></div><div class="line"><span class="keyword">import</span> sys;</div><div class="line"><span class="keyword">import</span> random;</div><div class="line"><span class="keyword">import</span> math;</div><div class="line">EPS = <span class="number">0.0000000001</span> <span class="comment"># 很小的数字，用于判断浮点数是否等于0</span></div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_data</span><span class="params">(filename, data, dim)</span>:</span></div><div class="line">    <span class="string">'''</span></div><div class="line"><span class="string">    输入数据格式: label\tindex1:value1\tindex2:value2\tindex3:value3..., 其中index是特征的编号, 从1开始</span></div><div class="line"><span class="string">    data的数据格式: [[label, sample],[label, sample], ...],  其中sample: [v0, v1, v2, v3, ..., v[dim]]</span></div><div class="line"><span class="string">    '''</span> </div><div class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> open(filename, <span class="string">'rt'</span>):</div><div class="line">        sample = [<span class="number">0.0</span> <span class="keyword">for</span> v <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>)]; </div><div class="line">        line = line.rstrip(<span class="string">"\r\n\t "</span>);</div><div class="line">        fields = line.split(<span class="string">"\t"</span>);</div><div class="line">        label = int(fields[<span class="number">0</span>]); <span class="comment"># LABEL取值: 1 or -1</span></div><div class="line">        sample[<span class="number">0</span>] = <span class="number">1.0</span>; <span class="comment">#sample第一个元素用于存x0特征, 默认置为1.0[方便把 WX+b =&gt; WX]</span></div><div class="line">        <span class="keyword">for</span> field <span class="keyword">in</span> fields[<span class="number">1</span>:]:</div><div class="line">            kv = field.split(<span class="string">":"</span>);</div><div class="line">            idx = int(kv[<span class="number">0</span>]); <span class="comment"># ensure idx &gt;= 1</span></div><div class="line">            val = float(kv[<span class="number">1</span>]);</div><div class="line">            sample[idx] = val;</div><div class="line">        data.append((label, sample));</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">svm_train</span><span class="params">(data4train, dim, W, iterations, lm, lr)</span>:</span></div><div class="line">    <span class="string">'''</span></div><div class="line"><span class="string">    目标函数: obj(&lt;X,y&gt;, W) = (对所有&lt;X,y&gt;SUM&#123;max&#123;0, 1 - W*X*y&#125;&#125;) + lm / 2 * ||W||^2, 即：hinge+L2</span></div><div class="line"><span class="string">    '''</span></div><div class="line">    X = [<span class="number">0.0</span> <span class="keyword">for</span> v <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>)]; <span class="comment"># &lt;sample, label&gt; =&gt; &lt;X, y&gt;</span></div><div class="line">    grad = [<span class="number">0.0</span> <span class="keyword">for</span> v <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>)]; <span class="comment"># 梯度</span></div><div class="line">    num_train = len(data4train);</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, iterations):</div><div class="line">        <span class="comment">#每次迭代随机选择一个训练样本</span></div><div class="line">        index = random.randint(<span class="number">0</span>, num_train - <span class="number">1</span>);</div><div class="line">        y = data4train[index][<span class="number">0</span>]; <span class="comment"># y其实就是label</span></div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">            X[j] = data4train[index][<span class="number">1</span>][j];<span class="comment"># sample的vj</span></div><div class="line"></div><div class="line">        <span class="comment">#计算梯度</span></div><div class="line">        <span class="comment">#for j in range(0, dim + 1):</span></div><div class="line">        <span class="comment">#grad = lm * W[j];</span></div><div class="line">        WX = <span class="number">0.0</span>;</div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">            WX += W[j] * X[j];</div><div class="line">        <span class="keyword">if</span> <span class="number">1</span> - WX *y &gt; <span class="number">0</span>:</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">                grad[j] = lm * W[j] - X[j] * y;</div><div class="line">        <span class="keyword">else</span>:  <span class="comment"># 1-WX *y &lt;= 0的时候，目标函数的前半部分恒等于0, 梯度也是0</span></div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">                grad[j] = lm * W[j] - <span class="number">0</span>;</div><div class="line"> </div><div class="line">        <span class="comment">#更新权重, lr是学习速率</span></div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">            W[j] = W[j] - lr * grad[j];</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">svm_predict</span><span class="params">(data4test, dim , W)</span>:</span></div><div class="line">    num_test = len(data4test);</div><div class="line">    num_correct = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, num_test):</div><div class="line">        target = data4test[i][<span class="number">0</span>]; <span class="comment">#即label</span></div><div class="line">        X = data4test[i][<span class="number">1</span>]; <span class="comment"># 即sample</span></div><div class="line">        sum = <span class="number">0.0</span>;</div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">            sum += X[j] * W[j];</div><div class="line">        predict = <span class="number">-1</span>;</div><div class="line">        <span class="comment">#print sum;</span></div><div class="line">        <span class="keyword">if</span> sum &gt; <span class="number">0</span>:  <span class="comment">#权值&gt;0，认为目标值为1</span></div><div class="line">            predict = <span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span> predict * target &gt; <span class="number">0</span>: <span class="comment">#预测值和目标值符号相同</span></div><div class="line">            num_correct += <span class="number">1</span>;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> num_correct * <span class="number">1.0</span> / num_test;</div><div class="line"> </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">    <span class="string">'''</span></div><div class="line"><span class="string">    主函数：设置参数=&gt;导入数据=&gt;训练=&gt;输出结果</span></div><div class="line"><span class="string">    '''</span></div><div class="line">    <span class="comment">#设置参数</span></div><div class="line">    epochs = <span class="number">100</span>;<span class="comment">#迭代轮数</span></div><div class="line">    iterations = <span class="number">10</span>;<span class="comment">#每一轮中梯度下降迭代次数, 这个其实可以和epochs合并为一个参数</span></div><div class="line">    data4train = []; <span class="comment">#训练集, 假设每个样本的特征数量都一样</span></div><div class="line">    data4test = []; <span class="comment">#测试集, 假设每个样本的特征数量都一样</span></div><div class="line">    lm = <span class="number">0.0001</span>; <span class="comment">#lambda, 对权值做正则化限制的权重</span></div><div class="line">    lr = <span class="number">0.01</span>;   <span class="comment">#lr, 是学习速率，用于调整训练收敛的速度</span></div><div class="line">    dim = <span class="number">1000</span>;<span class="comment">#dim, 特征的最大维度, 所有样本不同特征总数</span></div><div class="line">    W = [<span class="number">0.0</span> <span class="keyword">for</span> v <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>)]; <span class="comment">#权值</span></div><div class="line">    <span class="comment">#导入测试集&amp;训练集</span></div><div class="line">    load_data(<span class="string">"train.txt"</span>, data4train, dim);</div><div class="line">    load_data(<span class="string">"test.txt"</span>, data4test, dim);</div><div class="line">    <span class="comment">#训练, 实际迭代次数=epochs * iterations</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, epochs):</div><div class="line">        svm_train(data4train, dim, W, iterations, lm, lr);</div><div class="line">        accuracy = svm_predict(data4test, dim, W);</div><div class="line">        <span class="keyword">print</span> <span class="string">"epoch:%d\taccuracy:%f"</span>%(i, accuracy);</div><div class="line">    <span class="comment">#输出结果权值</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, dim + <span class="number">1</span>):</div><div class="line">        <span class="keyword">if</span> math.fabs(W[i]) &gt; EPS:</div><div class="line">            <span class="keyword">print</span> <span class="string">"%d\t%f"</span>%(i, W[i]);</div><div class="line">    sys.exit(<span class="number">0</span>);</div></pre></td></tr></table></figure><h2 id="有限元sfepy"><a href="#有限元sfepy" class="headerlink" title="有限元sfepy"></a>有限元<code>sfepy</code></h2><p>参考：<a href="http://yumuzi.github.io/2016/05/25/sfepy-install/">Ubuntu 14.04 安装 Python 有限元模块 sfepy</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">进入sfepy目录</div><div class="line">$ ./simple.py examples/diffusion/poisson_short_syntax.py</div><div class="line">$ ./postproc.py cylinder.vtk</div></pre></td></tr></table></figure><h2 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h2><p>参考：<a href="https://www.zhihu.com/question/20899988/answer/91660166" target="_blank" rel="external">如何入门 Python 爬虫？</a></p><ul><li>代码</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> urllib2 <span class="keyword">import</span> urlopen</div><div class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</div><div class="line"></div><div class="line">url = <span class="string">"http://www.xinhuanet.com/"</span></div><div class="line">html = urlopen(url)</div><div class="line"></div><div class="line">bsObj = BeautifulSoup(html, <span class="string">"html.parser"</span>)</div><div class="line">print(bsObj.title)</div></pre></td></tr></table></figure><ul><li><code>Scrapy</code> 框架: 参见 <a href="http://yumuzi.github.io/2016/06/22/spider/">用 Scrapy 实现的一个网络爬虫</a></li></ul><p><strong>持续更新……</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;读取和更改PDF文档标题&quot;&gt;&lt;a href=&quot;#读取和更改PDF文档标题&quot; class=&quot;headerlink&quot; title=&quot;读取和更改PDF文档标题&quot;&gt;&lt;/a&gt;读取和更改PDF文档标题&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;安装&lt;code&gt;python-pypdf&lt;/code&gt;&lt;br&gt;参考：&lt;a href=&quot;https://www.howinstall.co/en/ubuntu/trusty/python-pypdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How to install python-pypdf on Ubuntu 14.04 (Trusty Tahr)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get update&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install python-pypdf&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>pandoc 在 Ubuntu 中的安装与使用</title>
    <link href="https://yumuzi.github.io/ubuntu-pandoc.html"/>
    <id>https://yumuzi.github.io/ubuntu-pandoc.html</id>
    <published>2016-05-26T14:53:28.000Z</published>
    <updated>2017-11-05T15:34:25.246Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://www.yangzhiping.com/tech/pandoc.html" target="_blank" rel="external">Markdown写作进阶：Pandoc入门浅谈</a></li><li><a href="http://www.bagualu.net/wordpress/archives/5396" target="_blank" rel="external">用pandoc把markdown转化为pdf文档</a></li></ul><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul><li>参考上述文档</li></ul><h2 id="文件转换"><a href="#文件转换" class="headerlink" title="文件转换"></a>文件转换</h2><h3 id="markdown-转-docx"><a href="#markdown-转-docx" class="headerlink" title="markdown 转 docx"></a><code>markdown</code> 转 <code>docx</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ pandoc 01-chapter2.markdown -o chapter2.docx -c Github.css</div></pre></td></tr></table></figure><h3 id="markdown-转-pdf"><a href="#markdown-转-pdf" class="headerlink" title="markdown 转 pdf"></a><code>markdown</code> 转 <code>pdf</code></h3><ul><li>首先，需要配置好<code>latex</code>环境</li><li>查看中文字体</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">fc</span>-list -f <span class="string">"%&#123;family&#125;\n"</span>  :lang=zh</div></pre></td></tr></table></figure><ul><li><code>pandoc</code>中的<code>pdf</code>模板</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ pandoc -D latex &gt; template.latex</div></pre></td></tr></table></figure><ul><li>转换</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ pandoc -f markdown -t latex -s -M mainfont:SimSun -M sansfont:SimSun -M monofont:SimHei --latex-engine=xelatex -o aa.pdf -M geometry:<span class="string">"top=1in,inner=1in,outer=1in,bottom=1in,headheight=3ex,headsep=2ex"</span> --template=./template.tex ubuntu_latex.md</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot; class=&quot;headerlink&quot; title=&quot;参考文档&quot;&gt;&lt;/a&gt;参考文档&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.yangzhiping.com/tech/pandoc.html&quot; ta
      
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="pandoc" scheme="https://yumuzi.github.io/tags/pandoc/"/>
    
  </entry>
  
  <entry>
    <title>LibSVM 在 Ubuntu 系统的安装与使用</title>
    <link href="https://yumuzi.github.io/ubuntu-libsvm.html"/>
    <id>https://yumuzi.github.io/ubuntu-libsvm.html</id>
    <published>2016-05-26T13:40:50.000Z</published>
    <updated>2017-11-05T15:34:17.311Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://www.xuebuyuan.com/1547606.html" target="_blank" rel="external">在 linux（ubuntu） 下 安装 LibSVM</a></li><li><a href="http://www.cnphp.info/use-libsvm-in-linux.html" target="_blank" rel="external">Linux下使用Libsvm</a></li></ul><h2 id="安装-gnuplot"><a href="#安装-gnuplot" class="headerlink" title="安装 gnuplot"></a>安装 gnuplot</h2><ul><li>下载源码：<a href="https://sourceforge.net/projects/gnuplot/files/gnuplot/4.6.6/" target="_blank" rel="external">gnuplot-4.6.6</a></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install libx11-dev</div></pre></td></tr></table></figure><ul><li>解压、编译和安装</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ tar xzvf gnuplot-4.6.6.tar.gz</div><div class="line">$ <span class="built_in">cd</span> gnuplot-4.6.6</div><div class="line">$ ./configure</div><div class="line">$ make</div><div class="line">$ sudo make install</div></pre></td></tr></table></figure><a id="more"></a><h2 id="安装-libsvm"><a href="#安装-libsvm" class="headerlink" title="安装 libsvm"></a>安装 libsvm</h2><ul><li>下载文件：<a href="http://www.csie.ntu.edu.tw/~cjlin/cgi-bin/libsvm.cgi?+http://www.csie.ntu.edu.tw/~cjlin/libsvm+tar.gz" target="_blank" rel="external">libsvm</a></li><li>下载完成后解压，我把libsvm文件夹放到了 /usr/bin 目录下，然后在tools文件夹下找到 easy.py 和 grid.py 两个文件。把其中 gnuplot 的路径设置好。注意gnuplot的pathname不是解压的那个目录，而是要用 which gnuplot 命令来找出。我安装完后gnuplot的路径是 /usr/local/bin/gnuplot</li><li>最后执行在libsvm的文件夹下执行make命令，在子目录python下执行make命令</li></ul><p><strong>至此libsvm安装完成～</strong></p><h2 id="使用-libsvm"><a href="#使用-libsvm" class="headerlink" title="使用 libsvm"></a>使用 libsvm</h2><ul><li>数据下载：<a href="http://www.csie.ntu.edu.tw/~cjlin/libsvmtools/datasets/" target="_blank" rel="external">libsvm-data</a></li></ul><p><strong>进入到<code>libsvm/tools</code>目录</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python easy.py ~/libsvm/examples/a1a ~/libsvm/examples/a1a.t</div></pre></td></tr></table></figure><p>前者为训练数据，后者为测试数据。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot; class=&quot;headerlink&quot; title=&quot;参考文档&quot;&gt;&lt;/a&gt;参考文档&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.xuebuyuan.com/1547606.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;在 linux（ubuntu） 下 安装 LibSVM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnphp.info/use-libsvm-in-linux.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Linux下使用Libsvm&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;安装-gnuplot&quot;&gt;&lt;a href=&quot;#安装-gnuplot&quot; class=&quot;headerlink&quot; title=&quot;安装 gnuplot&quot;&gt;&lt;/a&gt;安装 gnuplot&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;下载源码：&lt;a href=&quot;https://sourceforge.net/projects/gnuplot/files/gnuplot/4.6.6/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;gnuplot-4.6.6&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install libx11-dev&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;解压、编译和安装&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ tar xzvf gnuplot-4.6.6.tar.gz&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; gnuplot-4.6.6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ ./configure&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ make&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo make install&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="libsvm" scheme="https://yumuzi.github.io/tags/libsvm/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 14.04 安装 Python 有限元模块 sfepy</title>
    <link href="https://yumuzi.github.io/sfepy-install.html"/>
    <id>https://yumuzi.github.io/sfepy-install.html</id>
    <published>2016-05-25T14:49:01.000Z</published>
    <updated>2017-11-05T15:33:22.241Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://tianya4088.blogspot.com/2016/03/sfepy.html" target="_blank" rel="external">SfePy 安装</a></li><li><a href="http://installion.co.uk/ubuntu/trusty/universe/m/mayavi2/install/index.html" target="_blank" rel="external">How To Install mayavi2 On Ubuntu 14.04 Lts</a></li></ul><h2 id="软件源更新"><a href="#软件源更新" class="headerlink" title="软件源更新"></a>软件源更新</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div></pre></td></tr></table></figure><h2 id="安装依赖库"><a href="#安装依赖库" class="headerlink" title="安装依赖库"></a>安装依赖库</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install libfreetype6-dev libpng-dev libumfpack5.6.2</div><div class="line">$ sudo apt-get install gfortran python-pip</div><div class="line">$ sudo pip install cython pyparsing scipy</div></pre></td></tr></table></figure><a id="more"></a><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install swig</div><div class="line">$ sudo apt-get install libsuitesparse-dev</div><div class="line">$ git <span class="built_in">clone</span> https://github.com/scikit-umfpack/scikit-umfpack.git</div><div class="line">$ <span class="built_in">cd</span> scikit-umfpack</div><div class="line">$ sudo apt-get install pandoc</div><div class="line">$ sudo python setup.py install</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install libhdf5-dev python-numexpr </div><div class="line">$ sudo pip install blosc sympy pymetis</div><div class="line">$ sudo apt-get install python-sparse python-tables</div></pre></td></tr></table></figure><ul><li>接下来安装前，需要增加新的软件源</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo gedit /etc/apt/sources.list</div></pre></td></tr></table></figure><p>将下面一条语句添加到文件末尾，并保存</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">deb <span class="string">http:</span><span class="comment">//us.archive.ubuntu.com/ubuntu trusty main univers</span></div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install mayavi2</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install ipython</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python-matplotlib python-numpydoc sphinx3</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo pip install https://bitbucket.org/dalcinl/igakit/get/default.tar.gz</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo pip install numpy mpi4py</div></pre></td></tr></table></figure><ul><li>安装 <code>Petsc</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo python setup.py install</div><div class="line">$ sudo pip install petsc4py</div></pre></td></tr></table></figure><h2 id="安装-SfePy"><a href="#安装-SfePy" class="headerlink" title="安装 SfePy"></a>安装 SfePy</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git <span class="built_in">clone</span> git://github.com/sfepy/sfepy.git</div><div class="line">$ <span class="built_in">cd</span> sfepy</div><div class="line">$ python setup.py build_ext --inplace</div><div class="line">$ python run_tests.py</div></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><ul><li>需要进入<code>sfepy</code>目录</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ ./simple.py examples/diffusion/poisson_short_syntax.py</div><div class="line">$ ./postproc.py cylinder.vtk</div></pre></td></tr></table></figure><p>运行命令之后就可以看到后处理界面。</p><p><strong>安装过程到此结束～</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot; class=&quot;headerlink&quot; title=&quot;参考文档&quot;&gt;&lt;/a&gt;参考文档&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://tianya4088.blogspot.com/2016/03/sfepy.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SfePy 安装&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://installion.co.uk/ubuntu/trusty/universe/m/mayavi2/install/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How To Install mayavi2 On Ubuntu 14.04 Lts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;软件源更新&quot;&gt;&lt;a href=&quot;#软件源更新&quot; class=&quot;headerlink&quot; title=&quot;软件源更新&quot;&gt;&lt;/a&gt;软件源更新&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get update&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;安装依赖库&quot;&gt;&lt;a href=&quot;#安装依赖库&quot; class=&quot;headerlink&quot; title=&quot;安装依赖库&quot;&gt;&lt;/a&gt;安装依赖库&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install libfreetype6-dev libpng-dev libumfpack5.6.2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install gfortran python-pip&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo pip install cython pyparsing scipy&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="sfepy" scheme="https://yumuzi.github.io/tags/sfepy/"/>
    
  </entry>
  
  <entry>
    <title>网络编程学习之路</title>
    <link href="https://yumuzi.github.io/web-programming.html"/>
    <id>https://yumuzi.github.io/web-programming.html</id>
    <published>2016-05-23T05:18:44.000Z</published>
    <updated>2017-11-05T15:35:15.152Z</updated>
    
    <content type="html"><![CDATA[<h2 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h2><ul><li>问题：使用 Navicat 将 Excel 文件导入 mysql 数据库，中文乱码<br>解决办法：将数据库和数据表都设置为 <code>utf8</code> 编码，两者缺一不可！<br>数据表的<code>sql</code>语法如下：</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`TABLE_NAME`</span> (</div><div class="line">......</div><div class="line">......</div><div class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;MySQL&quot;&gt;&lt;a href=&quot;#MySQL&quot; class=&quot;headerlink&quot; title=&quot;MySQL&quot;&gt;&lt;/a&gt;MySQL&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;问题：使用 Navicat 将 Excel 文件导入 mysql 数据库，中文乱码&lt;br&gt;解决办法：将数
      
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="mysql" scheme="https://yumuzi.github.io/tags/mysql/"/>
    
      <category term="programming" scheme="https://yumuzi.github.io/tags/programming/"/>
    
      <category term="php" scheme="https://yumuzi.github.io/tags/php/"/>
    
      <category term="html" scheme="https://yumuzi.github.io/tags/html/"/>
    
      <category term="css" scheme="https://yumuzi.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu + Python 学习之路</title>
    <link href="https://yumuzi.github.io/Ubuntu-python.html"/>
    <id>https://yumuzi.github.io/Ubuntu-python.html</id>
    <published>2016-05-23T03:38:36.000Z</published>
    <updated>2017-11-05T15:34:33.586Z</updated>
    
    <content type="html"><![CDATA[<h2 id="python-库"><a href="#python-库" class="headerlink" title="python 库"></a>python 库</h2><ul><li>pip3</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python3-pip</div></pre></td></tr></table></figure><ul><li>numpy, scipy, matplotlib (for python)</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python-numpy</div><div class="line">$ sudo apt-get install python-scipy</div><div class="line">$ sudo apt-get install python-matplotlib</div></pre></td></tr></table></figure><ul><li>numpy, scipy, matplot lib (for python3)</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo pip3 install numpy</div><div class="line">$ sudo apt-get install libfreetype6-dev libxft-dev</div><div class="line">$ sudo pip3 install matplotlib</div><div class="line">$ sudo apt-get install python3-scipy</div></pre></td></tr></table></figure><a id="more"></a><h2 id="python文件打包exe文件：pyinstaller"><a href="#python文件打包exe文件：pyinstaller" class="headerlink" title="python文件打包exe文件：pyinstaller"></a>python文件打包exe文件：<code>pyinstaller</code></h2><p>参考：<a href="http://blog.sina.com.cn/s/blog_af6fe5860102vnt0.html" target="_blank" rel="external">关于Linux(Ubuntu)安装使用pyinstaller</a></p><ul><li>安装</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install pyinstaller</div></pre></td></tr></table></figure><ul><li>使用</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> ~/PyTest</div><div class="line">$ pyinstaller test.py</div></pre></td></tr></table></figure><h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><ul><li>安装 <code>mysql</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install mysql-server mysql-client</div></pre></td></tr></table></figure><ul><li>安装 <code>mysql-python</code> 模块</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python-setuptools</div><div class="line">$ sudo apt-get install libmysqld-dev</div><div class="line">$ sudo apt-get install libmysqlclient-dev</div><div class="line">$ sudo apt-get install python-dev</div><div class="line">$ sudo easy_install mysql-python</div></pre></td></tr></table></figure><h2 id="pure-css"><a href="#pure-css" class="headerlink" title="pure.css"></a>pure.css</h2><ul><li>安装<br>参考：<a href="https://github.com/yahoo/pure/" target="_blank" rel="external">yahoo/pure</a></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install purecss</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;python-库&quot;&gt;&lt;a href=&quot;#python-库&quot; class=&quot;headerlink&quot; title=&quot;python 库&quot;&gt;&lt;/a&gt;python 库&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;pip3&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install python3-pip&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;numpy, scipy, matplotlib (for python)&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install python-numpy&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install python-scipy&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install python-matplotlib&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;numpy, scipy, matplot lib (for python3)&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo pip3 install numpy&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install libfreetype6-dev libxft-dev&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo pip3 install matplotlib&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install python3-scipy&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>LaTeX-Beamer 学习之路</title>
    <link href="https://yumuzi.github.io/beamer-tutor.html"/>
    <id>https://yumuzi.github.io/beamer-tutor.html</id>
    <published>2016-05-12T13:27:40.000Z</published>
    <updated>2017-11-05T15:30:57.524Z</updated>
    
    <content type="html"><![CDATA[<h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><ul><li><a href="https://github.com/yumuzi/Beamer" target="_blank" rel="external">很好用的模板</a></li></ul><h2 id="加载宏包"><a href="#加载宏包" class="headerlink" title="加载宏包"></a>加载宏包</h2><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;ragged2e&#125;</span></span><span class="comment">% 设置段落对齐方式宏包</span></div></pre></td></tr></table></figure><a id="more"></a><h2 id="全局设置"><a href="#全局设置" class="headerlink" title="全局设置"></a>全局设置</h2><ul><li>指定存储图片的路径（当前目录下的figures文件夹）</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">graphicspath</span><span class="string">&#123;&#123;figures/&#125;</span></span>&#125;</div></pre></td></tr></table></figure><ul><li>PDF文件打开即全屏显示</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">hypersetup</span><span class="string">&#123;pdfpagemode=FullScreen&#125;</span></span></div></pre></td></tr></table></figure><ul><li>在表格、图片等标题中显示编号</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">setbeamertemplate</span><span class="string">&#123;caption&#125;</span><span class="string">[numbered]</span></span></div></pre></td></tr></table></figure><ul><li>设置段落两端对齐</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">justifying</span></span></div><div class="line"><span class="tag">\<span class="name">let</span></span><span class="tag">\<span class="name">raggedright</span></span><span class="tag">\<span class="name">justifying</span></span></div></pre></td></tr></table></figure><ul><li>修改图表名格式</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">setbeamertemplate</span><span class="string">&#123;caption label separator&#125;</span><span class="string">&#123;. &#125;</span></span></div><div class="line"><span class="tag">\<span class="name">renewcommand</span><span class="string">&#123;\figurename&#125;</span><span class="string">&#123;Figure&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">renewcommand</span><span class="string">&#123;\tablename&#125;</span><span class="string">&#123;Table&#125;</span></span></div></pre></td></tr></table></figure><ul><li>设置图表标题大小</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">setbeamerfont</span><span class="string">&#123;caption&#125;</span><span class="string">&#123;size=\footnotesize&#125;</span></span></div></pre></td></tr></table></figure><p><em>持续更新…</em></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;模板&quot;&gt;&lt;a href=&quot;#模板&quot; class=&quot;headerlink&quot; title=&quot;模板&quot;&gt;&lt;/a&gt;模板&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/yumuzi/Beamer&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;很好用的模板&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;加载宏包&quot;&gt;&lt;a href=&quot;#加载宏包&quot; class=&quot;headerlink&quot; title=&quot;加载宏包&quot;&gt;&lt;/a&gt;加载宏包&lt;/h2&gt;&lt;figure class=&quot;highlight tex&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;\&lt;span class=&quot;name&quot;&gt;usepackage&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&amp;#123;ragged2e&amp;#125;&lt;/span&gt;&lt;/span&gt;	&lt;span class=&quot;comment&quot;&gt;% 设置段落对齐方式宏包&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="學術" scheme="https://yumuzi.github.io/categories/%E5%AD%B8%E8%A1%93/"/>
    
    
      <category term="latex" scheme="https://yumuzi.github.io/tags/latex/"/>
    
      <category term="beamer" scheme="https://yumuzi.github.io/tags/beamer/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 安装和配置 oh-my-zsh</title>
    <link href="https://yumuzi.github.io/oh-my-zsh-install.html"/>
    <id>https://yumuzi.github.io/oh-my-zsh-install.html</id>
    <published>2016-05-08T13:35:19.000Z</published>
    <updated>2017-11-05T15:32:54.148Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考文档："><a href="#参考文档：" class="headerlink" title="参考文档："></a>参考文档：</h2><ul><li><a href="https://github.com/robbyrussell/oh-my-zsh/issues/1984" target="_blank" rel="external">unable to upgrade #1984</a></li></ul><h2 id="要安装-zsh，首先需要安装-git-和-curl"><a href="#要安装-zsh，首先需要安装-git-和-curl" class="headerlink" title="要安装 zsh，首先需要安装 git 和 curl"></a>要安装 <code>zsh</code>，首先需要安装 <code>git</code> 和 <code>curl</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install git</div><div class="line">$ sudo apt-get install git-core</div><div class="line">$ sudo apt-get install curl</div><div class="line"></div><div class="line">$ git --version</div><div class="line">$ curl --version</div></pre></td></tr></table></figure><a id="more"></a><h2 id="安装-zsh"><a href="#安装-zsh" class="headerlink" title="安装 zsh"></a>安装 <code>zsh</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install zsh</div><div class="line">$ zsh --version</div></pre></td></tr></table></figure><h2 id="设置zsh-为你的默认-shell"><a href="#设置zsh-为你的默认-shell" class="headerlink" title="设置zsh 为你的默认 shell"></a>设置<code>zsh</code> 为你的默认 <code>shell</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ chsh -s $(<span class="built_in">which</span> zsh)</div></pre></td></tr></table></figure><h2 id="安装-oh-my-zsh"><a href="#安装-oh-my-zsh" class="headerlink" title="安装 oh my zsh"></a>安装 <code>oh my zsh</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sh -c <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>"</span></div></pre></td></tr></table></figure><h2 id="更新-oh-my-zsh"><a href="#更新-oh-my-zsh" class="headerlink" title="更新 oh my zsh"></a>更新 <code>oh my zsh</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ upgrade_oh_my_zsh</div></pre></td></tr></table></figure><h3 id="遇到问题"><a href="#遇到问题" class="headerlink" title="遇到问题"></a>遇到问题</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[Oh My Zsh] Would you like to check <span class="keyword">for</span> updates?</div><div class="line">Type Y to update oh-my-zsh: Y</div><div class="line">Upgrading Oh My Zsh</div><div class="line">Cannot pull with rebase: You have unstaged changes.</div><div class="line">Please commit or stash them.</div><div class="line">There was an error updating. Try again later?</div></pre></td></tr></table></figure><h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><ul><li>Open up Terminal</li><li>Type in ‘~/.oh-my-zsh’, this should change your directory to the zsh directory.<br>-Terminal should read: “ .oh-my-zsh git:(master) “. If it does, go to step 3.</li><li>Type in “git status” to see that your status is ahead of master.<br>-If you’re not concerned about the file status changes, you can “stash” those changes by doing step 4.</li><li>Type in “git stash” to save the progress in the git and move the head back to master.</li><li>Done. Now you should be able to upgrade the next time the terminal asks you too.</li></ul><h2 id="更改主题"><a href="#更改主题" class="headerlink" title="更改主题"></a>更改主题</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vim ./zshrc</div></pre></td></tr></table></figure><p>修改为你想要的主题即可，我采用的是 <code>ZSH_THEME=&quot;wezm&quot;</code></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;参考文档：&quot;&gt;&lt;a href=&quot;#参考文档：&quot; class=&quot;headerlink&quot; title=&quot;参考文档：&quot;&gt;&lt;/a&gt;参考文档：&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/robbyrussell/oh-my-zsh/issues/1984&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;unable to upgrade #1984&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;要安装-zsh，首先需要安装-git-和-curl&quot;&gt;&lt;a href=&quot;#要安装-zsh，首先需要安装-git-和-curl&quot; class=&quot;headerlink&quot; title=&quot;要安装 zsh，首先需要安装 git 和 curl&quot;&gt;&lt;/a&gt;要安装 &lt;code&gt;zsh&lt;/code&gt;，首先需要安装 &lt;code&gt;git&lt;/code&gt; 和 &lt;code&gt;curl&lt;/code&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install git&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install git-core&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install curl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ git --version&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ curl --version&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="zsh" scheme="https://yumuzi.github.io/tags/zsh/"/>
    
      <category term="oh-my-zsh" scheme="https://yumuzi.github.io/tags/oh-my-zsh/"/>
    
  </entry>
  
  <entry>
    <title>读书笔记</title>
    <link href="https://yumuzi.github.io/book-logs.html"/>
    <id>https://yumuzi.github.io/book-logs.html</id>
    <published>2016-05-08T09:15:14.000Z</published>
    <updated>2017-11-05T15:30:15.935Z</updated>
    
    <content type="html"><![CDATA[<p>谨在此记录一下自己在读书过程中看到的一些美词佳句和受到的感动……</p><h2 id="《JLH》"><a href="#《JLH》" class="headerlink" title="《JLH》"></a>《JLH》</h2><p>作者：QBY</p><ul><li>《桃花扇》续四十出《余韵》，清代孔尚任<br>眼看他起朱楼，眼看他认宾客，眼看他楼塌了。这青苔碧瓦堆。俺曾睡风流觉，将五十年兴亡看饱。</li></ul><a id="more"></a><ul><li><p>《省试湘灵鼓瑟》，唐代钱起<br>流水传潇浦，悲风过洞庭。曲风人不见，江上数峰青。</p></li><li><p>“古艳歌”，汉乐府<br>莹莹白兔，东走西顾，衣不如新，人不如故。</p></li><li><p>《赠卫八处士》，杜甫<br>人生不相见，动如参与商。今夕复何夕，共此灯烛光。<br>少壮能几时，鬓发各已苍。访旧半为鬼，惊呼热中肠。<br>焉知二十载，重上君子堂。昔别君未婚，儿女忽成行。<br>怡然敬父执，问我来何方。问答乃未已，儿女罗酒浆。<br>夜雨剪春韭，新炊间黄粱。主称会面难，一举累十觞。<br>十觞亦不醉，感子故意长。明日隔山岳，世事两茫茫。</p></li><li><p>《水龙吟.次韵章知府杨花词》，苏轼<br>似花还似非花，也无人惜从教坠。抛家傍路，思量却是，无情有思。萦损柔肠，困酣娇眼，欲开还闭。梦随风万里，寻郎去处，又还被莺呼起。<br>不恨此花飞尽，恨西园，落红难缀。晓来雨过，遗踪何在？一池萍碎。春色三分，二分尘土，一分流水。细看来，不是杨花，点点是离人泪。</p></li><li><p>《国史大纲》，钱穆<br>“对其本国历史略有所知者，尤必附随一种对其本国以往历史之温情与敬意。”</p></li><li><p>智勇纯真，文质彬彬。</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;谨在此记录一下自己在读书过程中看到的一些美词佳句和受到的感动……&lt;/p&gt;
&lt;h2 id=&quot;《JLH》&quot;&gt;&lt;a href=&quot;#《JLH》&quot; class=&quot;headerlink&quot; title=&quot;《JLH》&quot;&gt;&lt;/a&gt;《JLH》&lt;/h2&gt;&lt;p&gt;作者：QBY&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《桃花扇》续四十出《余韵》，清代孔尚任&lt;br&gt;眼看他起朱楼，眼看他认宾客，眼看他楼塌了。这青苔碧瓦堆。俺曾睡风流觉，将五十年兴亡看饱。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="讀書" scheme="https://yumuzi.github.io/categories/%E8%AE%80%E6%9B%B8/"/>
    
    
      <category term="book" scheme="https://yumuzi.github.io/tags/book/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 中 Vim 使用的点滴记录</title>
    <link href="https://yumuzi.github.io/vim-tutor.html"/>
    <id>https://yumuzi.github.io/vim-tutor.html</id>
    <published>2016-05-07T09:26:29.000Z</published>
    <updated>2017-11-05T15:34:55.560Z</updated>
    
    <content type="html"><![CDATA[<p>本文是个人在<code>vim</code>使用过程中的点滴记录，与广大<code>vim</code>使用者所共享。</p><h2 id="Ubuntu-安装-spf13"><a href="#Ubuntu-安装-spf13" class="headerlink" title="Ubuntu 安装 spf13"></a>Ubuntu 安装 spf13</h2><p>这里在Ubuntu系统下进行安装。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install vim</div><div class="line">$ sudo apt-get install vim-nox             <span class="comment"># 注意必须安装此项，否则自动不全插件无法运行</span></div><div class="line">$ curl https://j.mp/spf13-vim3 -L -o | sh</div></pre></td></tr></table></figure><p>ok，等待安装完成即可，可能需要花费比较久的时间。</p><a id="more"></a><h2 id="VIM-常用命令"><a href="#VIM-常用命令" class="headerlink" title="VIM 常用命令"></a>VIM 常用命令</h2><ul><li><code>x</code>: 删除字符</li><li><code>a</code>: 在光标后插入字符</li><li><code>A</code>: 在行末插入字符</li><li><code>i</code>: 进入插入模式</li><li><code>:wq</code>: 保存并退出</li><li><code>dw</code>: 删除单词</li><li><code>d$</code>: 从光标处删除字符至行末</li><li><code>2w</code>: 将光标向后移动 2 个单词</li><li><code>3e</code>: 将光标移动至第三个单词末尾</li><li><code>d2w</code>: 删除 2 个单词</li><li><code>dd</code>: 删除整行文本</li><li><code>2dd</code>: 删除 2 行文本</li><li><code>u</code>: 撤销最后执行的命令</li><li><code>U</code>: 撤销对整行所做的修改</li><li><code>CTRL-R</code>: 重做被撤销的命令</li><li><code>p</code>: 配合 <code>dd</code> 将最后一次删除的命令重新置入</li><li><code>r</code>: 替换单个字符</li><li><code>cw</code>: 修改单词</li><li><code>c$</code>: 更正文本至行末</li><li><code>CTRL-G</code>: 显示光标所在行号</li><li><code>G</code>: 跳转到最后一行</li><li><code>gg</code>: 跳转至首行</li><li><code>504G</code>: 跳转到指定行数</li><li><code>/words</code>: 查找某项，n为向下寻找，N为向上寻找</li><li><code>CTRL-O</code>: 回到查找之前的位置</li><li><code>CTRL-I</code>: 回到较新的位置</li><li><code>%</code>: 查看配对的括号，再输入 % 返回</li><li><code>:s/old/new</code>: 更改所在行第一个匹配项</li><li><code>:s/old/new/g</code>: 更改该行所有匹配项</li><li><code>:#,#s/old/new/g</code>: 更改指定行号之间的匹配项</li><li><code>:%s/old/new/g</code>: 更改全文的匹配项</li><li><code>%s/old/new/gc</code>: 更改全文的匹配项</li><li><code>!ls</code>: 查看文件夹下有那些文件</li><li><code>!rm filename</code>: 删除文件</li><li><code>:w filename</code>: 保存文件</li><li><code>v</code>: 进入可视模式选取文本，以便于后续操作</li><li><code>:r filename</code>: 将其他文件中的内容插入到光标之后</li><li><code>e</code>: 逐单词向后移动</li><li><code>o</code>: 光标之后新增一行</li><li><code>O</code>: 光标之前新增一行</li><li><code>R</code>: 替换多字符文本</li><li><code>y</code>: 复制文本</li><li><code>:set ic</code>: 查询时设置“忽略大小写”</li><li><code>:set noic</code>: 查询时“禁止忽略大小写”</li><li><code>:set hls is</code>: 查询时设置查询到的文本高亮</li><li><code>:set nohlsearch</code>: 取消查询高亮</li><li><code>:help</code>: 帮助</li><li><code>CTRL-W</code>: 窗口之间跳转</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文是个人在&lt;code&gt;vim&lt;/code&gt;使用过程中的点滴记录，与广大&lt;code&gt;vim&lt;/code&gt;使用者所共享。&lt;/p&gt;
&lt;h2 id=&quot;Ubuntu-安装-spf13&quot;&gt;&lt;a href=&quot;#Ubuntu-安装-spf13&quot; class=&quot;headerlink&quot; title=&quot;Ubuntu 安装 spf13&quot;&gt;&lt;/a&gt;Ubuntu 安装 spf13&lt;/h2&gt;&lt;p&gt;这里在Ubuntu系统下进行安装。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install vim&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install vim-nox             &lt;span class=&quot;comment&quot;&gt;# 注意必须安装此项，否则自动不全插件无法运行&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ curl https://j.mp/spf13-vim3 -L -o | sh&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ok，等待安装完成即可，可能需要花费比较久的时间。&lt;/p&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="vim" scheme="https://yumuzi.github.io/tags/vim/"/>
    
  </entry>
  
  <entry>
    <title>一个读取文件夹内所有PDF文件标题的python小程序</title>
    <link href="https://yumuzi.github.io/pyPdf.html"/>
    <id>https://yumuzi.github.io/pyPdf.html</id>
    <published>2016-05-05T14:17:13.000Z</published>
    <updated>2017-11-05T15:33:02.077Z</updated>
    
    <content type="html"><![CDATA[<p>一个读取文件夹内所有PDF文件标题的python小程序。<br>详情见:</p><ul><li><a href="https://github.com/yumuzi/pyPDFTitle" target="_blank" rel="external">pyPDFTitle</a></li><li><a href="https://github.com/yumuzi/PyPDF2" target="_blank" rel="external">PyPDF2</a></li><li><a href="https://github.com/yumuzi/pyPdf" target="_blank" rel="external">pyPdf3</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;一个读取文件夹内所有PDF文件标题的python小程序。&lt;br&gt;详情见:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/yumuzi/pyPDFTitle&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;pyPDFTitl
      
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Windows 7 + LIBSVM + Python 安装及使用说明</title>
    <link href="https://yumuzi.github.io/libsvm-python.html"/>
    <id>https://yumuzi.github.io/libsvm-python.html</id>
    <published>2016-05-05T07:39:23.000Z</published>
    <updated>2017-11-05T15:32:44.453Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul><li>安装 <code>Python</code>，安装过程可Google教程，不在此详述；</li><li>下载 <code>libsvm</code>，下载<a href="http://www.csie.ntu.edu.tw/~cjlin/libsvm/#download" target="_blank" rel="external">libsvm</a>中的 <code>.zip file</code> 文件，解压到 <code>C:\</code> 下</li><li>安装 <code>gnuplot</code> ，下载地址：<a href="https://sourceforge.net/projects/gnuplot/files/gnuplot/" target="_blank" rel="external">gnuplot</a>，建议下载 <code>4.6_win32</code> 版本，直接安装即可。</li></ul><a id="more"></a><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>到 <code>C:\libsvm-3.21\tools</code> 下找到 <code>grid.py</code> 和 <code>easy.py</code> ，并复制到 <code>C:\libsvm-3.21\windows</code> ，打开并分别在第27行和第25行更改两者：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gnuplot_exe = <span class="string">r"C:\Program Files (x86)\gnuplot\bin\pgnuplot.exe"</span></div></pre></td></tr></table></figure><p>到 <a href="http://www.csie.ntu.edu.tw/~cjlin/libsvmtools/datasets/" target="_blank" rel="external">数据集</a> 下找 <code>LIBSVM data sets</code> ， 这次使用<code>ala</code>这个数据集，<code>a1a</code>为<code>train set</code>，<code>a1a.t</code>为 <code>testing set</code></p><h2 id="程序说明"><a href="#程序说明" class="headerlink" title="程序说明"></a>程序说明</h2><ul><li><code>svm-train.exe</code> ：可以将 <code>training data</code> 训练为 <code>model</code>。</li><li><code>svm-scale.exe</code> ：用来调整 <code>feature</code> 的大小范围，以免有某一项 <code>feature</code> 值太大，在算距离时主导了结果。通常将取值的范围定在 <code>[0,1]</code> 或 <code>[-1,1]</code> 。注意：<code>training data</code> 与 <code>testing data</code> 都必须作相同程度的 <code>scale</code> 。</li><li><code>svm-predict.exe</code> ：预测 <code>testing data</code> 在已训练 <code>model</code> 的状况。</li><li><code>svm-toy.exe</code> ：可以图形界面操作数据和修改参数，执行后产生分类结果。</li><li><code>grid.py</code> ：分类要切的好，参数就要下的好。林智仁老师写好的工具帮我们自动测试参数，不用自己动手测试。</li><li><code>easy.py</code> ：简化命令行下指令的操作。</li></ul><h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><ul><li><code>cd</code> 到 <code>libsvm-3.21\windows</code> 目录下，执行命令：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">svm-scale.exe -s scale a1a &gt; a1a.scale</div></pre></td></tr></table></figure><p>会出现警告，不用管，继续往下…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">svm-scale.exe -r scale a1a.t &gt; a1a.t.scale</div></pre></td></tr></table></figure><p>会出现警告，不用管，继续往下…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">python grid.py a1a.scale</div><div class="line"></div><div class="line">......</div><div class="line">......</div><div class="line"></div><div class="line">8.0 0.0078125 83.4891</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">svm-train.exe -c 8.0 -g 0.0078125 a1a.scale</div><div class="line"></div><div class="line"></div><div class="line">optimization finished, <span class="comment">#iter = 2430</span></div><div class="line">nu = 0.338842</div><div class="line">obj = -3667.375758, rho = 0.654220</div><div class="line">nSV = 659, nBSV = 443</div><div class="line">Total nSV = 659</div></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">svm-predict.exe a1a.t.scale a1a.scale.model a1a.t.out</div><div class="line"></div><div class="line"></div><div class="line">Accuracy = 83.9869% (25999/30956) (classification)</div></pre></td></tr></table></figure><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="https://cg2010studio.com/2012/10/21/libsvm-svm-%E5%AF%A6%E9%A9%97%E6%9C%80%E4%BD%B3%E5%8C%96%E5%8F%83%E6%95%B8/" target="_blank" rel="external">[LibSVM] SVM 實驗最佳化參數</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;安装 &lt;code&gt;Python&lt;/code&gt;，安装过程可Google教程，不在此详述；&lt;/li&gt;
&lt;li&gt;下载 &lt;code&gt;libsvm&lt;/code&gt;，下载&lt;a href=&quot;http://www.csie.ntu.edu.tw/~cjlin/libsvm/#download&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;libsvm&lt;/a&gt;中的 &lt;code&gt;.zip file&lt;/code&gt; 文件，解压到 &lt;code&gt;C:\&lt;/code&gt; 下&lt;/li&gt;
&lt;li&gt;安装 &lt;code&gt;gnuplot&lt;/code&gt; ，下载地址：&lt;a href=&quot;https://sourceforge.net/projects/gnuplot/files/gnuplot/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;gnuplot&lt;/a&gt;，建议下载 &lt;code&gt;4.6_win32&lt;/code&gt; 版本，直接安装即可。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="學術" scheme="https://yumuzi.github.io/categories/%E5%AD%B8%E8%A1%93/"/>
    
    
      <category term="python" scheme="https://yumuzi.github.io/tags/python/"/>
    
      <category term="libsvm" scheme="https://yumuzi.github.io/tags/libsvm/"/>
    
  </entry>
  
  <entry>
    <title>Git 使用简易指南</title>
    <link href="https://yumuzi.github.io/Git-readme.html"/>
    <id>https://yumuzi.github.io/Git-readme.html</id>
    <published>2016-05-05T02:24:57.000Z</published>
    <updated>2017-11-05T15:31:47.911Z</updated>
    
    <content type="html"><![CDATA[<ul><li>这里以Ubuntu系统和Bitbucket为例，进行说明。</li><li>首先安装并配置git，并将公钥复制到Bitbucket中，此过程见 <a href="http://yumuzi.github.io/2016/04/29/Hexo-Ubuntu-GithubPages/">Hexo-Ubuntu-GithubPages 搭建独立博客</a> 中的“Ubuntu安装和配置Git”部分</li><li>将本地文件夹路径添加到Git中</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> ~/LATEX/template1</div><div class="line">$ git init</div><div class="line">$ git remote add origin https://liyanjie@bitbucket.org/liyanjie/risk-book-draft.git</div></pre></td></tr></table></figure><p>如果想要修改 <code>git remote add</code> 仓库，可按如下进行操作：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git remote rm origin</div><div class="line">$ git remote add origin &lt;new repository&gt;</div></pre></td></tr></table></figure><ul><li>上传文件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git add *</div><div class="line">$ git commit -m <span class="string">"discription text"</span></div><div class="line">$ git push origin master</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;这里以Ubuntu系统和Bitbucket为例，进行说明。&lt;/li&gt;
&lt;li&gt;首先安装并配置git，并将公钥复制到Bitbucket中，此过程见 &lt;a href=&quot;http://yumuzi.github.io/2016/04/29/Hexo-Ubuntu-Gi
      
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="git" scheme="https://yumuzi.github.io/tags/git/"/>
    
      <category term="bitbucket" scheme="https://yumuzi.github.io/tags/bitbucket/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu14.04 + LaTeX 学习之路</title>
    <link href="https://yumuzi.github.io/Latex-learning.html"/>
    <id>https://yumuzi.github.io/Latex-learning.html</id>
    <published>2016-05-04T08:55:57.000Z</published>
    <updated>2017-11-05T15:32:36.701Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Document-class"><a href="#Document-class" class="headerlink" title="Document class"></a>Document class</h2><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">% CTeX宏包下的一个用于书籍的模板 `ctexbook`，论文模板 `ctexart`，报告模板 `ctexrep`</span></div><div class="line"><span class="comment">% 正文字号 10pt</span></div><div class="line"><span class="comment">% 编码格式 UTF-8</span></div><div class="line"><span class="tag">\<span class="name">documentclass</span><span class="string">[10pt,UTF8]</span><span class="string">&#123;ctexbook&#125;</span></span></div></pre></td></tr></table></figure><a id="more"></a><h2 id="宏包"><a href="#宏包" class="headerlink" title="宏包"></a>宏包</h2><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="comment">% 设置页眉页脚</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;fancyhdr&#125;</span></span></div><div class="line"><span class="comment">% 设置超链接，包括目录，图表清单，图表交叉引用，公式，参考文献</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;hyperref&#125;</span></span></div><div class="line"><span class="comment">% 数学环境宏包，如可以使用 align 环境；调用该宏包时，另外三个与之相关的宏包（amsbsy, amsopn, amstext）也自动被加载了</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;amsmath&#125;</span></span></div><div class="line"><span class="comment">% 宏包套件 AMSFonts 中的一个宏包，它定义了 amsfonts 宏包里 msam 和 mabm 字库中全部数学符号的命令；当调用该宏包时，amsfonts宏包也同时被加载了</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;amssymb&#125;</span></span></div><div class="line"><span class="comment">% 常用的连个处理插图的宏包：graphics 宏包和 graphicx 宏包，前者是标准插图宏包，后者则是包含扩展功能的插图宏包，后者更为常用</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;graphics&#125;</span></span></div><div class="line"><span class="comment">% epsfig 宏包是 graphics 宏包出现前为解决latex插图问题的宏包，不建议在新文档中使用</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;epsfig&#125;</span></span></div><div class="line"><span class="comment">% 表格宏包，用来创建上下粗线，中间细线的三线表格</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;booktabs&#125;</span></span></div><div class="line"><span class="comment">% 列表宏包，可用来创建紧凑列表（\item之间无空行）</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;paralist&#125;</span></span></div><div class="line"><span class="comment">% 调整图表是否浮动的宏包</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;float&#125;</span></span></div><div class="line"><span class="comment">% 为超链接着色，可生成多达68种颜色</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;color&#125;</span></span></div><div class="line"><span class="comment">% 生成新的抄录环境，如用于代码</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;fancybrb&#125;</span></span></div><div class="line"><span class="comment">% 脚注宏包，perge：为每页脚注单独排序；symbol：由默认的阿拉伯数字改为各种符号</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">[bottom,perpage,symbol*]</span><span class="string">&#123;footmisc&#125;</span></span></div><div class="line"><span class="comment">% 分栏</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;multitoc&#125;</span></span></div><div class="line"><span class="comment">% </span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;array&#125;</span></span></div><div class="line"><span class="comment">% 表格跨行跨列</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;multirow&#125;</span></span></div><div class="line"><span class="comment">% 跨页表格</span></div><div class="line"><span class="comment">%\usepackage&#123;longtable&#125;</span></div><div class="line"><span class="comment">% 跨页表格</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;supertabular&#125;</span></span></div><div class="line"><span class="comment">% 引用上标</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">[super,square]</span><span class="string">&#123;natbib&#125;</span></span></div><div class="line"><span class="comment">% 图表标题</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;caption2&#125;</span></span></div><div class="line"><span class="comment">% 文字强调，如下划线、删除线等</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;ulem&#125;</span></span></div><div class="line"><span class="comment">% 设置表格背景色</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;colortbl&#125;</span></span></div></pre></td></tr></table></figure><h2 id="全局设置"><a href="#全局设置" class="headerlink" title="全局设置"></a>全局设置</h2><ul><li>\setcounter{secnumdepth}{4}    %设置四级标题</li><li>\newcommand{\rmnum}[1]{\romannumeral #1}                % 小写罗马数字</li><li>\newcommand{\RmNum}[1]{\expandafter\@slowromancap\romannumeral #1@}    % 大写罗马数字</li><li>\renewcommand{\captionlabeldelim}{ }    % 去掉图表名后的冒号</li><li>\geometry{left=2.5cm,right=2.5cm,top=2cm,bottom=2cm}    % 设置页边距，需要 <code>geometry</code> 宏包</li></ul><h2 id="新命令"><a href="#新命令" class="headerlink" title="新命令"></a>新命令</h2><ul><li>\newcommand{\rmnum}[1]{\romannumeral #1}                % 小写罗马数字</li><li>\newcommand{\RmNum}[1]{\expandafter\@slowromancap\romannumeral #1@}    % 大写罗马数字</li><li>\renewcommand{\captionlabeldelim}{ }    % 去掉图表名后的冒号（用空格代替）</li></ul><h2 id="特殊符号"><a href="#特殊符号" class="headerlink" title="特殊符号"></a>特殊符号</h2><ul><li><a href="https://bcc16.ncu.edu.tw/7/latex/math_tex/2-html/" target="_blank" rel="external">希腊字母</a></li><li><a href="http://wiki.ohugh.com/zh-hant/Latex" target="_blank" rel="external">特殊字符</a></li><li><a href="http://mohu.org/info/symbols/symbols.htm" target="_blank" rel="external">数学符号</a></li><li>波浪号： <code>$\sim$</code></li><li>罗马数字 <code>\uppercase\expandafter{\romannumeral1}</code></li><li>中文破折号： <code>\raisebox{0.5mm}{------}</code></li></ul><h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><h3 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">date</span><span class="string">&#123;\today&#125;</span></span><span class="comment">% 生成今天的日期</span></div><div class="line"><span class="tag">\<span class="name">title</span><span class="string">&#123;</span></span></div><div class="line"><span class="tag"><span class="string">% \bf: 加粗</span></span></div><div class="line"><span class="tag"><span class="string">% 字体大小：\tiny, \scriptsize, \footnotesize, \small, \normalsize, \large, \Large, \LARGE, \huge, \Huge</span></span></div><div class="line"><span class="tag"><span class="string">&#123;\bf\LARGE&#123;标题&#125;</span></span>&#125;<span class="tag">\<span class="name">footnote</span><span class="string">&#123;\footnotesize 标题脚注&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">auther</span><span class="string">&#123;作者\\（&#123;\footnotesize 作者单位&#125;</span></span>）&#125;<span class="tag">\<span class="name">\</span></span></div><div class="line">&#123;<span class="tag">\<span class="name">footnotesize</span></span> e-mail: 邮箱&#125;</div><div class="line">&#125;</div><div class="line"><span class="tag">\<span class="name">maketitle</span></span></div></pre></td></tr></table></figure><h3 id="页眉页脚"><a href="#页眉页脚" class="headerlink" title="页眉页脚"></a>页眉页脚</h3><p>可参考宏包说明文档：<a href="http://www.ctex.org/documents/packages/layout/fancyhdr.htm" target="_blank" rel="external">fancyhdr</a></p><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">pagestyle</span><span class="string">&#123;fancy&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">fancyhf</span><span class="string">&#123;&#125;</span></span><span class="comment">% 清空页眉页脚格式</span></div><div class="line"><span class="tag">\<span class="name">fancyhead</span><span class="string">[RE]</span><span class="string">&#123;\normalfont\small\rmfamily\nouppercase&#123;\leftmark&#125;</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">fancyhead</span><span class="string">[LO]</span><span class="string">&#123;\normalfont\small\rmfamily\nouppercase&#123;\rightmark&#125;</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">fancyhead</span><span class="string">[LE,RO]</span><span class="string">&#123;\thepage&#125;</span></span></div></pre></td></tr></table></figure><ul><li>R: 偶数页</li><li>O: 奇数页</li><li>L: 页眉或页脚的左边部分</li><li>C: 页眉或页脚的中间部分</li><li>R: 页眉或页脚的右边部分</li><li>H: 页眉</li><li>F: 页脚</li></ul><h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">tableofcontents</span></span><span class="comment">% 生成目录</span></div><div class="line"><span class="tag">\<span class="name">listoffigures</span></span><span class="comment">% 生成插图目录</span></div><div class="line"><span class="tag">\<span class="name">listoftables</span></span><span class="comment">% 生成表格目录</span></div></pre></td></tr></table></figure><h3 id="书籍结构"><a href="#书籍结构" class="headerlink" title="书籍结构"></a>书籍结构</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">chapter</span><span class="string">&#123;第一章&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">label</span><span class="string">&#123;chapter1&#125;</span></span><span class="comment">% 注意养成习惯：在章节，图表，公式中插入标签，以方便生成目录和交叉引用</span></div><div class="line"><span class="tag">\<span class="name">section</span><span class="string">&#123;第1.1节&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">subsection</span><span class="string">&#123;第1.1.1节&#125;</span></span></div></pre></td></tr></table></figure><h3 id="插图"><a href="#插图" class="headerlink" title="插图"></a>插图</h3><p>需要 <code>graphicx</code> 宏包<br>固定图片位置需引入 <code>float</code> 宏包</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;figure&#125;</span><span class="string">[H]</span></span><span class="comment">% [H]用于固定图片位置</span></div><div class="line"><span class="tag">\<span class="name">centerline</span><span class="string">&#123;</span></span></div><div class="line"><span class="tag"><span class="string">\includegraphics[width=10cm]&#123;img/chapter6/figure6_1.eps&#125;</span></span></div><div class="line">&#125;</div><div class="line"><span class="tag">\<span class="name">caption</span><span class="string">&#123;图名&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">label</span><span class="string">&#123;figure6_1&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;figure&#125;</span></span></div></pre></td></tr></table></figure><p>使用 <code>\ref{table6_1}</code> 来引用该表。</p><h3 id="紧凑列表"><a href="#紧凑列表" class="headerlink" title="紧凑列表"></a>紧凑列表</h3><p>需要 <code>paralist</code> 宏包。</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;compactenum&#125;</span></span><span class="comment">% 紧凑有序列表</span></div><div class="line"><span class="tag">\<span class="name">setlength</span><span class="string">&#123;\itemindent&#125;</span><span class="string">&#123;18pt&#125;</span></span><span class="comment">% 设置列表缩进</span></div><div class="line"><span class="tag">\<span class="name">item</span></span> 第一项</div><div class="line"><span class="tag">\<span class="name">item</span></span> 第二项</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;compactenum&#125;</span></span></div></pre></td></tr></table></figure><h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><ul><li>分数</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">cfrac</span><span class="string">&#123;分子&#125;</span><span class="string">&#123;分母&#125;</span></span></div></pre></td></tr></table></figure><h4 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h4><ul><li>某列居中</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;tabular&#125;</span><span class="string">&#123;p&#123;4cm&#125;</span></span>&lt;&#123;<span class="tag">\<span class="name">centering</span></span>&#125;p&#123;4cm&#125;&lt;&#123;<span class="tag">\<span class="name">centering</span></span>&#125;p&#123;4cm&#125;&lt;&#123;<span class="tag">\<span class="name">centering</span></span>&#125;&#125;</div></pre></td></tr></table></figure><h4 id="三线表、设置表列宽"><a href="#三线表、设置表列宽" class="headerlink" title="三线表、设置表列宽"></a>三线表、设置表列宽</h4><p>三线表，需引入 <code>booktabs</code> 宏包</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;table&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">centering</span></span><span class="comment">% 表格居中</span></div><div class="line"><span class="tag">\<span class="name">caption</span><span class="string">&#123;岩爆强度的经验分级标准\cite&#123;liu2013prediction6_2&#125;</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">label</span><span class="string">&#123;table6_1&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;tabular&#125;</span><span class="string">&#123;ccp&#123;10cm&#125;</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">toprule</span></span></div><div class="line">岩爆强度&amp;岩爆等级&amp;定性描述<span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">midrule</span></span></div><div class="line">无&amp;<span class="tag">\<span class="name">uppercase</span></span><span class="tag">\<span class="name">expandafter</span><span class="string">&#123;\romannumeral1&#125;</span></span>&amp;没有岩爆声响及岩爆活动迹象<span class="tag">\<span class="name">\</span></span></div><div class="line">轻微&amp;<span class="tag">\<span class="name">uppercase</span></span><span class="tag">\<span class="name">expandafter</span><span class="string">&#123;\romannumeral2&#125;</span></span>&amp;可能导致部分岩片松动：周围岩石将会变形、破裂或剥落；有轻微声响，但没有岩石喷出现象<span class="tag">\<span class="name">\</span></span></div><div class="line">中等&amp;<span class="tag">\<span class="name">uppercase</span></span><span class="tag">\<span class="name">expandafter</span><span class="string">&#123;\romannumeral3&#125;</span></span>&amp;薄岩片的破裂和剥落：周围岩体将会变形和断裂；有相当数量的岩片松动、突然破裂并喷出，并伴有周围岩石的脆性断裂现象<span class="tag">\<span class="name">\</span></span></div><div class="line">强烈&amp;<span class="tag">\<span class="name">uppercase</span></span><span class="tag">\<span class="name">expandafter</span><span class="string">&#123;\romannumeral4&#125;</span></span>&amp;大量岩块松动、剥离并猛烈喷出：周围岩体严重爆裂并突然喷出，伴随有强烈的爆破声响，并迅速扩展到深部岩体<span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">bottomrule</span></span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;tabular&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;table&#125;</span></span></div></pre></td></tr></table></figure><h4 id="跨页表格"><a href="#跨页表格" class="headerlink" title="跨页表格"></a>跨页表格</h4><p>需引入 <code>supertabular</code> 宏包<br>结合三线表，需引入 <code>booktabs</code> 宏包</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;center&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">tablecaption</span><span class="string">&#123;塌方风险（W）条件概率表 \label&#123;table8_23&#125;</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">tablefirsthead</span><span class="string">&#123;\toprule</span></span></div><div class="line"><span class="tag"><span class="string">\multicolumn&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;综合地质风险&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;自稳能力&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;施工质量&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;支护设计&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W1&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W2&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W3&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W4&#125;</span></span><span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">midrule</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">tablehead</span><span class="string">&#123;</span></span></div><div class="line"><span class="tag"><span class="string">\multicolumn&#123;8&#125;</span><span class="string">&#123;l&#125;</span><span class="string">&#123;\small 表 \ref&#123;table8_23&#125;</span></span> （续）&#125;<span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">toprule</span></span></div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;综合地质风险&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;自稳能力&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;施工质量&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;支护设计&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W1&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W2&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W3&#125;</span></span>&amp;</div><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;c&#125;</span><span class="string">&#123;W4&#125;</span></span><span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">midrule</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">tabletail</span><span class="string">&#123;\bottomrule</span></span></div><div class="line"><span class="tag"><span class="string">\multicolumn&#123;8&#125;</span><span class="string">&#123;r&#125;</span><span class="string">&#123;\small 接下页&#125;</span></span><span class="tag">\<span class="name">\</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">tablelasttail</span><span class="string">&#123;\bottomrule&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;supertabular&#125;</span><span class="string">&#123;cccccccc&#125;</span></span></div><div class="line">V1&amp;R1&amp;H1&amp;J1&amp;100<span class="tag">\<span class="name">%</span></span>&amp;&amp;&amp;<span class="tag">\<span class="name">\</span></span></div><div class="line">......</div><div class="line">......</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;supertabular&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;center&#125;</span></span></div></pre></td></tr></table></figure><h4 id="表格背景色"><a href="#表格背景色" class="headerlink" title="表格背景色"></a>表格背景色</h4><ul><li>需要 <code>colortbl</code> 宏包，<code>array</code> 宏包，<code>color</code> 宏包支持</li><li>经常用到的是列着色命令，命令格式为： <code>\columncolor[色系]{色名}[左伸出][右伸出]</code>，常用色系有：三原色 <code>rgb</code>，灰度 <code>gray</code>，和四色 <code>cmyk</code> 三种；被预定义的色名有68个，详见color宏包介绍中所附的色标；左右伸出的长度单位可用pt。</li><li>改变某单元格的颜色</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">multicolumn</span><span class="string">&#123;1&#125;</span><span class="string">&#123;&gt;&#123;\columncolor&#123;blue&#125;</span></span>&#125;l&#125;&#123;text&#125;<span class="comment">% 1: 列数; l: 居左</span></div></pre></td></tr></table></figure><h3 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h3><ul><li>\textcolor{red}{text}    %文字颜色</li><li>文字强调，需要 <code>ulem</code> 宏包</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">emph</span><span class="string">&#123;text&#125;</span></span><span class="comment">% 下划线</span></div><div class="line"><span class="tag">\<span class="name">uline</span><span class="string">&#123;text&#125;</span></span><span class="comment">% 单下划线</span></div><div class="line"><span class="tag">\<span class="name">uuline</span><span class="string">&#123;text&#125;</span></span><span class="comment">% 双下划线</span></div><div class="line"><span class="tag">\<span class="name">uwave</span><span class="string">&#123;text&#125;</span></span><span class="comment">% 波浪线</span></div><div class="line"><span class="tag">\<span class="name">sout</span><span class="string">&#123;text&#125;</span></span><span class="comment">% 删除线</span></div></pre></td></tr></table></figure><h3 id="公式"><a href="#公式" class="headerlink" title="公式"></a>公式</h3><h4 id="符号"><a href="#符号" class="headerlink" title="符号"></a>符号</h4><ul><li>小于等于： <code>$\leq$</code></li><li>大于等于： <code>$\geq$</code></li><li>乘号： <code>$\times$</code></li><li>点乘： <code>$\cdot$</code></li><li>公式水平省略号： <code>$\cdots$</code></li></ul><h4 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h4><ul><li>两个quad空格 <code>a \qquad b</code> 两个m的宽度</li><li>quad空格 <code>a \quad b</code> 一个m的宽度</li><li>大空格 <code>a\ b</code> 1/3m宽度</li><li>中等空格 <code>a\;b</code> 2/7m宽度</li><li>小空格 <code>a\,b</code> 1/6m宽度</li><li>没有空格 <code>ab</code></li><li>紧贴 <code>a\!b</code> 缩进1/6m宽度</li></ul><h4 id="上下标"><a href="#上下标" class="headerlink" title="上下标"></a>上下标</h4><ul><li>多字母下标： <code>$W_{et}$</code></li></ul><h4 id="基本公式（不带序号）"><a href="#基本公式（不带序号）" class="headerlink" title="基本公式（不带序号）"></a>基本公式（不带序号）</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">[</span></span>X_&#123;ij&#125;=0<span class="tag">\<span class="name">sim</span></span>20(any<span class="tag">\<span class="name"> </span></span>integer)<span class="tag">\<span class="name">]</span></span></div></pre></td></tr></table></figure><h4 id="基本公式（带序号）"><a href="#基本公式（带序号）" class="headerlink" title="基本公式（带序号）"></a>基本公式（带序号）</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;equation&#125;</span></span><span class="tag">\<span class="name">label</span><span class="string">&#123;equ6_1&#125;</span></span></div><div class="line">&#123;<span class="tag">\<span class="name">alpha</span></span>_i&#125;^+=P(+i|INF), i=1,2,<span class="tag">\<span class="name">cdots</span></span>,n;</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;equation&#125;</span></span></div></pre></td></tr></table></figure><h4 id="分子分母公式"><a href="#分子分母公式" class="headerlink" title="分子分母公式"></a>分子分母公式</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;equation&#125;</span></span><span class="tag">\<span class="name">label</span><span class="string">&#123;equ6_3&#125;</span></span></div><div class="line">w_i=<span class="tag">\<span class="name">cfrac</span><span class="string">&#123;&#123;\alpha_i&#125;</span></span>^++&#123;<span class="tag">\<span class="name">alpha</span></span>_i&#125;^-&#125;&#123;<span class="tag">\<span class="name">sum</span></span>_&#123;k=1&#125;^1 (&#123;<span class="tag">\<span class="name">alpha</span></span>_k&#125;^++&#123;<span class="tag">\<span class="name">alpha</span></span>_k&#125;^-)&#125;;</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;equation&#125;</span></span></div></pre></td></tr></table></figure><h4 id="多行公式（对齐）"><a href="#多行公式（对齐）" class="headerlink" title="多行公式（对齐）"></a>多行公式（对齐）</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;equation&#125;</span></span><span class="tag">\<span class="name">label</span><span class="string">&#123;equ6_4&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;split&#125;</span></span></div><div class="line">&#123;<span class="tag">\<span class="name">beta</span></span>_&#123;ij&#125;&#125;^+&amp;=P&#123;INF_j|+i&#125;<span class="tag">\<span class="name">\</span></span></div><div class="line">&amp;=<span class="tag">\<span class="name">cfrac</span><span class="string">&#123;P(+i|INF_j)\cdot P(INF_j)&#125;</span><span class="string">&#123;P(+i|INF_j)\cdot P(INF_j)+P(+i|UINF_j)\cdot P(UINF_j)&#125;</span></span><span class="tag">\<span class="name">\</span></span></div><div class="line">&amp;=<span class="tag">\<span class="name">cfrac</span><span class="string">&#123;&#123;\alpha_i&#125;</span></span>^+<span class="tag">\<span class="name">cdot</span></span> P(INF_j)&#125;&#123;&#123;<span class="tag">\<span class="name">alpha</span></span>_i&#125;^+<span class="tag">\<span class="name">cdot</span></span> P(INF_j)+(1-&#123;<span class="tag">\<span class="name">alpha</span></span>_i&#125;^-)<span class="tag">\<span class="name">cdot</span></span> P(UINF_j)&#125;<span class="tag">\<span class="name">\</span></span></div><div class="line">&amp;i=1,2,<span class="tag">\<span class="name">cdots</span></span> ,n;<span class="tag">\<span class="name">quad</span></span> j=1,2,<span class="tag">\<span class="name">cdots</span></span> ,m;</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;split&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;equation&#125;</span></span></div></pre></td></tr></table></figure><h4 id="分项公式（含左侧大括号）"><a href="#分项公式（含左侧大括号）" class="headerlink" title="分项公式（含左侧大括号）"></a>分项公式（含左侧大括号）</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;equation&#125;</span></span><span class="tag">\<span class="name">label</span><span class="string">&#123;equ6_15&#125;</span></span></div><div class="line">d(X_&#123;sj&#125;,X_&#123;tj&#125;)=<span class="tag">\<span class="name">left</span></span><span class="tag">\<span class="name">&#123;</span></span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;array&#125;</span><span class="string">&#123;llcl&#125;</span></span></div><div class="line">&#123;0&#125;&amp;&#123;X_&#123;sj&#125;<span class="tag">\<span class="name">subseteq</span></span> X_&#123;tj&#125;&#125;&amp;<span class="tag">\<span class="name">text</span><span class="string">&#123;or&#125;</span></span>&amp;&#123;X_&#123;sj&#125;<span class="tag">\<span class="name">supseteq</span></span> X_&#123;tj&#125;;&#125;<span class="tag">\<span class="name">\</span></span></div><div class="line">&#123;<span class="tag">\<span class="name">cfrac</span><span class="string">&#123;|Ex_&#123;sj&#125;</span></span>-Ex_&#123;tj&#125;|&#125;&#123;3<span class="tag">\<span class="name">cdot</span></span> (En_&#123;sj&#125;+En_&#123;tj&#125;)&#125;&#125;&amp;<span class="tag">\<span class="name">text</span><span class="string">&#123;others.&#125;</span></span>&amp;&amp;</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;array&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">right</span></span>.</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;equation&#125;</span></span></div></pre></td></tr></table></figure><p><em>持续更新……</em></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Document-class&quot;&gt;&lt;a href=&quot;#Document-class&quot; class=&quot;headerlink&quot; title=&quot;Document class&quot;&gt;&lt;/a&gt;Document class&lt;/h2&gt;&lt;figure class=&quot;highlight tex&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;% CTeX宏包下的一个用于书籍的模板 `ctexbook`，论文模板 `ctexart`，报告模板 `ctexrep`&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;% 正文字号 10pt&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;% 编码格式 UTF-8&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;\&lt;span class=&quot;name&quot;&gt;documentclass&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;[10pt,UTF8]&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&amp;#123;ctexbook&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="學術" scheme="https://yumuzi.github.io/categories/%E5%AD%B8%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="latex" scheme="https://yumuzi.github.io/tags/latex/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 14.04 安装 Texlive2015</title>
    <link href="https://yumuzi.github.io/Ubuntu-latex.html"/>
    <id>https://yumuzi.github.io/Ubuntu-latex.html</id>
    <published>2016-05-04T07:49:53.000Z</published>
    <updated>2017-11-05T15:34:06.479Z</updated>
    
    <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ul><li>下载 <code>Texlive2015.iso</code> 镜像，<a href="http://mirrors.opencas.cn/ctan/systems/texlive/Images/" target="_blank" rel="external">Texlive2015</a></li><li>删除以前的版本（若之前没有安装过，可忽略此项）</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get purge tex-common</div></pre></td></tr></table></figure><a id="more"></a><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul><li>挂载镜像文件：右击texlive2015.iso文件，选择打开方式为“磁盘映像挂载器”，打开后左侧设备目录下出现“TeXLive2015”，将鼠标放在其上会出现<code>/media/username/TeXLive2015</code></li><li>进入挂载点目录</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> /media/username/TeXLive2015</div></pre></td></tr></table></figure><ul><li>运行安装程序</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo install-tl</div></pre></td></tr></table></figure><p>输入<code>I</code>即开始安装。</p><h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><ul><li>安装完成后查看是否有该文件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ls /usr/<span class="built_in">local</span>/texlive/2015/bin/x86_64-linux/xelatex</div></pre></td></tr></table></figure><ul><li>在<code>/etc/profile</code>文件中添加几行文本</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo gedit /etc/profile</div></pre></td></tr></table></figure><p>在文件末尾添加如下三行文本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> MANPATH=/usr/<span class="built_in">local</span>/texlive/2015/texmf-dist/doc/man:<span class="variable">$MANPATH</span></div><div class="line"><span class="built_in">export</span> INFOPATH=/usr/<span class="built_in">local</span>/texlive/2015/texmf-dist/doc/info:<span class="variable">$INFOPATH</span></div><div class="line"><span class="built_in">export</span> PATH=/usr/<span class="built_in">local</span>/texlive/2015/bin/x86_64-linux:<span class="variable">$PATH</span></div></pre></td></tr></table></figure><p>输入如下代码，使得环境变量生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">source</span> \etc\profile</div></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ xelatex --version</div><div class="line"></div><div class="line">XeTeX 3.14159265-2.6-0.99992 (TeX Live 2015)</div></pre></td></tr></table></figure><h2 id="安装Windows字体"><a href="#安装Windows字体" class="headerlink" title="安装Windows字体"></a>安装Windows字体</h2><p>从Windwos系统中复制仿宋（<code>simfang.ttf</code>），黑体（<code>simhei.ttf</code>），楷体（<code>simkai.ttf</code>），隶书（<code>simli.ttf</code>），幼圆（<code>simyou.ttf</code>），并将其放入<code>/usr/share/fonts/WinFonts/</code>目录下。（Note：Windows 7系统中没有宋体（<code>simsun.ttf</code>），注意后缀为<code>.ttf</code>，可从网上下载 <a href="http://www.myfontfree.com/download-simsun-zip75734.htm" target="_blank" rel="external">simsong.ttf</a>）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ sudo mkdir /usr/share/fonts/WinFonts/</div><div class="line"><span class="comment"># 将前述6个字体复制到该文件下</span></div><div class="line">$ <span class="built_in">cd</span> /usr/share/fonts/WinFonts/</div><div class="line">$ sudo chmod 777 *</div><div class="line">$ sudo mkfontscale</div><div class="line">$ sudo mkfontdir</div><div class="line">$ sudo <span class="built_in">fc</span>-cache-fsv</div><div class="line">$ <span class="built_in">fc</span>-list:lang=zh-cn<span class="comment">#检查结果中是否有前述6个中文字体</span></div></pre></td></tr></table></figure><h2 id="配置xelatex-的字体配置文件"><a href="#配置xelatex-的字体配置文件" class="headerlink" title="配置xelatex 的字体配置文件"></a>配置<code>xelatex</code> 的字体配置文件</h2><p>为了在整个系统中使用 <code>TeX Live</code> 的字体，将配置文件 <code>texlive-fontconfig.conf</code> 复制到 <code>/etc/fonts/conf.d/</code> 目录下，并命名为 <code>09-texlive.conf</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo cp /usr/<span class="built_in">local</span>/texlive/2015/texmf-var/fonts/conf/texlive-fontconfig.conf /etc/fonts/conf.d/09-textlive.conf</div><div class="line">$ sudo <span class="built_in">fc</span>-cache -fsv</div></pre></td></tr></table></figure><h2 id="编译一个中文PDF"><a href="#编译一个中文PDF" class="headerlink" title="编译一个中文PDF"></a>编译一个中文PDF</h2><p>新建一个<code>tex</code>文档 <code>main.tex</code></p><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">documentclass</span><span class="string">[10pt,UTF8]</span><span class="string">&#123;ctexbook&#125;</span></span> </div><div class="line"><span class="comment">%\usepackage&#123;latexsym&#125; </span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;amsmath&#125;</span></span> </div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;amssymb&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;graphics&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;epsfig&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">topmargin</span>=<span class="number">0pt</span></span><span class="tag">\<span class="name">oddsidemargin</span>=<span class="number">0pt</span></span><span class="tag">\<span class="name">evensidemargin</span>=<span class="number">0pt</span></span> </div><div class="line"><span class="tag">\<span class="name">textwidth</span>=<span class="number">16.5cm</span></span><span class="tag">\<span class="name">textheight</span>=<span class="number">23cm</span></span><span class="tag">\<span class="name">raggedbottom</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">newtheorem</span><span class="string">&#123;thh&#125;</span><span class="string">&#123;Theorem&#125;</span></span> </div><div class="line"><span class="tag">\<span class="name">newtheorem</span><span class="string">&#123;dff&#125;</span><span class="string">&#123;Definition&#125;</span></span> </div><div class="line"><span class="tag">\<span class="name">newtheorem</span><span class="string">&#123;pr&#125;</span><span class="string">&#123;Proposition&#125;</span></span> </div><div class="line"><span class="tag">\<span class="name">newtheorem</span><span class="string">&#123;lm&#125;</span><span class="string">&#123;Lemma&#125;</span></span> </div><div class="line"><span class="tag">\<span class="name">newtheorem</span><span class="string">&#123;cl&#125;</span><span class="string">&#123;Collary&#125;</span></span> </div><div class="line"><span class="comment">%\mathindent=1.5cm </span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;document&#125;</span></span> </div><div class="line"></div><div class="line"><span class="tag">\<span class="name">date</span><span class="string">&#123;&#125;</span></span> </div><div class="line"><span class="tag">\<span class="name">title</span><span class="string">&#123;  &#123;\bf\large&#123;标题&#125;</span></span>&#125;</div><div class="line"><span class="tag">\<span class="name">footnote</span></span> &#123;<span class="tag">\<span class="name">footnotesize</span></span> 脚注&#125;&#125; </div><div class="line"><span class="tag">\<span class="name">author</span><span class="string">&#123;作者\\(&#123;\footnotesize 作者单位&#125;</span></span>) </div><div class="line"><span class="tag">\<span class="name">\</span><span class="string">&#123;\footnotesize e-mail:邮箱&#125;</span></span> &#125;</div><div class="line"><span class="tag">\<span class="name">maketitle</span></span> </div><div class="line"></div><div class="line"><span class="tag">\<span class="name">chapter</span><span class="string">&#123;第一章&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">section</span><span class="string">&#123;第一节&#125;</span></span></div><div class="line"></div><div class="line">这是一个中文书 document class。</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;document&#125;</span></span></div></pre></td></tr></table></figure><p><code>cd</code> 到<code>main.tex</code>文件所在目录下，用<code>xelatex</code>生成PDF</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ xelatex main.tex</div></pre></td></tr></table></figure><p>OK，安装完毕。</p><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="http://www.linuxdiyf.com/linux/19050.html" target="_blank" rel="external">Ubuntu 14.04 64位下安装TexLive，支持中文</a></li><li><a href="http://www.jianshu.com/p/3d02e70ba5b1" target="_blank" rel="external">使用终端安装 TeXLive</a></li></ul><p><strong>LaTeX的学习之路上布满大坑小坑，大家且填且珍惜！</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;准备工作&quot;&gt;&lt;a href=&quot;#准备工作&quot; class=&quot;headerlink&quot; title=&quot;准备工作&quot;&gt;&lt;/a&gt;准备工作&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;下载 &lt;code&gt;Texlive2015.iso&lt;/code&gt; 镜像，&lt;a href=&quot;http://mirrors.opencas.cn/ctan/systems/texlive/Images/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Texlive2015&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;删除以前的版本（若之前没有安装过，可忽略此项）&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get purge tex-common&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="latex" scheme="https://yumuzi.github.io/tags/latex/"/>
    
  </entry>
  
  <entry>
    <title>归去来兮辞</title>
    <link href="https://yumuzi.github.io/guiqulaixi.html"/>
    <id>https://yumuzi.github.io/guiqulaixi.html</id>
    <published>2016-04-30T14:55:24.000Z</published>
    <updated>2017-11-05T15:37:18.286Z</updated>
    
    <content type="html"><![CDATA[<p><em>陶渊明</em></p><p>　　归去来兮，田园将芜胡不归！既自以心为形役，奚惆怅而独悲？悟已往之不谏，知来者之可追。实迷途其未远，觉今是而昨非。舟遥遥以轻飏，风飘飘而吹衣。问征夫以前路，恨晨光之熹微。</p><a id="more"></a><p>　　乃瞻衡宇，载欣载奔。僮仆欢迎，稚子候门。三径就荒，松菊犹存。携幼入室，有酒盈樽。引壶觞以自酌，眄庭柯以怡颜。倚南窗以寄傲，审容膝之易安。园日涉以成趣，门虽设而常关。策扶老以流憩，时矫首而遐观。<strong>云无心以出岫，鸟倦飞而知还。</strong>景翳翳以将入，抚孤松而盘桓。</p><p>　　归去来兮，请息交以绝遊。世与我而相违，复驾言兮焉求？悦亲戚之情话，乐琴书以消忧。农人告余以春及，将有事于西畴。或命巾车，或棹孤舟。既窈窕以寻壑，亦崎岖而经邱。<strong>木欣欣以向荣，泉涓涓而始流。</strong>善万物之得时，感吾生之行休。</p><p>　　已矣乎！寓形宇内复几时！曷不委心任去留？胡为乎遑遑欲何之？富贵非吾愿，帝乡不可期。怀良辰以孤往，或植杖而耘耔。登东皋以舒啸，临清流而赋诗。聊乘化以归尽，乐夫天命复奚疑！</p><hr><p>《无题》<br>李商隐</p><pre><code>琴瑟无端五十弦，一弦一柱思华年。庄生晓梦迷蝴蝶，望帝春心托杜鹃。沧海月明珠有泪，蓝田日暖玉生烟。此情可待成追忆，只是当时已惘然。</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;em&gt;陶渊明&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;　　归去来兮，田园将芜胡不归！既自以心为形役，奚惆怅而独悲？悟已往之不谏，知来者之可追。实迷途其未远，觉今是而昨非。舟遥遥以轻飏，风飘飘而吹衣。问征夫以前路，恨晨光之熹微。&lt;/p&gt;
    
    </summary>
    
      <category term="讀書" scheme="https://yumuzi.github.io/categories/%E8%AE%80%E6%9B%B8/"/>
    
    
      <category term="隨筆" scheme="https://yumuzi.github.io/tags/%E9%9A%A8%E7%AD%86/"/>
    
      <category term="歌賦" scheme="https://yumuzi.github.io/tags/%E6%AD%8C%E8%B3%A6/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 系统常用软件汇总</title>
    <link href="https://yumuzi.github.io/Ubuntu-softwares.html"/>
    <id>https://yumuzi.github.io/Ubuntu-softwares.html</id>
    <published>2016-04-30T14:42:23.000Z</published>
    <updated>2017-11-05T15:34:47.437Z</updated>
    
    <content type="html"><![CDATA[<h4 id="为知笔记（WizNote）"><a href="#为知笔记（WizNote）" class="headerlink" title="为知笔记（WizNote）"></a>为知笔记（WizNote）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:wiznote-team</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install wiznote</div></pre></td></tr></table></figure><h4 id="快捷启动软件（Albert）"><a href="#快捷启动软件（Albert）" class="headerlink" title="快捷启动软件（Albert）"></a>快捷启动软件（Albert）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 使用deb软件安装包</span></div><div class="line"><span class="comment"># 因为热键被占用，需重新选择快捷键（这里选择ctrl + space）</span></div></pre></td></tr></table></figure><a id="more"></a><h4 id="搜狗输入法"><a href="#搜狗输入法" class="headerlink" title="搜狗输入法"></a>搜狗输入法</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb安装包，并安装</span></div><div class="line"><span class="comment"># 系统设置 -&gt; 语言支持 -&gt; 键盘输入方式系统：fcitx</span></div></pre></td></tr></table></figure><h4 id="chrome"><a href="#chrome" class="headerlink" title="chrome"></a>chrome</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb安装包，并安装</span></div><div class="line"><span class="comment"># 登陆账户：liyanjie2015@gmail.com</span></div></pre></td></tr></table></figure><h4 id="Redshift：保护眼睛"><a href="#Redshift：保护眼睛" class="headerlink" title="Redshift：保护眼睛"></a>Redshift：保护眼睛</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install gtk-redshift redshift python-appindicator</div><div class="line">$ gtk-redshift</div></pre></td></tr></table></figure><h4 id="Lantern"><a href="#Lantern" class="headerlink" title="Lantern"></a>Lantern</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div></pre></td></tr></table></figure><h4 id="Megasync"><a href="#Megasync" class="headerlink" title="Megasync"></a>Megasync</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div></pre></td></tr></table></figure><h4 id="ClassicMenu-Indicator"><a href="#ClassicMenu-Indicator" class="headerlink" title="ClassicMenu Indicator"></a>ClassicMenu Indicator</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div></pre></td></tr></table></figure><h4 id="Synaptic-新立得软件包管理器"><a href="#Synaptic-新立得软件包管理器" class="headerlink" title="Synaptic 新立得软件包管理器"></a>Synaptic 新立得软件包管理器</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div><div class="line"><span class="comment"># **此软件包不好找到**</span></div></pre></td></tr></table></figure><h4 id="Haroopad-（markdown编辑器）"><a href="#Haroopad-（markdown编辑器）" class="headerlink" title="Haroopad （markdown编辑器）"></a>Haroopad （markdown编辑器）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div></pre></td></tr></table></figure><h4 id="WPS"><a href="#WPS" class="headerlink" title="WPS"></a>WPS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div></pre></td></tr></table></figure><h4 id="zotero-standalone"><a href="#zotero-standalone" class="headerlink" title="zotero-standalone"></a>zotero-standalone</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:smathot/cogscinl</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install zotero-standalone</div></pre></td></tr></table></figure><h4 id="Y-PPA-Manager"><a href="#Y-PPA-Manager" class="headerlink" title="Y PPA Manager"></a>Y PPA Manager</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:webupd8team/y-ppa-manager</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install y-ppa-manager</div></pre></td></tr></table></figure><h4 id="Ubuntu-Tweak：系统管理工具"><a href="#Ubuntu-Tweak：系统管理工具" class="headerlink" title="Ubuntu Tweak：系统管理工具"></a>Ubuntu Tweak：系统管理工具</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载deb软件包，并安装</span></div></pre></td></tr></table></figure><h4 id="Unity-Tweak-Tool：桌面管理工具"><a href="#Unity-Tweak-Tool：桌面管理工具" class="headerlink" title="Unity Tweak Tool：桌面管理工具"></a>Unity Tweak Tool：桌面管理工具</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 软件中心安装</span></div></pre></td></tr></table></figure><h4 id="Synapse-Indicator：文件和程序搜索工具"><a href="#Synapse-Indicator：文件和程序搜索工具" class="headerlink" title="Synapse Indicator：文件和程序搜索工具"></a>Synapse Indicator：文件和程序搜索工具</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:noobslab/apps</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install indicator-synapse</div></pre></td></tr></table></figure><h4 id="音视频解码"><a href="#音视频解码" class="headerlink" title="音视频解码"></a>音视频解码</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install ubuntu-restricted-extras</div></pre></td></tr></table></figure><h4 id="Preload：软件预加载工具"><a href="#Preload：软件预加载工具" class="headerlink" title="Preload：软件预加载工具"></a>Preload：软件预加载工具</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install preload</div></pre></td></tr></table></figure><h4 id="控制程序自启动"><a href="#控制程序自启动" class="headerlink" title="控制程序自启动"></a>控制程序自启动</h4><p>在shell中输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ gnome-session-properties</div></pre></td></tr></table></figure><h4 id="系统状态指示器"><a href="#系统状态指示器" class="headerlink" title="系统状态指示器"></a>系统状态指示器</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:indicator-multiload/stable-daily</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install indicator-multiload</div></pre></td></tr></table></figure><h4 id="大小写状态指示器"><a href="#大小写状态指示器" class="headerlink" title="大小写状态指示器"></a>大小写状态指示器</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:tsbarnes/indicator-keylock</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install indicator-keylock</div></pre></td></tr></table></figure><h4 id="App-Grid-软件仓库"><a href="#App-Grid-软件仓库" class="headerlink" title="App Grid 软件仓库"></a>App Grid 软件仓库</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository -y ppa:appgrid/stable</div><div class="line">$ sudo apt-get update &amp;&amp; sudo apt-get install appgrid</div></pre></td></tr></table></figure><h4 id="防止启动屏保和省电模式"><a href="#防止启动屏保和省电模式" class="headerlink" title="防止启动屏保和省电模式"></a>防止启动屏保和省电模式</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:caffeine-developers/ppa</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install caffeine</div></pre></td></tr></table></figure><h4 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h4><p>详情见 <a href="http://yumuzi.github.io/2016/04/29/Hexo-Ubuntu-GithubPages/">Hexo-Ubuntu-GithubPages 搭建独立博客</a></p><h4 id="TeXLive"><a href="#TeXLive" class="headerlink" title="TeXLive"></a>TeXLive</h4><p>详情见 <a href="http://yumuzi.github.io/2016/05/04/Ubuntu-latex/">http://yumuzi.github.io/2016/05/04/Ubuntu-latex/</a></p><h4 id="oh-my-zsh"><a href="#oh-my-zsh" class="headerlink" title="oh my zsh"></a>oh my zsh</h4><p>详情见 <a href="http://yumuzi.github.io/2016/05/08/oh-my-zsh-install/">Ubuntu 安装和配置 oh-my-zsh</a></p><h4 id="Variety"><a href="#Variety" class="headerlink" title="Variety"></a>Variety</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:peterlevi/ppa</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install variety variety-slideshow</div></pre></td></tr></table></figure><h4 id="Mutate"><a href="#Mutate" class="headerlink" title="Mutate"></a>Mutate</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:mutate/ppa</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install mutate</div></pre></td></tr></table></figure><p>热键：<code>CTRL-D</code></p><h4 id="Geary"><a href="#Geary" class="headerlink" title="Geary"></a>Geary</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:yorba/ppa</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install geary</div></pre></td></tr></table></figure><h4 id="my-weather-indicator"><a href="#my-weather-indicator" class="headerlink" title="my-weather-indicator"></a>my-weather-indicator</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:atareao/atareao</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install my-weather-indicator</div></pre></td></tr></table></figure><h4 id="TLP"><a href="#TLP" class="headerlink" title="TLP"></a>TLP</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:linrunner/tlp</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install tlp tlp-rdw</div><div class="line">$ sudo tlp start</div></pre></td></tr></table></figure><h4 id="rar"><a href="#rar" class="headerlink" title="rar"></a>rar</h4><ul><li>压缩功能</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install rar</div><div class="line"></div><div class="line">$ sudo apt-get remove rar</div></pre></td></tr></table></figure><ul><li>解压功能</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install unrar</div><div class="line"></div><div class="line">$ sudo apt-get remove unrar</div></pre></td></tr></table></figure><h4 id="cairo-dock"><a href="#cairo-dock" class="headerlink" title="cairo dock"></a>cairo dock</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:cairo-dock-team/ppa</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install cairo-dock cairo-dock-plug-ins</div></pre></td></tr></table></figure><h4 id="网易云音乐（musicbox）"><a href="#网易云音乐（musicbox）" class="headerlink" title="网易云音乐（musicbox）"></a>网易云音乐（musicbox）</h4><p><a href="https://github.com/darknessomi/musicbox" target="_blank" rel="external">NetEase-MusicBox</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python-pip% 若已经安装pip2，则忽略此选项</div><div class="line">$ sudo pip2 install NetEase-MusicBox</div><div class="line">$ sudo apt-get install mpg123</div><div class="line"></div><div class="line">$ musicbox% 播放</div></pre></td></tr></table></figure><p>快捷键：</p><ul><li>j: 下移</li><li>k: 上移</li><li>h: 后退</li><li>l: 前进</li><li>u: 上一页</li><li>d: 下一页</li><li>f: 快速搜索</li><li>[: 上一曲</li><li>]: 下一曲</li><li>=: 音量增加</li><li>-: 音量减少</li><li>space: 播放/暂停</li><li>?: 手气不错</li><li>m: 主菜单</li><li>p: 当前/历史播放列表</li><li>l: 当前音乐信息</li><li>s: 添加到收藏</li><li>c: 收藏列表</li><li>r: 移除当前条目</li><li>,: 喜爱</li><li>.: 删除FM</li><li>/: 下一FM</li><li>q: 退出</li><li>w: 退出并清楚用户信息</li></ul><h4 id="calendar-indicator"><a href="#calendar-indicator" class="headerlink" title="calendar indicator"></a>calendar indicator</h4><figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="formula">$ sudo add-apt-repository ppa:atareao/atareao</span></div><div class="line"><span class="formula">$</span> sudo apt-get update</div><div class="line"><span class="formula">$ sudo apt-get install calendar-indicator</span></div></pre></td></tr></table></figure><h4 id="有道词典"><a href="#有道词典" class="headerlink" title="有道词典"></a>有道词典</h4><p>从官网直接下载安装包，安装即可。</p><h4 id="福昕阅读器"><a href="#福昕阅读器" class="headerlink" title="福昕阅读器"></a>福昕阅读器</h4><p>从官网下载安装包，并按提示安装即可。</p><h4 id="navicat-for-mysql"><a href="#navicat-for-mysql" class="headerlink" title="navicat-for-mysql"></a>navicat-for-mysql</h4><p>首先，需要安装 <code>mysql</code>，见 <a href="http://yumuzi.github.io/2016/05/23/Ubuntu-python/">Ubuntu + Python 学习之路</a></p><p>然后，现在并安装 <code>navicat for mysql</code><br>参考：<a href="https://www.navicat.com/download/navicat-for-mysql" target="_blank" rel="external">Navicat for MySQL</a>  <a href="http://taojinqu.blog.51cto.com/7849570/1289375" target="_blank" rel="external">Ubuntu Navicat for MySQL安装以及破解方案</a></p><h4 id="Oracle-JDK"><a href="#Oracle-JDK" class="headerlink" title="Oracle JDK"></a>Oracle JDK</h4><p>安装及设置java8</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:webupd8team/java</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install oracle-java8-installer</div><div class="line">$ sudo apt-get install oracle-java8-set-default</div></pre></td></tr></table></figure><h4 id="Conky"><a href="#Conky" class="headerlink" title="Conky"></a>Conky</h4><p>一个轻量系统监测器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install conky</div><div class="line">$ sudo apt-get-repository ppa:teejee2008/ppa</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install conky-manager</div></pre></td></tr></table></figure><h4 id="psensor"><a href="#psensor" class="headerlink" title="psensor"></a>psensor</h4><p>图形化电脑硬件温度</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install lm-sensors</div><div class="line">$ sudo sensors-detect</div><div class="line">$ sensors</div><div class="line">$ sudo apt-get install psensor</div></pre></td></tr></table></figure><p><em>未完待续…</em></p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;为知笔记（WizNote）&quot;&gt;&lt;a href=&quot;#为知笔记（WizNote）&quot; class=&quot;headerlink&quot; title=&quot;为知笔记（WizNote）&quot;&gt;&lt;/a&gt;为知笔记（WizNote）&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo add-apt-repository ppa:wiznote-team&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get update&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ sudo apt-get install wiznote&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;快捷启动软件（Albert）&quot;&gt;&lt;a href=&quot;#快捷启动软件（Albert）&quot; class=&quot;headerlink&quot; title=&quot;快捷启动软件（Albert）&quot;&gt;&lt;/a&gt;快捷启动软件（Albert）&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 使用deb软件安装包&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 因为热键被占用，需重新选择快捷键（这里选择ctrl + space）&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="softwares" scheme="https://yumuzi.github.io/tags/softwares/"/>
    
  </entry>
  
  <entry>
    <title>Hexo-Ubuntu-GithubPages 搭建独立博客</title>
    <link href="https://yumuzi.github.io/Hexo-Ubuntu-GithubPages.html"/>
    <id>https://yumuzi.github.io/Hexo-Ubuntu-GithubPages.html</id>
    <published>2016-04-29T07:00:43.000Z</published>
    <updated>2017-11-05T15:32:20.290Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Ubuntu-安装-node-js"><a href="#Ubuntu-安装-node-js" class="headerlink" title="Ubuntu 安装 node.js"></a>Ubuntu 安装 node.js</h3><ul><li>下载和安装nvm</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh</div><div class="line">$ <span class="built_in">source</span> ~/.nvm/nvm.sh</div></pre></td></tr></table></figure><ul><li>nvm安装好之后，通过nvm安装node.js</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># node.js当前版本号为4.4.3</span></div><div class="line">$ nvm install 4.4.3</div></pre></td></tr></table></figure><ul><li>安装完毕，可以通过命令查看node.js版本</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ node -v</div></pre></td></tr></table></figure><a id="more"></a><h3 id="Ubuntu-安装和配置-Git"><a href="#Ubuntu-安装和配置-Git" class="headerlink" title="Ubuntu 安装和配置 Git"></a>Ubuntu 安装和配置 Git</h3><ul><li>安装Git</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install git</div><div class="line">$ sudo apt-get install git-core</div></pre></td></tr></table></figure><ul><li>配置 ssh-key</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -C <span class="string">'yourgithub@email.address'</span> -t rsa</div></pre></td></tr></table></figure><ul><li>Git初始设置</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git config --global user.name <span class="string">"your real name"</span></div><div class="line">$ git config --global user.email you@email.address</div></pre></td></tr></table></figure><ul><li>提交秘钥到github</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> ~/.ssh</div><div class="line">$ ls</div></pre></td></tr></table></figure><p>会显示 “<em>idrsa  idras.pub</em>“ 两个文件，前一个是私钥，后一个是公钥。将公钥粘贴到你的github账号中的 SSH Public Keys 处即可。</p><h3 id="安装并执行-Hexo"><a href="#安装并执行-Hexo" class="headerlink" title="安装并执行 Hexo"></a>安装并执行 Hexo</h3><ul><li>安装hexo</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -g hexo-cli</div></pre></td></tr></table></figure><ul><li>初始化本地博客目录</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ mkdir Blogs</div><div class="line">$ <span class="built_in">cd</span> Blogs</div><div class="line">$ hexo init</div><div class="line">$ npm install</div></pre></td></tr></table></figure><ul><li>生成静态文件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">~/Blogs $ hexo generate</div></pre></td></tr></table></figure><ul><li>开启本地服务</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">~/Blogs $ hexo server</div></pre></td></tr></table></figure><ul><li>新建博文</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># /home/lyj/Blogs/目录下</span></div><div class="line">$ hexo new firstblog</div><div class="line">$ <span class="built_in">cd</span> <span class="built_in">source</span>/_posts</div><div class="line">$ ll</div></pre></td></tr></table></figure><ul><li>生成html文件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># /home/lyj/Blogs/ 目录下</span></div><div class="line">$ hexo generate</div><div class="line">$ hexo server</div></pre></td></tr></table></figure><ul><li>安装hexo-deployer-git</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install hexo-deployer-git --save</div></pre></td></tr></table></figure><ul><li>上传到github</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># /home/lyj/Blogs/ 目录下</span></div><div class="line">$ hexo clean</div><div class="line">$ hexo generate</div><div class="line">$ hexo deploy</div></pre></td></tr></table></figure><p><strong>大功告成！</strong></p><h3 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h3><ul><li><a href="http://yanceywang.com/2015/07/30/Ubuntu+Hexo+GithubPages%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/" target="_blank" rel="external">Hexo+Ubuntu+GithubPages搭建个人博客(基础篇)</a></li><li><a href="http://nomadlx.github.io/2015/03/15/%E4%BD%BF%E7%94%A8hexo%E5%9C%A8github%E4%B8%8A%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/" target="_blank" rel="external">使用hexo在github上搭建静态博客</a></li><li><a href="https://www.pureweber.com/article/git-and-github/" target="_blank" rel="external">Git与Github的使用(ubuntu)</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Ubuntu-安装-node-js&quot;&gt;&lt;a href=&quot;#Ubuntu-安装-node-js&quot; class=&quot;headerlink&quot; title=&quot;Ubuntu 安装 node.js&quot;&gt;&lt;/a&gt;Ubuntu 安装 node.js&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;下载和安装nvm&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt; ~/.nvm/nvm.sh&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;nvm安装好之后，通过nvm安装node.js&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# node.js当前版本号为4.4.3&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ nvm install 4.4.3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;安装完毕，可以通过命令查看node.js版本&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ node -v&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="ubuntu" scheme="https://yumuzi.github.io/tags/ubuntu/"/>
    
      <category term="hexo" scheme="https://yumuzi.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>常用软件汇总整理</title>
    <link href="https://yumuzi.github.io/softwares.html"/>
    <id>https://yumuzi.github.io/softwares.html</id>
    <published>2016-04-29T06:43:11.000Z</published>
    <updated>2017-11-05T15:33:28.264Z</updated>
    
    <content type="html"><![CDATA[<h3 id="学术工具"><a href="#学术工具" class="headerlink" title="学术工具"></a>学术工具</h3><ul><li>1Check：英语语法和拼写错误检查，可辅助写作英文论文的利器。</li><li>Beyond Compare 4：快速合并修改文件夹或文件，并生成比较报告。</li><li>Origin9：学术作图工具。</li><li>All Office Converter：PDF转Office利器。</li><li>AutoCAD 2008：土木工程专业必备。</li><li>Zotero Standalone：文献管理工具。</li><li>Netica：贝叶斯网络工具。</li></ul><h3 id="翻译"><a href="#翻译" class="headerlink" title="翻译"></a>翻译</h3><ul><li>有道词典</li><li>灵格斯词霸（Lingoes x64）</li></ul><h3 id="截图录像"><a href="#截图录像" class="headerlink" title="截图录像"></a>截图录像</h3><ul><li>Ashampoo Snap</li><li>FSCapture_en</li></ul><a id="more"></a><h3 id="笔记清单"><a href="#笔记清单" class="headerlink" title="笔记清单"></a>笔记清单</h3><ul><li>为知笔记</li><li>有道云笔记</li><li>奇妙清单</li></ul><h3 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h3><ul><li>Chrome</li><li>Lantern</li></ul><h3 id="读书娱乐"><a href="#读书娱乐" class="headerlink" title="读书娱乐"></a>读书娱乐</h3><ul><li>网易云音乐</li><li>酷我音乐</li><li>foobar2000</li><li>mcool</li><li>QQ</li><li>微信</li><li>calibre</li><li>硕鼠</li></ul><h3 id="手机-amp-数据传输"><a href="#手机-amp-数据传输" class="headerlink" title="手机&amp;数据传输"></a>手机&amp;数据传输</h3><ul><li>Pushbullet</li><li>快牙</li></ul><h3 id="编程编辑"><a href="#编程编辑" class="headerlink" title="编程编辑"></a>编程编辑</h3><ul><li>MarkdownPad2</li><li>Sublime Text 3</li><li>gVim</li><li>XAMPP</li><li>navicat</li><li>AptanaStudio3</li></ul><h3 id="云盘博客"><a href="#云盘博客" class="headerlink" title="云盘博客"></a>云盘博客</h3><ul><li>MEGAsync</li><li>Google Drive</li><li>GitHub</li><li>Dropbox</li><li>360云盘</li><li>百度云盘</li></ul><h3 id="搜索清理"><a href="#搜索清理" class="headerlink" title="搜索清理"></a>搜索清理</h3><ul><li>Everything</li><li>TotalCommanderPortable</li><li>FileLocator Pro</li><li><strong>CCleaner64</strong></li><li>Revo Uninstaller Pro</li><li><strong>UninstallTool</strong></li><li>LaunchyPortable</li><li><strong>ALTRun</strong></li><li><strong>Rolan</strong></li></ul><h3 id="电脑工具"><a href="#电脑工具" class="headerlink" title="电脑工具"></a>电脑工具</h3><ul><li>recuva</li><li>DTLite</li><li><strong>Flux</strong></li><li>VMware Workstation</li><li>DiskGenius</li><li>Defraggler64</li><li><strong>Atomic Alarm Clock</strong></li><li>RightMenuMgr</li><li>Autoruns</li><li>procexp</li><li>SUMo</li><li><strong>TeraCopy</strong></li><li><strong>MacType用户向导</strong></li><li><strong>Clover</strong></li><li><strong>Ditto</strong></li><li><strong>Listary</strong></li><li>VeraCrypt</li><li>UltraISO</li></ul><h3 id="安全广告"><a href="#安全广告" class="headerlink" title="安全广告"></a>安全广告</h3><ul><li><strong>ESET nod32</strong></li><li><strong>阿呆喵广告拦截</strong></li></ul><h3 id="邮件"><a href="#邮件" class="headerlink" title="邮件"></a>邮件</h3><ul><li><strong>Foxmail</strong></li><li><strong>网易闪电邮</strong></li></ul><h3 id="密码管理"><a href="#密码管理" class="headerlink" title="密码管理"></a>密码管理</h3><ul><li><strong>KeePass 2</strong></li></ul><h3 id="效率工具"><a href="#效率工具" class="headerlink" title="效率工具"></a>效率工具</h3><ul><li><strong>TicKeys</strong> (快捷键：QAZ123)</li><li><strong>VistaSwitcher</strong></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;学术工具&quot;&gt;&lt;a href=&quot;#学术工具&quot; class=&quot;headerlink&quot; title=&quot;学术工具&quot;&gt;&lt;/a&gt;学术工具&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;1Check：英语语法和拼写错误检查，可辅助写作英文论文的利器。&lt;/li&gt;
&lt;li&gt;Beyond Compare 4：快速合并修改文件夹或文件，并生成比较报告。&lt;/li&gt;
&lt;li&gt;Origin9：学术作图工具。&lt;/li&gt;
&lt;li&gt;All Office Converter：PDF转Office利器。&lt;/li&gt;
&lt;li&gt;AutoCAD 2008：土木工程专业必备。&lt;/li&gt;
&lt;li&gt;Zotero Standalone：文献管理工具。&lt;/li&gt;
&lt;li&gt;Netica：贝叶斯网络工具。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;翻译&quot;&gt;&lt;a href=&quot;#翻译&quot; class=&quot;headerlink&quot; title=&quot;翻译&quot;&gt;&lt;/a&gt;翻译&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;有道词典&lt;/li&gt;
&lt;li&gt;灵格斯词霸（Lingoes x64）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;截图录像&quot;&gt;&lt;a href=&quot;#截图录像&quot; class=&quot;headerlink&quot; title=&quot;截图录像&quot;&gt;&lt;/a&gt;截图录像&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Ashampoo Snap&lt;/li&gt;
&lt;li&gt;FSCapture_en&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="softwares" scheme="https://yumuzi.github.io/tags/softwares/"/>
    
      <category term="windows" scheme="https://yumuzi.github.io/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>同济大学毕业论文LATEX模板</title>
    <link href="https://yumuzi.github.io/TongjiThesis.html"/>
    <id>https://yumuzi.github.io/TongjiThesis.html</id>
    <published>2016-04-29T06:42:00.000Z</published>
    <updated>2017-11-05T15:33:50.175Z</updated>
    
    <content type="html"><![CDATA[<ul><li>模板下载地址：<a href="https://github.com/yumuzi/TONGJITHESIS" target="_blank" rel="external">TONGJITHESIS</a></li><li>该模板转载自<strong>同济大学LINUX用户组</strong>，在此向其致敬！</li><li>该模板推荐使用<strong>CTexLive2009</strong>软件套装，无需安装即可使用。当然最重要的原因是防止编译不通过，软件下载地址：<a href="http://bbs.ctex.org/forum.php?mod=viewthread&amp;tid=50728" target="_blank" rel="external">CTexLive2009</a></li><li>大家能够搜到该文章，就说明已经有了一定的LATEX基础，那么为什么不更进一步呢 &lt;-_-&gt;</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;模板下载地址：&lt;a href=&quot;https://github.com/yumuzi/TONGJITHESIS&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;TONGJITHESIS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;该模板转载自&lt;strong&gt;同济大学
      
    
    </summary>
    
      <category term="學術" scheme="https://yumuzi.github.io/categories/%E5%AD%B8%E8%A1%93/"/>
    
    
      <category term="latex" scheme="https://yumuzi.github.io/tags/latex/"/>
    
      <category term="thesis" scheme="https://yumuzi.github.io/tags/thesis/"/>
    
  </entry>
  
  <entry>
    <title>Windows 7 x86/x64 安装LaTeX教程</title>
    <link href="https://yumuzi.github.io/latex-install-manual.html"/>
    <id>https://yumuzi.github.io/latex-install-manual.html</id>
    <published>2016-04-29T06:40:36.000Z</published>
    <updated>2017-11-05T15:32:28.326Z</updated>
    
    <content type="html"><![CDATA[<p>本文章仅教如何将 latex 安装在 Windows 7 系统中，并且可以使用 UTF-8 中文编码（即编好的PDF文档可以收录中文）。对于如何使用 latex 编辑论文请参考相关 latex 书籍、Google 或参考相关文献。</p><h2 id="安装-MikTex-2-9"><a href="#安装-MikTex-2-9" class="headerlink" title="安装 MikTex 2.9"></a>安装 MikTex 2.9</h2><ul><li>软件下载网址：<a href="http://miktex.org/download" target="_blank" rel="external">MikTex 2.9</a></li><li>32-bit/64-bit 择一下载并安装。</li></ul><h2 id="更新-MiKTex"><a href="#更新-MiKTex" class="headerlink" title="更新 MiKTex"></a>更新 MiKTex</h2><ul><li>安装完 MikTex 之后到</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">开始 -&gt; 所有程序 -&gt; MikTex 2.9 -&gt; Maintenance(Admin)-&gt; MikTex Update(Admin)</div></pre></td></tr></table></figure><a id="more"></a><p>  点开后选择（默认即可）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">I want to get updated packages from a remote package repository</div></pre></td></tr></table></figure><p>执行下一步，搜索完后选择全选执行下一步，等待更新完成即可。如果没有搜素到更新就可以直接关掉程序。</p><h2 id="为-MikTex-安装xeCJK-套件（UTF-8编码用）"><a href="#为-MikTex-安装xeCJK-套件（UTF-8编码用）" class="headerlink" title="为 MikTex 安装xeCJK 套件（UTF-8编码用）"></a>为 MikTex 安装xeCJK 套件（UTF-8编码用）</h2><ul><li>进入到</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">开始 -&gt; 所有程序 -&gt; MikTex 2.9 -&gt; Maintenance(Admin)   -&gt; MikTex Package Manager(Admin)</div></pre></td></tr></table></figure><p>在“name”中搜索“xe”，并全部安装。</p><h2 id="安装编译器-Texmaker"><a href="#安装编译器-Texmaker" class="headerlink" title="安装编译器 Texmaker"></a>安装编译器 Texmaker</h2><ul><li>软件下载地址：<a href="http://www.xm1math.net/texmaker/download.html" target="_blank" rel="external">Texmaker 4.5 for Windows</a>，32-bit/64-bit通用。</li></ul><h2 id="Texmaker-配置"><a href="#Texmaker-配置" class="headerlink" title="Texmaker 配置"></a>Texmaker 配置</h2><h3 id="安装完成后，执行-Texmaker"><a href="#安装完成后，执行-Texmaker" class="headerlink" title="安装完成后，执行 Texmaker"></a>安装完成后，执行 Texmaker</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">选项 -&gt; 配置 Texmaker</div></pre></td></tr></table></figure><p>左边有四个选项，需分别对命令、快速构建和编辑器进行配置：</p><h3 id="命令："><a href="#命令：" class="headerlink" title="命令："></a>命令：</h3><p>(a) 第一项 LaTeX 中加入”xe”，变为:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xelatex -interaction=nonstopmode %.tex</div></pre></td></tr></table></figure><p>(b) Pdf查看器更改为”External Viewer”（即你的电脑上安装的PDF阅读软件），举例:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"D:/Program Files (x86)/Foxit Software/Foxit PhantomPDF/Foxit PhantomPDF.exe"</span> %.pdf</div></pre></td></tr></table></figure><h3 id="快速构建："><a href="#快速构建：" class="headerlink" title="快速构建："></a>快速构建：</h3><p>选择“用户”，将上述(a)+(b)填入空格内，中间以”|”分隔，最后结尾再补上”| bibtex %.aux|xdvi %.dvi”即可。举例:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xelatex -interaction=nonstopmode %.tex | <span class="string">"D:\Program Files (x86)\Foxit Software\Foxit PhantomPDF\Foxit PhantomPDF.exe"</span> %.pdf | bibtex %.aux|xdvi %.dvi</div></pre></td></tr></table></figure><h3 id="编辑器："><a href="#编辑器：" class="headerlink" title="编辑器："></a>编辑器：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">编辑器 -&gt; 编辑器字体编码 选择<span class="string">"UTF-8"</span></div></pre></td></tr></table></figure><hr><p><strong>完成以上配置即可开始使用latex！</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文章仅教如何将 latex 安装在 Windows 7 系统中，并且可以使用 UTF-8 中文编码（即编好的PDF文档可以收录中文）。对于如何使用 latex 编辑论文请参考相关 latex 书籍、Google 或参考相关文献。&lt;/p&gt;
&lt;h2 id=&quot;安装-MikTex-2-9&quot;&gt;&lt;a href=&quot;#安装-MikTex-2-9&quot; class=&quot;headerlink&quot; title=&quot;安装 MikTex 2.9&quot;&gt;&lt;/a&gt;安装 MikTex 2.9&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;软件下载网址：&lt;a href=&quot;http://miktex.org/download&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;MikTex 2.9&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;32-bit/64-bit 择一下载并安装。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;更新-MiKTex&quot;&gt;&lt;a href=&quot;#更新-MiKTex&quot; class=&quot;headerlink&quot; title=&quot;更新 MiKTex&quot;&gt;&lt;/a&gt;更新 MiKTex&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;安装完 MikTex 之后到&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;开始 -&amp;gt; 所有程序 -&amp;gt; MikTex 2.9 -&amp;gt; Maintenance(Admin)-&amp;gt; MikTex Update(Admin)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="latex" scheme="https://yumuzi.github.io/tags/latex/"/>
    
      <category term="windows" scheme="https://yumuzi.github.io/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>AutoLISP 开发者指南</title>
    <link href="https://yumuzi.github.io/AutoLisp.html"/>
    <id>https://yumuzi.github.io/AutoLisp.html</id>
    <published>2016-04-29T06:38:47.000Z</published>
    <updated>2017-11-05T15:29:28.922Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-引言"><a href="#1-引言" class="headerlink" title="1 引言"></a>1 引言</h2><ul><li><strong>LISP: LISt Processing language</strong></li><li>AutoCAD支持AutoLISP，但不支持许多Visual LISP functions 或 Microsoft ActiveX Automation interface</li><li>没有一个集成开发环境</li><li>Application Programming Interface (API)</li></ul><h2 id="使用AutoLISP语言"><a href="#使用AutoLISP语言" class="headerlink" title="使用AutoLISP语言"></a>使用AutoLISP语言</h2><h3 id="AutoLISP基础"><a href="#AutoLISP基础" class="headerlink" title="AutoLISP基础"></a>AutoLISP基础</h3><ul><li>能够使用 number, string and list-handing functions 来自定义AutoCAD</li><li>AutoLISP不需要编译，能够在命令行直接输入代码，并立即看到结果</li></ul><h4 id="AutoLISP表达式"><a href="#AutoLISP表达式" class="headerlink" title="AutoLISP表达式"></a>AutoLISP表达式</h4><ul><li>表达式的格式：</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">function</span>  </div><div class="line">arguments</div><div class="line">)</div></pre></td></tr></table></figure><a id="more"></a><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(<span class="name">fun1</span> (<span class="name">fun2</span></div><div class="line">arguments) (<span class="name">fun3</span></div><div class="line">arguments)</div><div class="line">)</div></pre></td></tr></table></figure><p>示例：</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">*</span> <span class="number">2</span> <span class="number">27</span>)</div><div class="line"></div><div class="line"><span class="number">54</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">*</span> <span class="number">2</span> (<span class="name">+</span> <span class="number">5</span> <span class="number">10</span>))</div><div class="line"></div><div class="line"><span class="number">30</span></div></pre></td></tr></table></figure><h5 id="AutoLISP-函数语法"><a href="#AutoLISP-函数语法" class="headerlink" title="AutoLISP 函数语法"></a>AutoLISP 函数语法</h5><ul><li>约定俗成的语法：</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">foo</span> string [number ...])</div><div class="line"></div><div class="line">foo: 函数名</div><div class="line">string: 必要参数</div><div class="line">number: 可选参数</div></pre></td></tr></table></figure><h4 id="AutoLISP-数据类型"><a href="#AutoLISP-数据类型" class="headerlink" title="AutoLISP 数据类型"></a>AutoLISP 数据类型</h4><ul><li><p>Integers: 整数</p><ul><li>32位有符号数字：+2,147,483,647 ~ -2,147,483,648（note: <code>getint</code>函数只接受16位整数（+32767 ~ -32768））</li></ul></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">2147483647</span></div><div class="line"></div><div class="line"><span class="number">2147483647</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">2147483648</span></div><div class="line"></div><div class="line"><span class="number">2.14748e+009</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">+</span> <span class="number">2147483646</span> <span class="number">3</span>)</div><div class="line"></div><div class="line"><span class="number">-2147483647</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">+</span> <span class="number">2147483648</span> <span class="number">2</span>)</div><div class="line"></div><div class="line"><span class="number">2.14748e+009</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">-2147483647</span></div><div class="line"></div><div class="line"><span class="number">-2147483647</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">-2147483648</span></div><div class="line"></div><div class="line"><span class="number">-2.14748e+009</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">-</span> <span class="number">-2147483648</span> <span class="number">1</span>)</div><div class="line"></div><div class="line"><span class="number">-2.14748e+009</span></div></pre></td></tr></table></figure><ul><li><p>Reals: 实数</p><ul><li>-1 ~ 1之间的实数必须包含前导0</li><li>实数以双精度浮点数格式存储</li><li>可用科学计数法表示</li></ul></li><li><p>Strings: 字符串</p></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"\nEnter first point:"</span></div></pre></td></tr></table></figure><ul><li>Lists: 列表</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="number">1.0</span> <span class="number">1.0</span> <span class="number">0.0</span>)</div><div class="line"></div><div class="line">(<span class="string">"this"</span> <span class="string">"that"</span> <span class="string">"the other"</span>)</div><div class="line"></div><div class="line">(<span class="number">1</span> <span class="string">"ONE"</span>)</div></pre></td></tr></table></figure><ul><li><p>Selection Sets: 选择集</p><ul><li><strong>选择集</strong>是包含一个或多个对象（或实体）的集合，你能够交互地向<strong>选择集</strong>中增加对象，或从<strong>选择集</strong>中删除对象</li><li>下面的例子用<code>ssget</code>函数返回一个<code>drawing</code>中所有对象的选择集</li></ul></li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">ssget</span> <span class="string">"X"</span>)</div><div class="line"></div><div class="line">&lt;Selection set: 6&gt;</div></pre></td></tr></table></figure><ul><li><p>Entity Names: 实体名(<em>图元名</em>)</p><ul><li>一个<strong>实体名</strong>是指派给某个<code>drawing</code>对象的数字标签</li><li>它实际上是某个AutoCAD文件中的指针，并且能被用来找到对象的数据库记录和它的向量</li><li>该标签能够被<code>AutoLISP</code>函数引用以进行各种处理</li><li>AutoCAD内部引用对象作为实体</li><li>下面的例子使用<code>entlast</code>函数得到输入<code>drawing</code>中的最后一个对象</li></ul></li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">entlast</span>)</div><div class="line"></div><div class="line">&lt;图元名: -16bbe0&gt;</div><div class="line"></div><div class="line">图元名指的是drawing中仅在当前编辑会话期间有效的对象</div></pre></td></tr></table></figure><ul><li><p>File Descriptors: 文件描述符</p><ul><li><em>文件描述符</em>是一个指向AutoLISP <code>open</code> 函数打开的文件的指针</li><li><code>open</code> 函数以字母数字标签的形式返回该指针</li><li>其他AutoLISP函数可以应用该指针读或写所指向的文件</li></ul></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> file1(<span class="name">open</span> <span class="string">"test.dwg"</span> <span class="string">"r"</span>))</div><div class="line"></div><div class="line">#&lt;file <span class="string">"test.dwg"</span>&gt;</div><div class="line">------</div><div class="line">(<span class="name">close</span> file1)</div><div class="line"></div><div class="line"><span class="literal">nil</span></div></pre></td></tr></table></figure><ul><li><p>Symbols and Variables: 象征符号与变量</p><ul><li>AutoLISP使用象征符号指代数据</li><li>象征符号名大小写<strong>不</strong>敏感，可以包含任意顺序的字母数字和符号（除了以下的<strong>限制符号</strong>）</li><li>象征符号名不能仅包含数字字符</li></ul></li></ul><table><thead><tr><th>Notation characters</th><th>descriptions</th></tr></thead><tbody><tr><td>(</td><td>(Open Parenthesis)</td></tr><tr><td>)</td><td>(Close Parenthesis)</td></tr><tr><td>.</td><td>(Period)</td></tr><tr><td>‘</td><td>(Apostrophe)</td></tr><tr><td>“</td><td>(Quote Symbol)</td></tr><tr><td>;</td><td>(Semicolon)</td></tr></tbody></table><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> str1 <span class="string">"this is a string"</span>)</div><div class="line"></div><div class="line"><span class="string">"this is a string"</span></div></pre></td></tr></table></figure><h4 id="AutoLISP-程序文件"><a href="#AutoLISP-程序文件" class="headerlink" title="AutoLISP 程序文件"></a>AutoLISP 程序文件</h4><ul><li>AutoLISP 源代码文件的扩展名为 <code>.lsp</code></li></ul><h5 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h5><ul><li>变量名、常量、函数名之间的多个空格被视作一个空格；行尾被视作一个空格</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> test1 <span class="number">123</span> test2 <span class="number">456</span>)</div><div class="line"></div><div class="line">(<span class="name">setq</span></div><div class="line">    test1 <span class="number">123</span></div><div class="line">test2 <span class="number">456</span></div><div class="line">)</div><div class="line"></div><div class="line">两者结果相同</div></pre></td></tr></table></figure><h5 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h5><ul><li>注释符号为<strong>分号</strong> <code>;</code>, <code>;| ... |;</code>，注释可用来做以下事情：<ul><li>给出题目、作者和创建日期</li><li>提供使用说明</li><li>做解释性的备注</li><li>在调试过程中做备注</li></ul></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; This entire line is a comment</span></div><div class="line">(<span class="name">setq</span> area (<span class="name">*</span> pi r r)) <span class="comment">; Compute area of circle</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 行内注释</span></div><div class="line">(<span class="name">setq</span> tmode <span class="comment">;|some note here|; (getvar "tilemode"))</span></div></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 多行注释</span></div><div class="line">(<span class="name">setvar</span> <span class="string">"orthomode"</span> <span class="number">1</span>) <span class="comment">;|comment starts here</span></div><div class="line">and continues to this line,</div><div class="line">but ends way down here|; (princ "\nORTHOMODE set On.")</div></pre></td></tr></table></figure><h5 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h5><ul><li><code>setq</code> 函数将值赋给变量</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span></div><div class="line">variable_name1 value1 [variable_name2 value2 ...]</div><div class="line">)</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">set</span> val <span class="number">3</span> abc <span class="number">3.875</span>)</div><div class="line"></div><div class="line"><span class="number">3.875</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> layr <span class="string">"EXTERIOR-WALLS"</span>)</div><div class="line"></div><div class="line"><span class="string">"EXTERIOR-WALLS"</span></div></pre></td></tr></table></figure><ul><li>显示变量的值，用 <code>!</code></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">!abc</div><div class="line"></div><div class="line"><span class="number">3.875</span></div></pre></td></tr></table></figure><ul><li><code>nil</code> 变量<ul><li>没有被赋值的变量；不同于空（<code>blank</code>），也不同于<code>0</code>，前者是一个字符串，后者是一个数字</li><li>设置一个变量为<code>Nil</code>将释放掉该变量值所占据的内存空间</li></ul></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> val <span class="literal">nil</span>)</div><div class="line"></div><div class="line"><span class="literal">nil</span></div></pre></td></tr></table></figure><ul><li>预定义变量<ul><li><code>PAUSE</code>: 包含<code>\\</code>的一个字符串，该变量配合<code>command</code>函数来暂停用户输入</li><li><code>PI</code>: 一个常量，近似等于<code>3.14159</code></li><li><code>T</code>: 一个常量，被用作一个<code>non-nil</code>值</li><li><strong>注意：这些预定义变量的值可以使用<code>setq</code>函数来修改，但不建议这样做</strong></li></ul></li></ul><h4 id="数字处理"><a href="#数字处理" class="headerlink" title="数字处理"></a>数字处理</h4><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">*</span> <span class="number">2.5</span> <span class="number">13</span>)</div><div class="line"></div><div class="line"><span class="number">32.5</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">/</span> <span class="number">12</span> <span class="number">5</span>)</div><div class="line"></div><div class="line"><span class="number">2</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">/</span> <span class="number">12.0</span> <span class="number">5</span>)</div><div class="line"></div><div class="line"><span class="number">2.4</span></div></pre></td></tr></table></figure><h4 id="字符串处理"><a href="#字符串处理" class="headerlink" title="字符串处理"></a>字符串处理</h4><ul><li><code>strcase</code> 函数用来转换字母大小写，包含两个参数：一个字符串，一个可选参数</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">strcase</span> <span class="string">"This is a TEST."</span>)</div><div class="line"></div><div class="line"><span class="string">"THIS IS A TEST."</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">strcase</span> <span class="string">"This is a TEST."</span> T)</div><div class="line"></div><div class="line"><span class="string">"this is a test."</span></div></pre></td></tr></table></figure><ul><li><code>strcat</code> 函数将多个字符串合并为一个字符串</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> str <span class="string">"BIG"</span>)(<span class="name">setq</span> bigstr (<span class="name">strcat</span> <span class="string">"This is a "</span> str <span class="string">" test."</span>))</div><div class="line"></div><div class="line"><span class="string">"This is a BIG test."</span></div></pre></td></tr></table></figure><ul><li><code>strlen</code> 函数返回字符串长度</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">strlen</span> bigstr)</div><div class="line"></div><div class="line"><span class="number">19</span></div></pre></td></tr></table></figure><ul><li><p><code>substr</code> 函数返回一个字符串的子串，包含2个必要参数和一个可选参数：<em>字符串、第一个字母的位置(从1开)和字母的数量</em></p><ul><li>定义一个文件名，获取子串</li></ul></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> filnam <span class="string">"bigfile.txt"</span>)</div><div class="line"></div><div class="line"><span class="string">"bigfile.txt"</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> newlen (<span class="name">-</span> (<span class="name">strlen</span> filnam) <span class="number">4</span>))</div><div class="line"></div><div class="line"><span class="number">7</span></div><div class="line">------</div><div class="line">(<span class="name">substr</span> filnam <span class="number">1</span> newlen)</div><div class="line"></div><div class="line"><span class="string">"bigfile"</span></div><div class="line"></div><div class="line">或者，合并为一行代码：</div><div class="line"></div><div class="line">(<span class="name">substr</span> filnam <span class="number">1</span> (<span class="name">-</span> (<span class="name">strlen</span> filnam) <span class="number">4</span>))</div><div class="line"></div><div class="line"><span class="string">"bigfile"</span></div></pre></td></tr></table></figure><h4 id="基本输出函数"><a href="#基本输出函数" class="headerlink" title="基本输出函数"></a>基本输出函数</h4><h5 id="文本输出"><a href="#文本输出" class="headerlink" title="文本输出"></a>文本输出</h5><ul><li>主要的文本输出函数包括：</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">prin1</div><div class="line">princ</div><div class="line">print</div><div class="line">prompt</div></pre></td></tr></table></figure><ul><li><code>princ</code>: 输出无引号封闭的字符串</li><li><code>prinl</code>: 输出有引号封闭的字符串</li><li><code>print</code>: 输出有引号封闭的字符串，但在表达式前放一个空行，其后放一个空格</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> str <span class="string">"The \"allowable\" tolerance is 1\/4"</span>)</div><div class="line"></div><div class="line"><span class="string">"The \"allowable\" tolerance is 1/4"</span></div><div class="line"></div><div class="line">(<span class="name">prompt</span> str)</div><div class="line"></div><div class="line">The <span class="string">"allowable"</span> tolerance is <span class="number">1/4</span><span class="literal">nil</span></div><div class="line"></div><div class="line">(<span class="name">princ</span> str)</div><div class="line"></div><div class="line">The <span class="string">"allowable"</span> tolerance is <span class="number">1/4</span><span class="string">"The \"allowable\" tolerance is 1/4"</span></div><div class="line"></div><div class="line">(<span class="name">prin1</span> str)</div><div class="line"></div><div class="line"><span class="string">"The \"allowable\" tolerance is 1/4"</span><span class="string">"The \"allowable\" tolerance is 1/4"</span></div><div class="line"></div><div class="line">(<span class="name">print</span> str)</div><div class="line"></div><div class="line"><span class="string">"The \"allowable\" tolerance is 1/4"</span> <span class="string">"The \"allowable\" tolerance is 1/4"</span></div></pre></td></tr></table></figure><ul><li>安静退出：使用一个不带参数的 <code>princ</code> 函数</li></ul><h5 id="控制字符串中的字母"><a href="#控制字符串中的字母" class="headerlink" title="控制字符串中的字母"></a>控制字符串中的字母</h5><table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>\</td><td>\</td></tr><tr><td>\”</td><td>“</td></tr><tr><td>\e</td><td>Escape character</td></tr><tr><td>\n</td><td>Newline character</td></tr><tr><td>\r</td><td>Return character</td></tr><tr><td>\t</td><td>Tab character</td></tr><tr><td>\nnn</td><td>八进制编码nnn的字符</td></tr></tbody></table><ul><li><code>prompt</code> 和 <code>princ</code> 扩展了这些控制字符</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">princ</span> <span class="string">"The \"filename\" is: /ACAD/TEST.TXT."</span>)</div><div class="line"></div><div class="line">The "filename" is: /ACAD/TEST.TXT."The \"filename\" is: /ACAD/TEST.TXT."</div></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(<span class="name">prompt</span> <span class="string">"An example of the \nnewline character."</span>)</div><div class="line"></div><div class="line">An example of the</div><div class="line">newline character.nil</div></pre></td></tr></table></figure><h5 id="通配符匹配"><a href="#通配符匹配" class="headerlink" title="通配符匹配"></a>通配符匹配</h5><ul><li>通配符(wild-card)与其它语言的正则表达式(regular expressions)类似</li><li><code>wcmatch</code> 函数能够用来进行字符串和通配符的比较</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> matchme <span class="string">"this is a string - test1 test2 the end"</span>)</div><div class="line"></div><div class="line"><span class="string">"this is a string - test1 test2 the end"</span></div><div class="line"></div><div class="line">(<span class="name">wcmatch</span> matchme <span class="string">"this*"</span>)</div><div class="line"></div><div class="line">T</div><div class="line"></div><div class="line"><span class="comment">; 如果包含 "test4", "test5", "test6" or "test9"，将返回 T</span></div><div class="line">(<span class="name">wcmatch</span> matchme <span class="string">"*test[4-69]*"</span>)</div><div class="line"></div><div class="line"><span class="literal">nil</span></div><div class="line"></div><div class="line">(<span class="name">wcmatch</span> matchme <span class="string">"*test[4-61]*"</span>)</div><div class="line"></div><div class="line">T</div><div class="line"></div><div class="line">(<span class="name">wcmatch</span> matchme <span class="string">"ABC,XYZ*,*end"</span>)</div><div class="line"></div><div class="line">T</div></pre></td></tr></table></figure><h4 id="等式和条件"><a href="#等式和条件" class="headerlink" title="等式和条件"></a>等式和条件</h4><ul><li>AutoLISP 在某些情况下会自动将象征表名转化为大写，此时进行比较时可能需要用到 <code>strcase</code> 函数</li></ul><h4 id="列表处理"><a href="#列表处理" class="headerlink" title="列表处理"></a>列表处理</h4><ul><li>列表中的项不需要数据类型相同</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> lst1 (<span class="name">list</span> <span class="number">1.0</span> <span class="string">"One"</span> <span class="number">1</span>))</div><div class="line"></div><div class="line">(<span class="number">1.0</span> <span class="string">"One"</span> <span class="number">1</span>)</div></pre></td></tr></table></figure><ul><li><code>nth</code> 函数检索列表中的某一项，包含两个参数：<em>起始序号(从0开始)，列表本身</em></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">nth</span> <span class="number">1</span> lst1)</div><div class="line"></div><div class="line"><span class="string">"One"</span></div></pre></td></tr></table></figure><ul><li><code>cdr</code> 函数返回除第一个元素外的所有元素</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">cdr</span> lst1)</div><div class="line"></div><div class="line">(<span class="string">"One"</span> <span class="number">1</span>)</div></pre></td></tr></table></figure><ul><li><code>append</code> 函数向列表尾增加一个新项，并返回一个新列表；并且其所有参数必须是列表</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 注意：quote函数（or '）很容易将一个字符串添加进一个列表</span></div><div class="line">(<span class="name">setq</span> lst2 (<span class="name">append</span> lst1 '(<span class="string">"One"</span>)))</div><div class="line"></div><div class="line">(<span class="number">1.0</span> <span class="string">"One"</span> <span class="number">1</span> <span class="string">"One"</span>)</div></pre></td></tr></table></figure><ul><li><code>cons</code>函数向列表头增加一个新项，并返回一个新列表</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> lst3 (<span class="name">cons</span> <span class="string">"Ones"</span> lst2))</div><div class="line"></div><div class="line">(<span class="string">"Ones"</span> <span class="number">1.0</span> <span class="string">"One"</span> <span class="number">1</span> <span class="string">"One"</span>)</div></pre></td></tr></table></figure><ul><li><code>subst</code>函数用新项替换掉原列表中所有出现的老项，并返回一个新列表</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> lst4 (<span class="name">subst</span> <span class="string">"one"</span> <span class="string">"One"</span> lst3))</div><div class="line"></div><div class="line">(<span class="string">"Ones"</span> <span class="number">1.0</span> <span class="string">"one"</span> <span class="number">1</span> <span class="string">"one"</span>)</div></pre></td></tr></table></figure><h5 id="点列表"><a href="#点列表" class="headerlink" title="点列表"></a>点列表</h5><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">list</span> <span class="number">3.875</span> <span class="number">1.23</span>)</div><div class="line"></div><div class="line">(<span class="number">3.875</span> <span class="number">1.23</span>)</div><div class="line"></div><div class="line">(<span class="name">list</span> <span class="number">88.0</span> <span class="number">14.77</span> <span class="number">3.14</span>)</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> pt1 (<span class="name">list</span> <span class="number">3.875</span> <span class="number">1.23</span>))</div><div class="line"></div><div class="line">(<span class="number">3.875</span> <span class="number">1.23</span>)</div><div class="line"></div><div class="line">(<span class="name">setq</span> pt2 (<span class="name">list</span> <span class="number">88.0</span> <span class="number">14.77</span> <span class="number">3.14</span>))</div><div class="line"></div><div class="line">(<span class="number">88.0</span> <span class="number">14.77</span> <span class="number">3.14</span>)</div><div class="line"></div><div class="line">(<span class="name">setq</span> abc <span class="number">3.45</span>)</div><div class="line"></div><div class="line"><span class="number">3.45</span></div><div class="line"></div><div class="line">(<span class="name">setq</span> pt3 (<span class="name">list</span> abc <span class="number">1.23</span>))</div><div class="line"></div><div class="line">(<span class="number">3.45</span> <span class="number">1.23</span>)</div></pre></td></tr></table></figure><ul><li>当列表的所有项均为常数时，可使用 <code>quote</code> 函数</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> pt1 (<span class="name">quote</span> (<span class="number">4.5</span> <span class="number">7.5</span>)))</div><div class="line"></div><div class="line">(<span class="number">4.5</span> <span class="number">7.5</span>)</div><div class="line"></div><div class="line"><span class="comment">; 功能同上</span></div><div class="line">(<span class="name">setq</span> pt1 '(<span class="number">4.5</span> <span class="number">7.5</span>))</div><div class="line"></div><div class="line">(<span class="number">4.5</span> <span class="number">7.5</span>)</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> pt '(<span class="number">1.5</span> <span class="number">3.2</span> <span class="number">2.0</span>))</div><div class="line"></div><div class="line">(<span class="number">1.5</span> <span class="number">3.2</span> <span class="number">2.0</span>)</div></pre></td></tr></table></figure><ul><li><code>car</code> 函数返回列表的第一项</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> x_val (<span class="name">car</span> pt))</div><div class="line"></div><div class="line"><span class="number">1.5</span></div></pre></td></tr></table></figure><ul><li><code>cadr</code> 函数返回列表的第二项</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> y_val (<span class="name">cadr</span> pt))</div><div class="line"></div><div class="line"><span class="number">3.2</span></div></pre></td></tr></table></figure><ul><li><code>caddr</code> 函数返回列表的第三项</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> z_val (<span class="name">caddr</span> pt))</div><div class="line"></div><div class="line"><span class="number">2.0</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 定义矩形的左下角和右上角坐标</span></div><div class="line">(<span class="name">setq</span> pt1 '(<span class="number">1.0</span> <span class="number">2.0</span>) pt2 '(<span class="number">3.0</span> <span class="number">4.0</span>))</div><div class="line"></div><div class="line">(<span class="number">3.0</span> <span class="number">4.0</span>)</div><div class="line"></div><div class="line"><span class="comment">; 定义坐标的左上角坐标</span></div><div class="line">(<span class="name">setq</span> pt3 (<span class="name">list</span> (<span class="name">car</span> pt1) (<span class="name">cadr</span> pt2)))</div><div class="line"></div><div class="line">(<span class="number">1.0</span> <span class="number">4.0</span>)</div></pre></td></tr></table></figure><ul><li>AutoLISP 支持 <code>car</code> 和 <code>cdr</code> 最深<code>4</code>层的串联</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">caar</span> x)<span class="comment">; 等同于 (car (car x))</span></div><div class="line"></div><div class="line">(<span class="name">cdar</span> x)<span class="comment">; 等同于 (cdr (car x))</span></div><div class="line"></div><div class="line">(<span class="name">cadar</span> x)<span class="comment">; 等同于 (car (cdr (car x)))</span></div></pre></td></tr></table></figure><h5 id="点对-dotted-pairs"><a href="#点对-dotted-pairs" class="headerlink" title="点对(dotted pairs)"></a>点对(dotted pairs)</h5><ul><li>点对列表必须总是包含2项</li><li>大多数列表处理函数不接受点对作为一个参数</li><li><code>car, cdr, assoc</code> 函数可以处理点对</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> sublist (<span class="name">cons</span> 'lyr <span class="string">"WALLS"</span>))</div><div class="line"></div><div class="line">(<span class="name">LYR</span> . <span class="string">"WALLS"</span>)</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> wallinfo (<span class="name">list</span> sublist (<span class="name">cons</span> 'len <span class="number">240.0</span>) (<span class="name">cons</span> 'hgt <span class="number">96.0</span>)))</div><div class="line"></div><div class="line">((<span class="name">LYR</span> . <span class="string">"WALLS"</span>) (<span class="name">LEN</span> . <span class="number">240.0</span>) (<span class="name">HGT</span> . <span class="number">96.0</span>))</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">(<span class="name">assoc</span> 'len wallinfo)</div><div class="line"></div><div class="line">(<span class="name">LEN</span> . <span class="number">240.0</span>)</div><div class="line"></div><div class="line">(<span class="name">cdr</span> (<span class="name">assoc</span> 'lyr wallinfo))</div><div class="line"></div><div class="line"><span class="string">"WALLS"</span></div><div class="line"></div><div class="line">(<span class="name">nth</span> <span class="number">1</span> wallinfo)</div><div class="line"></div><div class="line">(<span class="name">LEN</span> . <span class="number">240.0</span>)</div><div class="line"></div><div class="line">(<span class="name">car</span> (<span class="name">nth</span> <span class="number">1</span> wallinfo))</div><div class="line"></div><div class="line">LEN</div></pre></td></tr></table></figure><h4 id="符号和函数处理"><a href="#符号和函数处理" class="headerlink" title="符号和函数处理"></a>符号和函数处理</h4><h5 id="用-defun-定义一个函数"><a href="#用-defun-定义一个函数" class="headerlink" title="用 defun 定义一个函数"></a>用 <code>defun</code> 定义一个函数</h5><ul><li><code>defun</code> 函数要求至少三个参数：函数名、参数列表和表达式</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defun</span> symbol_name (<span class="name">args</span> / local_variables) expressions)</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defun</span> DONE () (<span class="name">prompt</span> <span class="string">"\nbye!"</span>))</div><div class="line"></div><div class="line">DONE</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">(<span class="name">prompt</span> <span class="string">"The value is 127."</span>)(<span class="name">DONE</span>)</div><div class="line"></div><div class="line">The value is 127.</div><div class="line">bye!nil</div><div class="line">------</div><div class="line">(<span class="name">prompt</span> <span class="string">"The value is 127."</span>)(<span class="name">DONE</span>)(<span class="name">princ</span>)</div><div class="line"></div><div class="line">The value is 127.</div><div class="line">bye!</div></pre></td></tr></table></figure><h5 id="C-XXX-函数"><a href="#C-XXX-函数" class="headerlink" title="C:XXX 函数"></a><code>C:XXX</code> 函数</h5><ul><li>可以用此函数定义新的命令或重定义已有的命令</li><li>必须服从以下规则：<ul><li>函数名必须为<code>C:XXX</code> 或 <code>C:xxx</code>形式：<code>C:</code> 部分必须存在；<code>XXX</code> 为你定义的命令名</li><li>不能带参数(除了 <code>local variables</code>)</li></ul></li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defun</span> C<span class="symbol">:HELLO</span> () (<span class="name">princ</span> <span class="string">"Hello world. \n"</span>)(<span class="name">princ</span>))</div><div class="line"></div><div class="line">C:HELLO</div></pre></td></tr></table></figure><ul><li>重定义AutoCAD命令</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defun</span> C<span class="symbol">:LINE</span> () (<span class="name">princ</span> <span class="string">"Shouldn't you be using PLINE?\n"</span>) (<span class="name">command</span> <span class="string">".LINE"</span>)(<span class="name">princ</span>))</div><div class="line"></div><div class="line">C:LINE</div><div class="line"></div><div class="line">(<span class="name">command</span> <span class="string">"undefine"</span> <span class="string">"line"</span>)</div></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 禁止输出重复信息</span></div><div class="line">(<span class="name">defun</span> C<span class="symbol">:LINE</span> (<span class="name">/</span> cmdsave) (<span class="name">setq</span> cmdsave (<span class="name">getvar</span> <span class="string">"cmdecho"</span>)) (<span class="name">setvar</span> <span class="string">"cmdecho"</span> <span class="number">0</span>) (<span class="name">princ</span> <span class="string">"Shouldn't you be using PLINE?\n"</span>) (<span class="name">command</span> <span class="string">".LINE"</span>) (<span class="name">setvar</span> <span class="string">"cmdecho"</span> cmdsave) (<span class="name">princ</span>))</div><div class="line"></div><div class="line">C:LINE</div></pre></td></tr></table></figure><ul><li>重定义命令后，要使用原内置命令，可以使用<code>.</code>前缀命令，如<code>.line</code></li></ul><h5 id="函数中的局部变量-local-variables"><a href="#函数中的局部变量-local-variables" class="headerlink" title="函数中的局部变量 local variables"></a>函数中的局部变量 <code>local variables</code></h5><ul><li>声明全局变量：<code>*default-layer*</code></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 定义带局部变量的函数</span></div><div class="line">(<span class="name">defun</span> LOCAL (<span class="name">/</span> aaa bbb)</div><div class="line">(<span class="name">setq</span> aaa <span class="string">"A"</span> bbb <span class="string">"B"</span>)</div><div class="line">(<span class="name">princ</span> (<span class="name">strcat</span> <span class="string">"\naaa has the value "</span> aaa))</div><div class="line">(<span class="name">princ</span> (<span class="name">strcat</span> <span class="string">"\nbbb has the value "</span> bbb))</div><div class="line">(<span class="name">princ</span>))</div><div class="line"></div><div class="line">LOCAL</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> aaa <span class="number">1</span> bbb <span class="number">2</span>)</div><div class="line"></div><div class="line"><span class="number">2</span></div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(<span class="name">local</span>)</div><div class="line"></div><div class="line">aaa has the value A</div><div class="line">bbb has the value B</div></pre></td></tr></table></figure><h5 id="带参函数"><a href="#带参函数" class="headerlink" title="带参函数"></a>带参函数</h5><ul><li>用户自定义函数不能包含<em>可选参数</em></li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">; 注意：这里不能使用 princ 函数抑制程序返回值</span></div><div class="line">(<span class="name">defun</span> ARGTEST (<span class="name">arg1</span> arg2 / ccc)</div><div class="line">(<span class="name">setq</span> ccc <span class="string">"Constant string"</span>)</div><div class="line">(<span class="name">strcat</span> ccc <span class="string">", "</span> arg1 <span class="string">", "</span> arg2))</div><div class="line"></div><div class="line">ARGTEST</div></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">(<span class="name">setq</span> newstr (<span class="name">ARGTEST</span> <span class="string">"String 1"</span> <span class="string">"String 2"</span>))</div><div class="line"></div><div class="line"><span class="string">"Constant string, String 1, String 2"</span></div><div class="line"></div><div class="line"><span class="comment">; 程序执行完成，局部变量`ccc`所占用的内存空间就被释放了</span></div><div class="line">!ccc</div><div class="line"></div><div class="line"><span class="literal">nil</span></div></pre></td></tr></table></figure><ul><li>特殊形式</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">and</div><div class="line">command</div><div class="line">cond</div><div class="line">defun</div><div class="line">defun-q</div><div class="line">foreach</div><div class="line">function</div><div class="line">if</div><div class="line">lambda</div><div class="line">or</div><div class="line">progn</div><div class="line">quote</div><div class="line">repeat</div><div class="line">setq</div><div class="line">trace</div><div class="line">untrace</div><div class="line">vlax-for</div><div class="line">while</div></pre></td></tr></table></figure><h3 id="AutoLISP-中的错误处理"><a href="#AutoLISP-中的错误处理" class="headerlink" title="AutoLISP 中的错误处理"></a>AutoLISP 中的错误处理</h3><p><code>*error*</code> 函数<br><code>vl-catch-all-apply</code> 函数</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="name">alert</span> <span class="string">"File not found"</span>)</div><div class="line"></div><div class="line"><span class="comment">; 将弹出一个警告框</span></div></pre></td></tr></table></figure><h2 id="使用AutoLISP与AutoCAD进行交流"><a href="#使用AutoLISP与AutoCAD进行交流" class="headerlink" title="使用AutoLISP与AutoCAD进行交流"></a>使用AutoLISP与AutoCAD进行交流</h2><h3 id="访问命令与服务"><a href="#访问命令与服务" class="headerlink" title="访问命令与服务"></a>访问命令与服务</h3><h4 id="命令提交"><a href="#命令提交" class="headerlink" title="命令提交"></a>命令提交</h4><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">command</span> <span class="string">"circle"</span> <span class="string">"0,0"</span> <span class="string">"3,3"</span>)</div><div class="line">(<span class="name">command</span> <span class="string">"thickness"</span> <span class="number">1</span>)</div><div class="line">(<span class="name">setq</span> p1 '(<span class="number">1.0</span> <span class="number">1.0</span> <span class="number">3.0</span>))</div><div class="line">(<span class="name">setq</span> rad <span class="number">4.5</span>)</div><div class="line">(<span class="name">command</span> <span class="string">"circle"</span> p1 rad)</div></pre></td></tr></table></figure><ul><li><p>外国语支持</p></li><li><p>暂停用户输入</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-引言&quot;&gt;&lt;a href=&quot;#1-引言&quot; class=&quot;headerlink&quot; title=&quot;1 引言&quot;&gt;&lt;/a&gt;1 引言&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;LISP: LISt Processing language&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;AutoCAD支持AutoLISP，但不支持许多Visual LISP functions 或 Microsoft ActiveX Automation interface&lt;/li&gt;
&lt;li&gt;没有一个集成开发环境&lt;/li&gt;
&lt;li&gt;Application Programming Interface (API)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;使用AutoLISP语言&quot;&gt;&lt;a href=&quot;#使用AutoLISP语言&quot; class=&quot;headerlink&quot; title=&quot;使用AutoLISP语言&quot;&gt;&lt;/a&gt;使用AutoLISP语言&lt;/h2&gt;&lt;h3 id=&quot;AutoLISP基础&quot;&gt;&lt;a href=&quot;#AutoLISP基础&quot; class=&quot;headerlink&quot; title=&quot;AutoLISP基础&quot;&gt;&lt;/a&gt;AutoLISP基础&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;能够使用 number, string and list-handing functions 来自定义AutoCAD&lt;/li&gt;
&lt;li&gt;AutoLISP不需要编译，能够在命令行直接输入代码，并立即看到结果&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;AutoLISP表达式&quot;&gt;&lt;a href=&quot;#AutoLISP表达式&quot; class=&quot;headerlink&quot; title=&quot;AutoLISP表达式&quot;&gt;&lt;/a&gt;AutoLISP表达式&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;表达式的格式：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight lisp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;(&lt;span class=&quot;name&quot;&gt;function&lt;/span&gt;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;arguments&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技術" scheme="https://yumuzi.github.io/categories/%E6%8A%80%E8%A1%93/"/>
    
    
      <category term="autolisp" scheme="https://yumuzi.github.io/tags/autolisp/"/>
    
      <category term="autocad" scheme="https://yumuzi.github.io/tags/autocad/"/>
    
  </entry>
  
</feed>
